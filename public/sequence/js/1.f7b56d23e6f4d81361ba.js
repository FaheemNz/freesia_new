/*! For license information please see 1.f7b56d23e6f4d81361ba.js.LICENSE.txt */
/*

*/
(window.webpackJsonp = window.webpackJsonp || []).push([
    [1],
    Array(85).concat([
        function (e, t, i) {
            (function (t) {
                var i;
                (i = "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {}), (e.exports = i);
            }.call(this, i(58)));
        },
        function (e, t, i) {
            "use strict";
            function n(e) {
                const t = (function (e) {
                        if ("container" in e) return { width: e.container.clientWidth, height: e.container.clientHeight };
                        return { width: e.width, height: e.height };
                    })(e),
                    i = (function (e) {
                        const { source: t } = e;
                        if (t instanceof HTMLVideoElement) return { width: t.videoWidth, height: t.videoHeight };
                        return { width: t.width, height: t.height };
                    })(e);
                let n;
                return (
                    "cover" === e.rule
                        ? (n = (function (e, t, i) {
                              let n = t.width * r(e),
                                  s = (i.height * n) / i.width;
                              s < t.height && ((s = t.height * r(e)), (n = (i.width * s) / i.height));
                              const a = (t.width - n) / 2,
                                  o = (t.height - s) / 2;
                              return { width: n, height: s, x: a, y: o };
                          })(e, t, i))
                        : "contain" === e.rule
                        ? (n = (function (e, t, i) {
                              let n = 0,
                                  s = 0;
                              i.width > i.height ? ((n = t.width * r(e)), (s = (i.height * n) / i.width)) : i.height >= i.width && ((s = t.height * r(e)), (n = (i.width * s) / i.height));
                              const a = (t.width - n) / 2,
                                  o = (t.height - s) / 2;
                              return { width: n, height: s, x: a, y: o };
                          })(e, t, i))
                        : "top-left" === e.rule
                        ? (n = (function (e, t) {
                              const i = t.width * r(e),
                                  n = t.height * r(e);
                              return { width: i, height: n, x: 0, y: 0 };
                          })(e, i))
                        : "top-right" === e.rule
                        ? (n = (function (e, t, i) {
                              const n = i.width * r(e),
                                  s = i.height * r(e),
                                  a = t.width - i.width;
                              return { width: n, height: s, x: a, y: 0 };
                          })(e, t, i))
                        : "bottom-left" === e.rule
                        ? (n = (function (e, t, i) {
                              const n = i.width * r(e),
                                  s = i.height * r(e),
                                  a = t.height - i.height;
                              return { width: n, height: s, x: 0, y: a };
                          })(e, t, i))
                        : "bottom-right" === e.rule
                        ? (n = (function (e, t, i) {
                              const n = i.width * r(e),
                                  s = i.height * r(e),
                                  a = t.width - i.width,
                                  o = t.height - i.height;
                              return { width: n, height: s, x: a, y: o };
                          })(e, t, i))
                        : "center" === e.rule &&
                          (n = (function (e, t, i) {
                              const n = i.width * r(e),
                                  s = i.height * r(e),
                                  a = (t.width - i.width) / 2,
                                  o = (t.height - i.height) / 2;
                              return { width: n, height: s, x: a, y: o };
                          })(e, t, i)),
                    Object.assign(n, { sourceWidth: i.width, sourceHeight: i.height })
                );
            }
            function r(e) {
                return void 0 !== e.scale ? e.scale : 1;
            }
            function s(e) {
                const t = n(e),
                    { source: i } = e;
                (i.style.position = "absolute"), (i.style.left = `${t.x}px`), (i.style.top = `${t.y}px`), (i.style.width = `${t.width}px`), (i.style.height = `${t.height}px`);
            }
            i.d(t, "b", function () {
                return n;
            }),
                i.d(t, "a", function () {
                    return s;
                });
        },
        ,
        function (e) {
            e.exports = {
                toUnsigned: function (e) {
                    return e >>> 0;
                },
                toHexString: function (e) {
                    return ("00" + e.toString(16)).slice(-2);
                },
            };
        },
        ,
        function (e) {
            function t() {
                return (
                    (e.exports = t =
                        Object.assign ||
                        function (e) {
                            for (var t = 1; t < arguments.length; t++) {
                                var i = arguments[t];
                                for (var n in i) Object.prototype.hasOwnProperty.call(i, n) && (e[n] = i[n]);
                            }
                            return e;
                        }),
                    t.apply(this, arguments)
                );
            }
            e.exports = t;
        },
        function (e) {
            e.exports = function (e) {
                if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                return e;
            };
        },
        function (e, t, i) {
            "use strict";
            var n;
            function r(e) {
                return (r =
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? function (e) {
                              return typeof e;
                          }
                        : function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          })(e);
            }
            function s(e, t) {
                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
            }
            function a(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                }
            }
            function o(e, t, i) {
                return (o =
                    "undefined" != typeof Reflect && Reflect.get
                        ? Reflect.get
                        : function (e, t, i) {
                              var n = (function (e, t) {
                                  for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = d(e)); );
                                  return e;
                              })(e, t);
                              if (n) {
                                  var r = Object.getOwnPropertyDescriptor(n, t);
                                  return r.get ? r.get.call(i) : r.value;
                              }
                          })(e, t, i || e);
            }
            function l(e, t) {
                return (l =
                    Object.setPrototypeOf ||
                    function (e, t) {
                        return (e.__proto__ = t), e;
                    })(e, t);
            }
            function u(e) {
                var t = (function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                    } catch (e) {
                        return !1;
                    }
                })();
                return function () {
                    var i,
                        n = d(e);
                    if (t) {
                        var r = d(this).constructor;
                        i = Reflect.construct(n, arguments, r);
                    } else i = n.apply(this, arguments);
                    return c(this, i);
                };
            }
            function c(e, t) {
                return !t || ("object" !== r(t) && "function" != typeof t)
                    ? (function (e) {
                          if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                          return e;
                      })(e)
                    : t;
            }
            function d(e) {
                return (d = Object.setPrototypeOf
                    ? Object.getPrototypeOf
                    : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                      })(e);
            }
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var h = (function (e) {
                !(function (e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && l(e, t);
                })(c, e);
                var t,
                    i,
                    n,
                    r = u(c);
                function c() {
                    return s(this, c), r.apply(this, arguments);
                }
                return (
                    (t = c),
                    (i = [
                        {
                            key: "add",
                            value: function (e) {
                                var t = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1];
                                return o(d(c.prototype), "add", this).call(this, e, t);
                            },
                        },
                        {
                            key: "_addCallback",
                            value: function (e) {
                                var t = this.get(e);
                                if (!t) return !1;
                                (t._intervalFunc = !1),
                                    (t._focus = !1),
                                    (t._blur = !1),
                                    (t._on = t.on),
                                    "boolean" != typeof t.data.disableOnBlur && (t.data.disableOnBlur = !0),
                                    t.on && (t.data.disableOnBlur ? document.hasFocus() && this._on(e) : this._on(e)),
                                    t.data.disableOnBlur && ((t._focus = this.listener(window, "focus", this._on.bind(this, e))), (t._blur = this.listener(window, "blur", this._off.bind(this, e))));
                            },
                        },
                        {
                            key: "_turnCallback",
                            value: function (e) {
                                var t = this.get(e);
                                (t._on = t.on), t.on ? (t.data.disableOnBlur ? document.hasFocus() && this._on(e) : this._on(e)) : this._off(e);
                            },
                        },
                        {
                            key: "_removeCallback",
                            value: function (e) {
                                var t = this.get(e);
                                !1 !== t._intervalFunc && clearInterval(t._intervalFunc),
                                    t.data.disableOnBlur && (this.removeEventListener({ id: t._focus.id, el: t._focus.el }), this.removeEventListener({ id: t._blur.id, el: t._blur.el }));
                            },
                        },
                        {
                            key: "_on",
                            value: function (e) {
                                var t = this.get(e);
                                this._off(e), t._on && (t.data.disableOnBlur ? document.hasFocus() && this._enable(t) : this._enable(t));
                            },
                        },
                        {
                            key: "_enable",
                            value: function (e) {
                                var t = this;
                                e._intervalFunc = setInterval(function () {
                                    t._launch(e);
                                }, e.data.interval);
                            },
                        },
                        {
                            key: "_off",
                            value: function (e) {
                                var t = this.get(e);
                                !1 !== t._intervalFunc && (clearInterval(t._intervalFunc), (t._intervalFunc = !1));
                            },
                        },
                    ]) && a(t.prototype, i),
                    n && a(t, n),
                    c
                );
            })(((n = i(8)) && n.__esModule ? n : { default: n }).default);
            t.default = h;
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n = s(i(8)),
                r = s(i(4));
            function s(e) {
                return e && e.__esModule ? e : { default: e };
            }
            function a(e) {
                return (a =
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? function (e) {
                              return typeof e;
                          }
                        : function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          })(e);
            }
            function o(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                }
            }
            function l(e, t, i) {
                return (l =
                    "undefined" != typeof Reflect && Reflect.get
                        ? Reflect.get
                        : function (e, t, i) {
                              var n = (function (e, t) {
                                  for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = h(e)); );
                                  return e;
                              })(e, t);
                              if (n) {
                                  var r = Object.getOwnPropertyDescriptor(n, t);
                                  return r.get ? r.get.call(i) : r.value;
                              }
                          })(e, t, i || e);
            }
            function u(e, t) {
                return (u =
                    Object.setPrototypeOf ||
                    function (e, t) {
                        return (e.__proto__ = t), e;
                    })(e, t);
            }
            function c(e) {
                var t = (function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                    } catch (e) {
                        return !1;
                    }
                })();
                return function () {
                    var i,
                        n = h(e);
                    if (t) {
                        var r = h(this).constructor;
                        i = Reflect.construct(n, arguments, r);
                    } else i = n.apply(this, arguments);
                    return d(this, i);
                };
            }
            function d(e, t) {
                return !t || ("object" !== a(t) && "function" != typeof t)
                    ? (function (e) {
                          if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                          return e;
                      })(e)
                    : t;
            }
            function h(e) {
                return (h = Object.setPrototypeOf
                    ? Object.getPrototypeOf
                    : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                      })(e);
            }
            var p = i(15),
                f = (function (e) {
                    !(function (e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                        (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && u(e, t);
                    })(a, e);
                    var t,
                        i,
                        n,
                        s = c(a);
                    function a(e) {
                        return (
                            (function (e, t) {
                                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                            })(this, a),
                            s.call(this, e)
                        );
                    }
                    return (
                        (t = a),
                        (i = [
                            {
                                key: "_extra",
                                value: function () {
                                    l(h(a.prototype), "_extra", this).call(this),
                                        (this._start = { x: 0, y: 0 }),
                                        (this._global = { x: 0, y: 0 }),
                                        (this._prev = { x: 0, y: 0 }),
                                        (this._diff = { x: 0, y: 0 }),
                                        (this._dragging = !1),
                                        (this._prevent = !1),
                                        (this._decelerating = !1),
                                        (this._deceleration = { x: 0, y: 0 }),
                                        (this._pointerID = !1),
                                        (this._trackingPoints = []),
                                        (this._runningListeners = []),
                                        this._getElements();
                                },
                            },
                            {
                                key: "_getElements",
                                value: function () {
                                    this._outer = p.one(this._prop.outer);
                                },
                            },
                            {
                                key: "_changeProp",
                                value: function () {
                                    this.removeEventListeners(), this._getElements(), this._setEvents();
                                },
                            },
                            {
                                key: "_setEvents",
                                value: function () {
                                    this._prop.on && this._setStartEvents();
                                },
                            },
                            {
                                key: "_setStartEvents",
                                value: function () {
                                    this.listener(this._outer, "mousedown", this._onStart.bind(this)), this.listener(this._outer, "touchstart", this._onStart.bind(this));
                                },
                            },
                            {
                                key: "_addRunningEvents",
                                value: function () {
                                    this._removeRunningEvents();
                                    var e = this._runningListeners,
                                        t = this._outer;
                                    e.push(this.listener(t, "touchmove", this._onMove.bind(this), { passive: !1 })),
                                        e.push(this.listener(t, "touchend", this._onEnd.bind(this), { passive: !1 })),
                                        e.push(this.listener(t, "touchcancel", this._onStop.bind(this), { passive: !1 })),
                                        e.push(this.listener(window, "mousemove", this._onMove.bind(this), { passive: !1 })),
                                        e.push(this.listener(window, "mouseup", this._onEnd.bind(this), { passive: !1 })),
                                        e.push(this.listener(window, "blur", this._onStop.bind(this), { passive: !1 }));
                                },
                            },
                            {
                                key: "_removeRunningEvents",
                                value: function () {
                                    var e = this;
                                    this._runningListeners.forEach(function (t) {
                                        e.removeEventListener({ id: t.id, el: t.el });
                                    }),
                                        (this._runningListeners = []);
                                },
                            },
                            {
                                key: "_onStart",
                                value: function (e) {
                                    var t = this._normalizeEvent(e);
                                    if (!this._dragging) {
                                        if ("mousedown" == e.type) {
                                            if (1 != e.which) return;
                                            e.stopPropagation();
                                        }
                                        (this._dragging = !0),
                                            (this._decelerating = !1),
                                            (this._prevent = !1),
                                            (this._pointerID = t.id),
                                            (this._diff.x = 0),
                                            (this._diff.y = 0),
                                            (this._global.x = this._prev.x = this._start.x = t.x),
                                            (this._global.y = this._prev.y = this._start.y = t.y),
                                            (this._trackingPoints = []),
                                            this._addTrackingPoint(t.x, t.y),
                                            this._addRunningEvents(),
                                            this._callEvents("start");
                                    }
                                },
                            },
                            {
                                key: "_onMove",
                                value: function (e) {
                                    var t = this._normalizeEvent(e);
                                    if (this._dragging && t.id === this._pointerID) {
                                        this._diff.x += Math.abs(t.x - this._global.x);
                                        var i = this._diff.x;
                                        this._diff.y += Math.abs(t.y - this._global.y);
                                        var n = this._diff.y;
                                        (this._global.x = t.x), (this._global.y = t.y);
                                        var r = this._prop.thresholdPropagation;
                                        if (r) {
                                            var s = r.value;
                                            if (!(("x" == r.dir) & (i > s) & (i > n) || ("y" == r.dir) & (n > s) & (n > i))) return (this._start.x = t.x), void (this._start.y = t.y);
                                            e.stopPropagation(), e.preventDefault(), (this._prevent = !0);
                                        }
                                        this._addTrackingPoint(this._prev.x, this._prev.y), this._callEvents("move");
                                    }
                                },
                            },
                            {
                                key: "_onEnd",
                                value: function (e) {
                                    var t = this._normalizeEvent(e);
                                    this._dragging && t.id === this._pointerID && (this.stopDrag(!1), this._prop.momentum ? this._startDeceleration() : this._callEvents("end"));
                                },
                            },
                            {
                                key: "_onStop",
                                value: function () {
                                    this._dragging && this.stopDrag();
                                },
                            },
                            {
                                key: "stopDrag",
                                value: function () {
                                    var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                                    (this._dragging = !1), (this._decelerating = !1), (this._prevent = !1), this._removeRunningEvents(), e && this._callEvents("end");
                                },
                            },
                            {
                                key: "_normalizeEvent",
                                value: function (e) {
                                    if ("touchmove" === e.type || "touchstart" === e.type || "touchend" === e.type) {
                                        var t = e.targetTouches[0] || e.changedTouches[0];
                                        return { x: t.clientX, y: t.clientY, id: t.identifier };
                                    }
                                    return { x: e.clientX, y: e.clientY, id: null };
                                },
                            },
                            {
                                key: "_addTrackingPoint",
                                value: function (e, t) {
                                    for (var i = Date.now(), n = this._trackingPoints; n.length > 0 && !(i - n[0].time <= 100); ) n.shift();
                                    n.push({ x: e, y: t, time: i }), (this._trackingPoints = n);
                                },
                            },
                            {
                                key: "_startDeceleration",
                                value: function () {
                                    var e = this._trackingPoints,
                                        t = e[0],
                                        i = e[e.length - 1],
                                        n = i.x - t.x,
                                        r = i.y - t.y,
                                        s = (i.time - t.time) / 35,
                                        a = this._deceleration;
                                    (a.x = n / s || 0), (a.y = r / s || 0), Math.abs(a.x) > 1 || Math.abs(a.y) > 1 ? ((this._decelerating = !0), window.requestAnimationFrame(this._decelerationAnim.bind(this))) : this.stopDrag();
                                },
                            },
                            {
                                key: "_decelerationAnim",
                                value: function () {
                                    if (this._decelerating) {
                                        var e = this._prop.momentumStopThreshold,
                                            t = this._prop.friction;
                                        this._deceleration.x *= t;
                                        var i = this._deceleration.x;
                                        this._deceleration.y *= t;
                                        var n = this._deceleration.y;
                                        (this._global.x += i), (this._global.y += n), this._callEvents("move"), (Math.abs(i) > e) & (Math.abs(n) > e) ? window.requestAnimationFrame(this._decelerationAnim.bind(this)) : this.stopDrag();
                                    }
                                },
                            },
                            {
                                key: "_callEvents",
                                value: function (e) {
                                    var t = this._calcCoords();
                                    "start" == e ? this.lbt("start", t) : "move" == e ? this.lbt("move", t) : (this.lbt("end", t), this._callOnceEvents(t)), (this._prev.x = this._global.x), (this._prev.y = this._global.y);
                                },
                            },
                            {
                                key: "_callOnceEvents",
                                value: function (e) {
                                    var t = e.global,
                                        i = this._start.x,
                                        n = this._start.y,
                                        r = this._prop.min;
                                    i > t.x && Math.abs(i - t.x) > Math.abs(r) && this.lbt("left"),
                                        i < t.x && Math.abs(i - t.x) > Math.abs(r) && this.lbt("right"),
                                        n > t.y && Math.abs(n - t.y) > Math.abs(r) && this.lbt("up"),
                                        n < t.y && Math.abs(n - t.y) > Math.abs(r) && this.lbt("down");
                                },
                            },
                            {
                                key: "_calcCoords",
                                value: function () {
                                    var e = this._outer,
                                        t = this._global,
                                        i = { top: 0, left: 0 },
                                        n = { x: 0, y: 0 },
                                        r = { x: 0, y: 0 },
                                        s = { x: 0, y: 0 };
                                    return (
                                        e instanceof Window || e instanceof Document ? ((n.x = t.x), (n.y = t.y)) : ((i = e.getBoundingClientRect()), (n.x = t.x - i.left), (n.y = t.y - i.top)),
                                        (r.x = n.x - (this._start.x - i.left)),
                                        (r.y = n.y - (this._start.y - i.top)),
                                        (s.x = t.x - this._prev.x),
                                        (s.y = t.y - this._prev.y),
                                        { global: t, inner: n, diff: r, step: s }
                                    );
                                },
                            },
                            {
                                key: "defaultProp",
                                get: function () {
                                    return (0, r.default)(l(h(a.prototype), "defaultProp", this), { on: !0, outer: "", min: 100, momentum: !1, momentumStopThreshold: 0.01, friction: 0.95, thresholdPropagation: !1 });
                                },
                            },
                        ]) && o(t.prototype, i),
                        n && o(t, n),
                        a
                    );
                })(n.default);
            t.default = f;
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n = u(i(8)),
                r = u(i(4)),
                s = u(i(5)),
                a = u(i(13)),
                o = u(i(42)),
                l = u(i(11));
            function u(e) {
                return e && e.__esModule ? e : { default: e };
            }
            function c(e) {
                return (c =
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? function (e) {
                              return typeof e;
                          }
                        : function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          })(e);
            }
            function d(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                }
            }
            function h(e, t, i) {
                return (h =
                    "undefined" != typeof Reflect && Reflect.get
                        ? Reflect.get
                        : function (e, t, i) {
                              var n = (function (e, t) {
                                  for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = g(e)); );
                                  return e;
                              })(e, t);
                              if (n) {
                                  var r = Object.getOwnPropertyDescriptor(n, t);
                                  return r.get ? r.get.call(i) : r.value;
                              }
                          })(e, t, i || e);
            }
            function p(e, t) {
                return (p =
                    Object.setPrototypeOf ||
                    function (e, t) {
                        return (e.__proto__ = t), e;
                    })(e, t);
            }
            function f(e) {
                var t = (function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                    } catch (e) {
                        return !1;
                    }
                })();
                return function () {
                    var i,
                        n = g(e);
                    if (t) {
                        var r = g(this).constructor;
                        i = Reflect.construct(n, arguments, r);
                    } else i = n.apply(this, arguments);
                    return m(this, i);
                };
            }
            function m(e, t) {
                return !t || ("object" !== c(t) && "function" != typeof t)
                    ? (function (e) {
                          if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                          return e;
                      })(e)
                    : t;
            }
            function g(e) {
                return (g = Object.setPrototypeOf
                    ? Object.getPrototypeOf
                    : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                      })(e);
            }
            var v = i(15),
                y = (function (e) {
                    !(function (e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                        (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && p(e, t);
                    })(c, e);
                    var t,
                        i,
                        n,
                        u = f(c);
                    function c(e) {
                        return (
                            (function (e, t) {
                                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                            })(this, c),
                            u.call(this, e)
                        );
                    }
                    return (
                        (t = c),
                        (i = [
                            {
                                key: "_extra",
                                value: function () {
                                    var e = this;
                                    h(g(c.prototype), "_extra", this).call(this);
                                    var t = this._prop;
                                    (this._total = 0),
                                        (this._playing = !1),
                                        (this._active = t.active),
                                        (this._activePrev = -1),
                                        (this._shown = !1),
                                        (this._size = [0, 0]),
                                        (this._timeline = !1),
                                        (this._animationData = { direction: "", prev: -1, next: t.active }),
                                        this._getElements(),
                                        this._createElements(),
                                        this.setSize(),
                                        this.addEvent("viewport", {
                                            target: "",
                                            name: this._name,
                                            do: function () {
                                                (0, s.default)(function () {
                                                    e.setSize();
                                                }, t.resizeTimeout);
                                            },
                                        }),
                                        this._firstStart();
                                },
                            },
                            {
                                key: "_firstStart",
                                value: function () {
                                    this._prop.show && ((this._shown = !0), this.lbt("first")), this._slidesClasses();
                                },
                            },
                            {
                                key: "_getElements",
                                value: function () {
                                    var e = this._prop.selectors,
                                        t = this._prefix;
                                    (this._outer = v.one(e.outer)),
                                        (this._slidesOuter = this._outer.querySelector(e.slides)),
                                        (this._slides = this._slidesOuter.querySelectorAll(e.slide)),
                                        (this._total = this._slides.length),
                                        this._outer.classList.add(t),
                                        this._slidesOuter.classList.add("".concat(t, "__slides"));
                                    for (var i = 0; i < this._total; i++) this._slides[i].classList.add("".concat(t, "__slide"));
                                },
                            },
                            { key: "_createElements", value: function () {} },
                            {
                                key: "_slidesClasses",
                                value: function () {
                                    for (var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._active, t = "".concat(this._prefix, "__slide_active"), i = 0; i < this._total; i++)
                                        i === e ? this._slides[i].classList.add(t) : this._slides[i].classList.remove(t);
                                },
                            },
                            {
                                key: "setSize",
                                value: function () {
                                    var e = this._getSize();
                                    (this._width = e[0]), (this._height = e[1]), this._dprGet();
                                    var t = this._dpr;
                                    this._size = [this._width * t, this._height * t];
                                },
                            },
                            {
                                key: "_getSize",
                                value: function () {
                                    var e = this._outer;
                                    return [e.clientWidth, e.clientHeight];
                                },
                            },
                            {
                                key: "_dprGet",
                                value: function () {
                                    this._dpr = this._v.viewport.dprMobile;
                                },
                            },
                            {
                                key: "getSlideIndex",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._active,
                                        t = this._total - 1;
                                    return e > 0 ? e > t && (e = this.getSlideIndex(e - this._total)) : e < 0 && (e = e < -1 * this._total ? this.getSlideIndex(e + this._total) : this._total + e), e;
                                },
                            },
                            {
                                key: "getFollowingSlideIndex",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._active,
                                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                                    return (e += t), (e = this.getSlideIndex(e));
                                },
                            },
                            {
                                key: "prev",
                                value: function () {
                                    if (this.playing || !this._prop.prev) return !1;
                                    var e = this.prevGet();
                                    return !1 !== e && (this.set(e, "prev"), !0);
                                },
                            },
                            {
                                key: "prevGet",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._active;
                                    return !(!this._prop.loop && 0 === e) && this.getFollowingSlideIndex(e, -1);
                                },
                            },
                            {
                                key: "next",
                                value: function () {
                                    if (this.playing || !this._prop.next) return !1;
                                    var e = this.nextGet();
                                    return !1 !== e && (this.set(e, "next"), !0);
                                },
                            },
                            {
                                key: "nextGet",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._active;
                                    return !(!this._prop.loop && e === this._total < 1) && this.getFollowingSlideIndex(e, 1);
                                },
                            },
                            {
                                key: "_launchTimeline",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : function () {},
                                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : function () {},
                                        i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : [0, 1];
                                    this._timeline = new a.default();
                                    var n = this._timeline;
                                    n.add({ target: "progress", do: e.bind(this) }), n.add({ target: "end", do: t.bind(this) }), n.play({ duration: this._prop.animation.duration, autoDuration: !0, easing: "linear", scope: i });
                                },
                            },
                            {
                                key: "_stopTimeline",
                                value: function () {
                                    this._timeline && (this._timeline.destroy(), (this._timeline = !1), (this._playing = !1));
                                },
                            },
                            {
                                key: "show",
                                value: function () {
                                    return !(
                                        this.playing ||
                                        this._prop.disabled ||
                                        (this._prop.dependents.forEach(function (e) {
                                            e.show();
                                        }),
                                        this._shown || ((this._shown = !0), this._outer.classList.add("".concat(this._prefix, "_shown")), this._slidesClasses(), this._showHide("show"), 0))
                                    );
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    return !(
                                        this.playing ||
                                        this._prop.disabled ||
                                        (this._prop.dependents.forEach(function (e) {
                                            e.hide();
                                        }),
                                        !this._shown || ((this._shown = !1), this._outer.classList.remove("".concat(this._prefix, "_shown")), this._slidesClasses(-1), this._showHide("hide"), 0))
                                    );
                                },
                            },
                            {
                                key: "_showHide",
                                value: function (e) {
                                    this.lbt(e), (this._playing = !0), (this._animationData = { prev: this._active, next: this._active, direction: e }), this._launchTimeline(this._showHideProgress.bind(this), this._showHideEnd.bind(this));
                                },
                            },
                            {
                                key: "_showHideProgress",
                                value: function (e) {
                                    this._animateSlidesTimeline(e), this._animateSlide(this._animationData.direction, e);
                                },
                            },
                            {
                                key: "_showHideEnd",
                                value: function () {
                                    this._animationEnd(), "show" == this._animationData.direction ? this.lbt("shown") : this.lbt("hidden"), this._stopTimeline();
                                },
                            },
                            {
                                key: "set",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "none";
                                    return !(
                                        this.playing ||
                                        this._prop.disabled ||
                                        (this._prop.dependents.forEach(function (i) {
                                            i.set(e, t);
                                        }),
                                        !this._shown ||
                                            this._active === e ||
                                            ((this._activePrev = this._active),
                                            (this._active = e),
                                            this._slidesClasses(),
                                            "none" === t && (t = this._active > this._activePrev ? "next" : "prev"),
                                            this._launchCallbacks(t),
                                            this._animate(t),
                                            0))
                                    );
                                },
                            },
                            {
                                key: "_launchCallbacks",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "";
                                    this._animationData = { direction: e, prev: this._activePrev, next: this._active };
                                    var t = this._animationData;
                                    this.lbt(e, t), this.lbt("start", t);
                                },
                            },
                            {
                                key: "_animate",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                                        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [0, 1];
                                    (this._playing = !0), (this._animationData = { direction: e, prev: this._activePrev, next: this._active }), this._launchTimeline(this._animateSlides.bind(this), this._animateEnd.bind(this), t);
                                },
                            },
                            {
                                key: "_animateSlides",
                                value: function (e) {
                                    this._animateSlidesTimeline(e), this._animateSlide("prev", e), this._animateSlide("next", e);
                                },
                            },
                            {
                                key: "_animateSlidesTimeline",
                                value: function (e) {
                                    var t = (0, r.default)({ p: e.se }, this._animationData);
                                    this.lbt("timeline", t);
                                },
                            },
                            {
                                key: "_animateSlide",
                                value: function (e, t) {
                                    var i = this._animationData,
                                        n = this._prop.animation[e];
                                    void 0 === n && (n = [0, 1]);
                                    var s = (0, l.default)(t.se, n);
                                    s = s < 0 ? 0 : s > 1 ? 1 : (0, o.default)(s, this._prop.animation.easing);
                                    var a = (0, r.default)({ p: s, num: "prev" === e ? i.prev : i.next, type: e }, i);
                                    this._render(a);
                                },
                            },
                            {
                                key: "_render",
                                value: function (e) {
                                    this.lbt("render", e);
                                },
                            },
                            {
                                key: "_animateEnd",
                                value: function () {
                                    this._stopTimeline(), this._animationEnd(), this.lbt("end", this._animationData);
                                },
                            },
                            {
                                key: "_animationEnd",
                                value: function () {
                                    this._playing = !1;
                                },
                            },
                            {
                                key: "destroy",
                                value: function () {
                                    h(g(c.prototype), "destroy", this).call(this);
                                    var e = this._prefix;
                                    this._outer.classList.remove(e), this._slidesOuter.classList.remove("".concat(e, "__slides"));
                                    for (var t = 0; t < this._total; t++) this._slides[t].classList.remove("".concat(e, "__slide"));
                                },
                            },
                            {
                                key: "prefix",
                                get: function () {
                                    return "".concat(this._v.prefix, "slider");
                                },
                            },
                            {
                                key: "defaultProp",
                                get: function () {
                                    var e = this._prefix;
                                    return (0, r.default)(h(g(c.prototype), "defaultProp", this), {
                                        selectors: { outer: ".".concat(e), slides: ".".concat(e, "__slides"), slide: ".".concat(e, "__slide") },
                                        direction: "h",
                                        loop: !0,
                                        show: !0,
                                        prev: !0,
                                        next: !0,
                                        disabled: !1,
                                        active: 0,
                                        dependents: [],
                                        animation: { duration: 1500, prev: [0, 0.5], next: [0.5, 1], easing: this._vp.easing },
                                        resizeTimeout: 0,
                                    });
                                },
                            },
                            {
                                key: "outer",
                                get: function () {
                                    return this._outer;
                                },
                            },
                            {
                                key: "playing",
                                get: function () {
                                    var e = [this._playing];
                                    return (
                                        this._prop.dependents.forEach(function (t) {
                                            e.push(t.playing);
                                        }),
                                        e.includes(!0)
                                    );
                                },
                            },
                            {
                                key: "active",
                                get: function () {
                                    return this._active;
                                },
                            },
                            {
                                key: "shown",
                                get: function () {
                                    var e = [this._shown];
                                    return (
                                        this._prop.dependents.forEach(function (t) {
                                            e.push(t.shown);
                                        }),
                                        !!e.every(function (e, t, i) {
                                            return e === i[0];
                                        }) && this._shown
                                    );
                                },
                            },
                            {
                                key: "total",
                                get: function () {
                                    return this._total;
                                },
                            },
                            {
                                key: "slides",
                                get: function () {
                                    return this._slides;
                                },
                            },
                        ]) && d(t.prototype, i),
                        n && d(t, n),
                        c
                    );
                })(n.default);
            t.default = y;
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n = s(i(8)),
                r = s(i(4));
            function s(e) {
                return e && e.__esModule ? e : { default: e };
            }
            function a(e) {
                return (a =
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? function (e) {
                              return typeof e;
                          }
                        : function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          })(e);
            }
            function o(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                }
            }
            function l(e, t, i) {
                return (l =
                    "undefined" != typeof Reflect && Reflect.get
                        ? Reflect.get
                        : function (e, t, i) {
                              var n = (function (e, t) {
                                  for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = h(e)); );
                                  return e;
                              })(e, t);
                              if (n) {
                                  var r = Object.getOwnPropertyDescriptor(n, t);
                                  return r.get ? r.get.call(i) : r.value;
                              }
                          })(e, t, i || e);
            }
            function u(e, t) {
                return (u =
                    Object.setPrototypeOf ||
                    function (e, t) {
                        return (e.__proto__ = t), e;
                    })(e, t);
            }
            function c(e) {
                var t = (function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                    } catch (e) {
                        return !1;
                    }
                })();
                return function () {
                    var i,
                        n = h(e);
                    if (t) {
                        var r = h(this).constructor;
                        i = Reflect.construct(n, arguments, r);
                    } else i = n.apply(this, arguments);
                    return d(this, i);
                };
            }
            function d(e, t) {
                return !t || ("object" !== a(t) && "function" != typeof t)
                    ? (function (e) {
                          if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                          return e;
                      })(e)
                    : t;
            }
            function h(e) {
                return (h = Object.setPrototypeOf
                    ? Object.getPrototypeOf
                    : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                      })(e);
            }
            var p = (function (e) {
                !(function (e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && u(e, t);
                })(a, e);
                var t,
                    i,
                    n,
                    s = c(a);
                function a(e) {
                    return (
                        (function (e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                        })(this, a),
                        s.call(this, e)
                    );
                }
                return (
                    (t = a),
                    (i = [
                        {
                            key: "_extra",
                            value: function () {
                                l(h(a.prototype), "_extra", this).call(this), (this._time = null), (this._frameSeg = -1), (this._frame = null), (this._playing = !1);
                            },
                        },
                        {
                            key: "play",
                            value: function () {
                                return !this._playing && ((this._playing = !0), this._start(), !0);
                            },
                        },
                        {
                            key: "_start",
                            value: function () {
                                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
                                (this._frame = window.requestAnimationFrame(this._start.bind(this))), null == this._time && (this._time = e);
                                var t = Math.floor((e - this._time) / (1e3 / this._prop.fps));
                                t > this._frameSeg && ((this._frameSeg = t), this.launchAll());
                            },
                        },
                        {
                            key: "pause",
                            value: function () {
                                return !!this._playing && (window.cancelAnimationFrame(this._frame), (this._playing = !1), !0);
                            },
                        },
                        {
                            key: "destroy",
                            value: function () {
                                l(h(a.prototype), "destroy", this).call(this), this.pause();
                            },
                        },
                        {
                            key: "defaultProp",
                            get: function () {
                                return (0, r.default)(l(h(a.prototype), "defaultProp", this), { fps: 60 });
                            },
                        },
                        {
                            key: "playing",
                            get: function () {
                                return this._playing;
                            },
                        },
                    ]) && o(t.prototype, i),
                    n && o(t, n),
                    a
                );
            })(n.default);
            t.default = p;
        },
        function (e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var i = function (e) {
                var t,
                    i,
                    n = { media: !1, rule: "cover", width: 1e3, height: 1e3, scale: 1 },
                    r = 0,
                    s = 0,
                    a = 0,
                    o = 0,
                    l = (n = Object.assign(n, e)).media;
                "VIDEO" == l.tagName ? ((a = l.videoWidth), (o = l.videoHeight)) : ((a = l.width), (o = l.height));
                var u = n.width,
                    c = n.height;
                return (
                    "cover" === n.rule ? (s = (o * (r = u * n.scale)) / a) < c && (r = (a * (s = c * n.scale)) / o) : "contain" === n.rule && (a > o ? (s = (o * (r = u * n.scale)) / a) : o >= a && (r = (a * (s = c * n.scale)) / o)),
                    (t = (u - r) / 2),
                    (i = (c - s) / 2),
                    { media: n.media, width: r, height: s, mediaWidth: a, mediaHeight: o, scale: n.scale, x: t, y: i }
                );
            };
            t.default = i;
        },
        function (e, t, i) {
            (function (t) {
                var n,
                    r = void 0 !== t ? t : "undefined" != typeof window ? window : {},
                    s = i(118);
                "undefined" != typeof document ? (n = document) : (n = r["__GLOBAL_DOCUMENT_CACHE@4"]) || (n = r["__GLOBAL_DOCUMENT_CACHE@4"] = s), (e.exports = n);
            }.call(this, i(58)));
        },
        function (e) {
            e.exports = function (e, t) {
                (e.prototype = Object.create(t.prototype)), (e.prototype.constructor = e), (e.__proto__ = t);
            };
        },
        function (e) {
            function t(i, n) {
                return (
                    (e.exports = t =
                        Object.setPrototypeOf ||
                        function (e, t) {
                            return (e.__proto__ = t), e;
                        }),
                    t(i, n)
                );
            }
            e.exports = t;
        },
        function (e, t, i) {
            "use strict";
            var n = i(134),
                r = i(85);
            function s(e) {
                return e && "object" == typeof e && "default" in e ? e : { default: e };
            }
            var a = s(n),
                o = s(r);
            e.exports = function (e, t) {
                return /^[a-z]+:/i.test(t) ? t : (/\/\//i.test(e) || (e = a.default.buildAbsoluteURL((o.default.location && o.default.location.href) || "", e)), a.default.buildAbsoluteURL(e, t));
            };
        },
        function (e, t, i) {
            "use strict";
            (function (t) {
                function n(e) {
                    return e && "object" == typeof e && "default" in e ? e : { default: e };
                }
                var r = n(i(85));
                e.exports = function (e) {
                    for (var i, n = ((i = e), r.default.atob ? r.default.atob(i) : t.from(i, "base64").toString("binary")), s = new Uint8Array(n.length), a = 0; a < n.length; a++) s[a] = n.charCodeAt(a);
                    return s;
                };
            }.call(this, i(136).Buffer));
        },
        function (e, t) {
            function i(e, t) {
                for (var i in e) t[i] = e[i];
            }
            function n(e, t) {
                var n = e.prototype;
                if (Object.create) {
                    var r = Object.create(t.prototype);
                    n.__proto__ = r;
                }
                if (!(n instanceof t)) {
                    function s() {}
                    (s.prototype = t.prototype), i(n, (s = new s())), (e.prototype = n = s);
                }
                n.constructor != e && ("function" != typeof e && console.error("unknow Class:" + e), (n.constructor = e));
            }
            var r = {},
                s = (r.ELEMENT_NODE = 1),
                a = (r.ATTRIBUTE_NODE = 2),
                o = (r.TEXT_NODE = 3),
                l = (r.CDATA_SECTION_NODE = 4),
                u = (r.ENTITY_REFERENCE_NODE = 5),
                c = (r.ENTITY_NODE = 6),
                d = (r.PROCESSING_INSTRUCTION_NODE = 7),
                h = (r.COMMENT_NODE = 8),
                p = (r.DOCUMENT_NODE = 9),
                f = (r.DOCUMENT_TYPE_NODE = 10),
                m = (r.DOCUMENT_FRAGMENT_NODE = 11),
                g = (r.NOTATION_NODE = 12),
                v = {},
                y = {},
                _ = ((v.INDEX_SIZE_ERR = ((y[1] = "Index size error"), 1)), (v.DOMSTRING_SIZE_ERR = ((y[2] = "DOMString size error"), 2)), (v.HIERARCHY_REQUEST_ERR = ((y[3] = "Hierarchy request error"), 3))),
                b =
                    ((v.WRONG_DOCUMENT_ERR = ((y[4] = "Wrong document"), 4)),
                    (v.INVALID_CHARACTER_ERR = ((y[5] = "Invalid character"), 5)),
                    (v.NO_DATA_ALLOWED_ERR = ((y[6] = "No data allowed"), 6)),
                    (v.NO_MODIFICATION_ALLOWED_ERR = ((y[7] = "No modification allowed"), 7)),
                    (v.NOT_FOUND_ERR = ((y[8] = "Not found"), 8))),
                T = ((v.NOT_SUPPORTED_ERR = ((y[9] = "Not supported"), 9)), (v.INUSE_ATTRIBUTE_ERR = ((y[10] = "Attribute in use"), 10)));
            (v.INVALID_STATE_ERR = ((y[11] = "Invalid state"), 11)),
                (v.SYNTAX_ERR = ((y[12] = "Syntax error"), 12)),
                (v.INVALID_MODIFICATION_ERR = ((y[13] = "Invalid modification"), 13)),
                (v.NAMESPACE_ERR = ((y[14] = "Invalid namespace"), 14)),
                (v.INVALID_ACCESS_ERR = ((y[15] = "Invalid access"), 15));
            function S(e, t) {
                if (t instanceof Error) var i = t;
                else (i = this), Error.call(this, y[e]), (this.message = y[e]), Error.captureStackTrace && Error.captureStackTrace(this, S);
                return (i.code = e), t && (this.message = this.message + ": " + t), i;
            }
            function w() {}
            function k(e, t) {
                (this._node = e), (this._refresh = t), C(this);
            }
            function C(e) {
                var t = e._node._inc || e._node.ownerDocument._inc;
                if (e._inc != t) {
                    var n = e._refresh(e._node);
                    ne(e, "length", n.length), i(n, e), (e._inc = t);
                }
            }
            function E() {}
            function x(e, t) {
                for (var i = e.length; i--; ) if (e[i] === t) return i;
            }
            function A(e, t, i, n) {
                if ((n ? (t[x(t, n)] = i) : (t[t.length++] = i), e)) {
                    i.ownerElement = e;
                    var r = e.ownerDocument;
                    r &&
                        (n && M(r, e, n),
                        (function (e, t, i) {
                            e && e._inc++, "http://www.w3.org/2000/xmlns/" == i.namespaceURI && (t._nsMap[i.prefix ? i.localName : ""] = i.value);
                        })(r, e, i));
                }
            }
            function I(e, t, i) {
                var n = x(t, i);
                if (!(n >= 0)) throw S(b, new Error(e.tagName + "@" + i));
                for (var r = t.length - 1; n < r; ) t[n] = t[++n];
                if (((t.length = r), e)) {
                    var s = e.ownerDocument;
                    s && (M(s, e, i), (i.ownerElement = null));
                }
            }
            function P(e) {
                if (((this._features = {}), e)) for (var t in e) this._features = e[t];
            }
            function O() {}
            function L(e) {
                return ("<" == e ? "&lt;" : ">" == e && "&gt;") || ("&" == e && "&amp;") || ('"' == e && "&quot;") || "&#" + e.charCodeAt() + ";";
            }
            function D(e, t) {
                if (t(e)) return !0;
                if ((e = e.firstChild))
                    do {
                        if (D(e, t)) return !0;
                    } while ((e = e.nextSibling));
            }
            function R() {}
            function M(e, t, i) {
                e && e._inc++, "http://www.w3.org/2000/xmlns/" == i.namespaceURI && delete t._nsMap[i.prefix ? i.localName : ""];
            }
            function N(e, t, i) {
                if (e && e._inc) {
                    e._inc++;
                    var n = t.childNodes;
                    if (i) n[n.length++] = i;
                    else {
                        for (var r = t.firstChild, s = 0; r; ) (n[s++] = r), (r = r.nextSibling);
                        n.length = s;
                    }
                }
            }
            function U(e, t) {
                var i = t.previousSibling,
                    n = t.nextSibling;
                return i ? (i.nextSibling = n) : (e.firstChild = n), n ? (n.previousSibling = i) : (e.lastChild = i), N(e.ownerDocument, e), t;
            }
            function j(e, t, i) {
                var n = t.parentNode;
                if ((n && n.removeChild(t), t.nodeType === m)) {
                    var r = t.firstChild;
                    if (null == r) return t;
                    var s = t.lastChild;
                } else r = s = t;
                var a = i ? i.previousSibling : e.lastChild;
                (r.previousSibling = a), (s.nextSibling = i), a ? (a.nextSibling = r) : (e.firstChild = r), null == i ? (e.lastChild = s) : (i.previousSibling = s);
                do {
                    r.parentNode = e;
                } while (r !== s && (r = r.nextSibling));
                return N(e.ownerDocument || e, e), t.nodeType == m && (t.firstChild = t.lastChild = null), t;
            }
            function B() {
                this._nsMap = {};
            }
            function F() {}
            function H() {}
            function q() {}
            function V() {}
            function $() {}
            function z() {}
            function W() {}
            function G() {}
            function Y() {}
            function X() {}
            function K() {}
            function Q() {}
            function J(e, t) {
                var i = [],
                    n = 9 == this.nodeType ? this.documentElement : this,
                    r = n.prefix,
                    s = n.namespaceURI;
                if (s && null == r && null == (r = n.lookupPrefix(s))) var a = [{ namespace: s, prefix: null }];
                return ee(this, i, e, t, a), i.join("");
            }
            function Z(e, t, i) {
                var n = e.prefix || "",
                    r = e.namespaceURI;
                if (!n && !r) return !1;
                if (("xml" === n && "http://www.w3.org/XML/1998/namespace" === r) || "http://www.w3.org/2000/xmlns/" == r) return !1;
                for (var s = i.length; s--; ) {
                    var a = i[s];
                    if (a.prefix == n) return a.namespace != r;
                }
                return !0;
            }
            function ee(e, t, i, n, r) {
                if (n) {
                    if (!(e = n(e))) return;
                    if ("string" == typeof e) return void t.push(e);
                }
                switch (e.nodeType) {
                    case s:
                        r || (r = []);
                        r.length;
                        var c = e.attributes,
                            g = c.length,
                            v = e.firstChild,
                            y = e.tagName;
                        (i = "http://www.w3.org/1999/xhtml" === e.namespaceURI || i), t.push("<", y);
                        for (var _ = 0; _ < g; _++) {
                            "xmlns" == (b = c.item(_)).prefix ? r.push({ prefix: b.localName, namespace: b.value }) : "xmlns" == b.nodeName && r.push({ prefix: "", namespace: b.value });
                        }
                        for (_ = 0; _ < g; _++) {
                            var b;
                            if (Z((b = c.item(_)), 0, r)) {
                                var T = b.prefix || "",
                                    S = b.namespaceURI,
                                    w = T ? " xmlns:" + T : " xmlns";
                                t.push(w, '="', S, '"'), r.push({ prefix: T, namespace: S });
                            }
                            ee(b, t, i, n, r);
                        }
                        if (Z(e, 0, r)) {
                            (T = e.prefix || ""), (S = e.namespaceURI), (w = T ? " xmlns:" + T : " xmlns");
                            t.push(w, '="', S, '"'), r.push({ prefix: T, namespace: S });
                        }
                        if (v || (i && !/^(?:meta|link|img|br|hr|input)$/i.test(y))) {
                            if ((t.push(">"), i && /^script$/i.test(y))) for (; v; ) v.data ? t.push(v.data) : ee(v, t, i, n, r), (v = v.nextSibling);
                            else for (; v; ) ee(v, t, i, n, r), (v = v.nextSibling);
                            t.push("</", y, ">");
                        } else t.push("/>");
                        return;
                    case p:
                    case m:
                        for (v = e.firstChild; v; ) ee(v, t, i, n, r), (v = v.nextSibling);
                        return;
                    case a:
                        return t.push(" ", e.name, '="', e.value.replace(/[<&"]/g, L), '"');
                    case o:
                        return t.push(e.data.replace(/[<&]/g, L));
                    case l:
                        return t.push("<![CDATA[", e.data, "]]>");
                    case h:
                        return t.push("\x3c!--", e.data, "--\x3e");
                    case f:
                        var k = e.publicId,
                            C = e.systemId;
                        if ((t.push("<!DOCTYPE ", e.name), k)) t.push(' PUBLIC "', k), C && "." != C && t.push('" "', C), t.push('">');
                        else if (C && "." != C) t.push(' SYSTEM "', C, '">');
                        else {
                            var E = e.internalSubset;
                            E && t.push(" [", E, "]"), t.push(">");
                        }
                        return;
                    case d:
                        return t.push("<?", e.target, " ", e.data, "?>");
                    case u:
                        return t.push("&", e.nodeName, ";");
                    default:
                        t.push("??", e.nodeName);
                }
            }
            function te(e, t, i) {
                var n;
                switch (t.nodeType) {
                    case s:
                        (n = t.cloneNode(!1)).ownerDocument = e;
                    case m:
                        break;
                    case a:
                        i = !0;
                }
                if ((n || (n = t.cloneNode(!1)), (n.ownerDocument = e), (n.parentNode = null), i)) for (var r = t.firstChild; r; ) n.appendChild(te(e, r, i)), (r = r.nextSibling);
                return n;
            }
            function ie(e, t, i) {
                var n = new t.constructor();
                for (var r in t) {
                    var o = t[r];
                    "object" != typeof o && o != n[r] && (n[r] = o);
                }
                switch ((t.childNodes && (n.childNodes = new w()), (n.ownerDocument = e), n.nodeType)) {
                    case s:
                        var l = t.attributes,
                            u = (n.attributes = new E()),
                            c = l.length;
                        u._ownerElement = n;
                        for (var d = 0; d < c; d++) n.setAttributeNode(ie(e, l.item(d), !0));
                        break;
                    case a:
                        i = !0;
                }
                if (i) for (var h = t.firstChild; h; ) n.appendChild(ie(e, h, i)), (h = h.nextSibling);
                return n;
            }
            function ne(e, t, i) {
                e[t] = i;
            }
            (S.prototype = Error.prototype),
                i(v, S),
                (w.prototype = {
                    length: 0,
                    item: function (e) {
                        return this[e] || null;
                    },
                    toString: function (e, t) {
                        for (var i = [], n = 0; n < this.length; n++) ee(this[n], i, e, t);
                        return i.join("");
                    },
                }),
                (k.prototype.item = function (e) {
                    return C(this), this[e];
                }),
                n(k, w),
                (E.prototype = {
                    length: 0,
                    item: w.prototype.item,
                    getNamedItem: function (e) {
                        for (var t = this.length; t--; ) {
                            var i = this[t];
                            if (i.nodeName == e) return i;
                        }
                    },
                    setNamedItem: function (e) {
                        var t = e.ownerElement;
                        if (t && t != this._ownerElement) throw new S(T);
                        var i = this.getNamedItem(e.nodeName);
                        return A(this._ownerElement, this, e, i), i;
                    },
                    setNamedItemNS: function (e) {
                        var t,
                            i = e.ownerElement;
                        if (i && i != this._ownerElement) throw new S(T);
                        return (t = this.getNamedItemNS(e.namespaceURI, e.localName)), A(this._ownerElement, this, e, t), t;
                    },
                    removeNamedItem: function (e) {
                        var t = this.getNamedItem(e);
                        return I(this._ownerElement, this, t), t;
                    },
                    removeNamedItemNS: function (e, t) {
                        var i = this.getNamedItemNS(e, t);
                        return I(this._ownerElement, this, i), i;
                    },
                    getNamedItemNS: function (e, t) {
                        for (var i = this.length; i--; ) {
                            var n = this[i];
                            if (n.localName == t && n.namespaceURI == e) return n;
                        }
                        return null;
                    },
                }),
                (P.prototype = {
                    hasFeature: function (e, t) {
                        var i = this._features[e.toLowerCase()];
                        return !(!i || (t && !(t in i)));
                    },
                    createDocument: function (e, t, i) {
                        var n = new R();
                        if (((n.implementation = this), (n.childNodes = new w()), (n.doctype = i), i && n.appendChild(i), t)) {
                            var r = n.createElementNS(e, t);
                            n.appendChild(r);
                        }
                        return n;
                    },
                    createDocumentType: function (e, t, i) {
                        var n = new z();
                        return (n.name = e), (n.nodeName = e), (n.publicId = t), (n.systemId = i), n;
                    },
                }),
                (O.prototype = {
                    firstChild: null,
                    lastChild: null,
                    previousSibling: null,
                    nextSibling: null,
                    attributes: null,
                    parentNode: null,
                    childNodes: null,
                    ownerDocument: null,
                    nodeValue: null,
                    namespaceURI: null,
                    prefix: null,
                    localName: null,
                    insertBefore: function (e, t) {
                        return j(this, e, t);
                    },
                    replaceChild: function (e, t) {
                        this.insertBefore(e, t), t && this.removeChild(t);
                    },
                    removeChild: function (e) {
                        return U(this, e);
                    },
                    appendChild: function (e) {
                        return this.insertBefore(e, null);
                    },
                    hasChildNodes: function () {
                        return null != this.firstChild;
                    },
                    cloneNode: function (e) {
                        return ie(this.ownerDocument || this, this, e);
                    },
                    normalize: function () {
                        for (var e = this.firstChild; e; ) {
                            var t = e.nextSibling;
                            t && t.nodeType == o && e.nodeType == o ? (this.removeChild(t), e.appendData(t.data)) : (e.normalize(), (e = t));
                        }
                    },
                    isSupported: function (e, t) {
                        return this.ownerDocument.implementation.hasFeature(e, t);
                    },
                    hasAttributes: function () {
                        return this.attributes.length > 0;
                    },
                    lookupPrefix: function (e) {
                        for (var t = this; t; ) {
                            var i = t._nsMap;
                            if (i) for (var n in i) if (i[n] == e) return n;
                            t = t.nodeType == a ? t.ownerDocument : t.parentNode;
                        }
                        return null;
                    },
                    lookupNamespaceURI: function (e) {
                        for (var t = this; t; ) {
                            var i = t._nsMap;
                            if (i && e in i) return i[e];
                            t = t.nodeType == a ? t.ownerDocument : t.parentNode;
                        }
                        return null;
                    },
                    isDefaultNamespace: function (e) {
                        return null == this.lookupPrefix(e);
                    },
                }),
                i(r, O),
                i(r, O.prototype),
                (R.prototype = {
                    nodeName: "#document",
                    nodeType: p,
                    doctype: null,
                    documentElement: null,
                    _inc: 1,
                    insertBefore: function (e, t) {
                        if (e.nodeType == m) {
                            for (var i = e.firstChild; i; ) {
                                var n = i.nextSibling;
                                this.insertBefore(i, t), (i = n);
                            }
                            return e;
                        }
                        return null == this.documentElement && e.nodeType == s && (this.documentElement = e), j(this, e, t), (e.ownerDocument = this), e;
                    },
                    removeChild: function (e) {
                        return this.documentElement == e && (this.documentElement = null), U(this, e);
                    },
                    importNode: function (e, t) {
                        return te(this, e, t);
                    },
                    getElementById: function (e) {
                        var t = null;
                        return (
                            D(this.documentElement, function (i) {
                                if (i.nodeType == s && i.getAttribute("id") == e) return (t = i), !0;
                            }),
                            t
                        );
                    },
                    createElement: function (e) {
                        var t = new B();
                        return (t.ownerDocument = this), (t.nodeName = e), (t.tagName = e), (t.childNodes = new w()), ((t.attributes = new E())._ownerElement = t), t;
                    },
                    createDocumentFragment: function () {
                        var e = new X();
                        return (e.ownerDocument = this), (e.childNodes = new w()), e;
                    },
                    createTextNode: function (e) {
                        var t = new q();
                        return (t.ownerDocument = this), t.appendData(e), t;
                    },
                    createComment: function (e) {
                        var t = new V();
                        return (t.ownerDocument = this), t.appendData(e), t;
                    },
                    createCDATASection: function (e) {
                        var t = new $();
                        return (t.ownerDocument = this), t.appendData(e), t;
                    },
                    createProcessingInstruction: function (e, t) {
                        var i = new K();
                        return (i.ownerDocument = this), (i.tagName = i.target = e), (i.nodeValue = i.data = t), i;
                    },
                    createAttribute: function (e) {
                        var t = new F();
                        return (t.ownerDocument = this), (t.name = e), (t.nodeName = e), (t.localName = e), (t.specified = !0), t;
                    },
                    createEntityReference: function (e) {
                        var t = new Y();
                        return (t.ownerDocument = this), (t.nodeName = e), t;
                    },
                    createElementNS: function (e, t) {
                        var i = new B(),
                            n = t.split(":"),
                            r = (i.attributes = new E());
                        return (
                            (i.childNodes = new w()), (i.ownerDocument = this), (i.nodeName = t), (i.tagName = t), (i.namespaceURI = e), 2 == n.length ? ((i.prefix = n[0]), (i.localName = n[1])) : (i.localName = t), (r._ownerElement = i), i
                        );
                    },
                    createAttributeNS: function (e, t) {
                        var i = new F(),
                            n = t.split(":");
                        return (i.ownerDocument = this), (i.nodeName = t), (i.name = t), (i.namespaceURI = e), (i.specified = !0), 2 == n.length ? ((i.prefix = n[0]), (i.localName = n[1])) : (i.localName = t), i;
                    },
                }),
                n(R, O),
                (B.prototype = {
                    nodeType: s,
                    hasAttribute: function (e) {
                        return null != this.getAttributeNode(e);
                    },
                    getAttribute: function (e) {
                        var t = this.getAttributeNode(e);
                        return (t && t.value) || "";
                    },
                    getAttributeNode: function (e) {
                        return this.attributes.getNamedItem(e);
                    },
                    setAttribute: function (e, t) {
                        var i = this.ownerDocument.createAttribute(e);
                        (i.value = i.nodeValue = "" + t), this.setAttributeNode(i);
                    },
                    removeAttribute: function (e) {
                        var t = this.getAttributeNode(e);
                        t && this.removeAttributeNode(t);
                    },
                    appendChild: function (e) {
                        return e.nodeType === m
                            ? this.insertBefore(e, null)
                            : (function (e, t) {
                                  var i = t.parentNode;
                                  if (i) {
                                      var n = e.lastChild;
                                      i.removeChild(t), (n = e.lastChild);
                                  }
                                  return (n = e.lastChild), (t.parentNode = e), (t.previousSibling = n), (t.nextSibling = null), n ? (n.nextSibling = t) : (e.firstChild = t), (e.lastChild = t), N(e.ownerDocument, e, t), t;
                              })(this, e);
                    },
                    setAttributeNode: function (e) {
                        return this.attributes.setNamedItem(e);
                    },
                    setAttributeNodeNS: function (e) {
                        return this.attributes.setNamedItemNS(e);
                    },
                    removeAttributeNode: function (e) {
                        return this.attributes.removeNamedItem(e.nodeName);
                    },
                    removeAttributeNS: function (e, t) {
                        var i = this.getAttributeNodeNS(e, t);
                        i && this.removeAttributeNode(i);
                    },
                    hasAttributeNS: function (e, t) {
                        return null != this.getAttributeNodeNS(e, t);
                    },
                    getAttributeNS: function (e, t) {
                        var i = this.getAttributeNodeNS(e, t);
                        return (i && i.value) || "";
                    },
                    setAttributeNS: function (e, t, i) {
                        var n = this.ownerDocument.createAttributeNS(e, t);
                        (n.value = n.nodeValue = "" + i), this.setAttributeNode(n);
                    },
                    getAttributeNodeNS: function (e, t) {
                        return this.attributes.getNamedItemNS(e, t);
                    },
                    getElementsByTagName: function (e) {
                        return new k(this, function (t) {
                            var i = [];
                            return (
                                D(t, function (n) {
                                    n === t || n.nodeType != s || ("*" !== e && n.tagName != e) || i.push(n);
                                }),
                                i
                            );
                        });
                    },
                    getElementsByTagNameNS: function (e, t) {
                        return new k(this, function (i) {
                            var n = [];
                            return (
                                D(i, function (r) {
                                    r === i || r.nodeType !== s || ("*" !== e && r.namespaceURI !== e) || ("*" !== t && r.localName != t) || n.push(r);
                                }),
                                n
                            );
                        });
                    },
                }),
                (R.prototype.getElementsByTagName = B.prototype.getElementsByTagName),
                (R.prototype.getElementsByTagNameNS = B.prototype.getElementsByTagNameNS),
                n(B, O),
                (F.prototype.nodeType = a),
                n(F, O),
                (H.prototype = {
                    data: "",
                    substringData: function (e, t) {
                        return this.data.substring(e, e + t);
                    },
                    appendData: function (e) {
                        (e = this.data + e), (this.nodeValue = this.data = e), (this.length = e.length);
                    },
                    insertData: function (e, t) {
                        this.replaceData(e, 0, t);
                    },
                    appendChild: function () {
                        throw new Error(y[_]);
                    },
                    deleteData: function (e, t) {
                        this.replaceData(e, t, "");
                    },
                    replaceData: function (e, t, i) {
                        (i = this.data.substring(0, e) + i + this.data.substring(e + t)), (this.nodeValue = this.data = i), (this.length = i.length);
                    },
                }),
                n(H, O),
                (q.prototype = {
                    nodeName: "#text",
                    nodeType: o,
                    splitText: function (e) {
                        var t = this.data,
                            i = t.substring(e);
                        (t = t.substring(0, e)), (this.data = this.nodeValue = t), (this.length = t.length);
                        var n = this.ownerDocument.createTextNode(i);
                        return this.parentNode && this.parentNode.insertBefore(n, this.nextSibling), n;
                    },
                }),
                n(q, H),
                (V.prototype = { nodeName: "#comment", nodeType: h }),
                n(V, H),
                ($.prototype = { nodeName: "#cdata-section", nodeType: l }),
                n($, H),
                (z.prototype.nodeType = f),
                n(z, O),
                (W.prototype.nodeType = g),
                n(W, O),
                (G.prototype.nodeType = c),
                n(G, O),
                (Y.prototype.nodeType = u),
                n(Y, O),
                (X.prototype.nodeName = "#document-fragment"),
                (X.prototype.nodeType = m),
                n(X, O),
                (K.prototype.nodeType = d),
                n(K, O),
                (Q.prototype.serializeToString = function (e, t, i) {
                    return J.call(e, t, i);
                }),
                (O.prototype.toString = J);
            try {
                if (Object.defineProperty) {
                    function re(e) {
                        switch (e.nodeType) {
                            case s:
                            case m:
                                var t = [];
                                for (e = e.firstChild; e; ) 7 !== e.nodeType && 8 !== e.nodeType && t.push(re(e)), (e = e.nextSibling);
                                return t.join("");
                            default:
                                return e.nodeValue;
                        }
                    }
                    Object.defineProperty(k.prototype, "length", {
                        get: function () {
                            return C(this), this.$$length;
                        },
                    }),
                        Object.defineProperty(O.prototype, "textContent", {
                            get: function () {
                                return re(this);
                            },
                            set: function (e) {
                                switch (this.nodeType) {
                                    case s:
                                    case m:
                                        for (; this.firstChild; ) this.removeChild(this.firstChild);
                                        (e || String(e)) && this.appendChild(this.ownerDocument.createTextNode(e));
                                        break;
                                    default:
                                        (this.data = e), (this.value = e), (this.nodeValue = e);
                                }
                            },
                        }),
                        (ne = function (e, t, i) {
                            e["$$" + t] = i;
                        });
                }
            } catch (e) {}
            (t.DOMImplementation = P), (t.XMLSerializer = Q);
        },
        function (e) {
            "use strict";
            e.exports = { H264_STREAM_TYPE: 27, ADTS_STREAM_TYPE: 15, METADATA_STREAM_TYPE: 21 };
        },
        function (e) {
            var t,
                i,
                n,
                r,
                s,
                a,
                o,
                l = 9e4;
            (t = function (e) {
                return e * l;
            }),
                (i = function (e, t) {
                    return e * t;
                }),
                (n = function (e) {
                    return e / l;
                }),
                (r = function (e, t) {
                    return e / t;
                }),
                (s = function (e, i) {
                    return t(r(e, i));
                }),
                (a = function (e, t) {
                    return i(n(e), t);
                }),
                (o = function (e, t, i) {
                    return n(i ? e : e - t);
                }),
                (e.exports = { ONE_SECOND_IN_TS: l, secondsToVideoTs: t, secondsToAudioTs: i, videoTsToSeconds: n, audioTsToSeconds: r, audioTsToVideoTs: s, videoTsToAudioTs: a, metadataTsToSeconds: o });
        },
        function (e) {
            e.exports = function (e) {
                var t = "";
                return (t += String.fromCharCode(e[0])), (t += String.fromCharCode(e[1])), (t += String.fromCharCode(e[2])), (t += String.fromCharCode(e[3]));
            };
        },
        ,
        ,
        ,
        ,
        ,
        ,
        function (e, t, i) {
            var n, r, s;
            !(function () {
                "use strict";
                (r = [i(30)]),
                    void 0 ===
                        (s =
                            "function" ==
                            typeof (n = function (e) {
                                var t = window.Slick || {};
                                ((t = (function () {
                                    var t = 0;
                                    function i(i, n) {
                                        var r,
                                            s = this;
                                        (s.defaults = {
                                            accessibility: !0,
                                            adaptiveHeight: !1,
                                            appendArrows: e(i),
                                            appendDots: e(i),
                                            arrows: !0,
                                            asNavFor: null,
                                            prevArrow: '<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',
                                            nextArrow: '<button class="slick-next" aria-label="Next" type="button">Next</button>',
                                            autoplay: !1,
                                            autoplaySpeed: 3e3,
                                            centerMode: !1,
                                            centerPadding: "50px",
                                            cssEase: "ease",
                                            customPaging: function (t, i) {
                                                return e('<button type="button" />').text(i + 1);
                                            },
                                            dots: !1,
                                            dotsClass: "slick-dots",
                                            draggable: !0,
                                            easing: "linear",
                                            edgeFriction: 0.35,
                                            fade: !1,
                                            focusOnSelect: !1,
                                            focusOnChange: !1,
                                            infinite: !0,
                                            initialSlide: 0,
                                            lazyLoad: "ondemand",
                                            mobileFirst: !1,
                                            pauseOnHover: !0,
                                            pauseOnFocus: !0,
                                            pauseOnDotsHover: !1,
                                            respondTo: "window",
                                            responsive: null,
                                            rows: 1,
                                            rtl: !1,
                                            slide: "",
                                            slidesPerRow: 1,
                                            slidesToShow: 1,
                                            slidesToScroll: 1,
                                            speed: 500,
                                            swipe: !0,
                                            swipeToSlide: !1,
                                            touchMove: !0,
                                            touchThreshold: 5,
                                            useCSS: !0,
                                            useTransform: !0,
                                            variableWidth: !1,
                                            vertical: !1,
                                            verticalSwiping: !1,
                                            waitForAnimate: !0,
                                            zIndex: 1e3,
                                        }),
                                            (s.initials = {
                                                animating: !1,
                                                dragging: !1,
                                                autoPlayTimer: null,
                                                currentDirection: 0,
                                                currentLeft: null,
                                                currentSlide: 0,
                                                direction: 1,
                                                $dots: null,
                                                listWidth: null,
                                                listHeight: null,
                                                loadIndex: 0,
                                                $nextArrow: null,
                                                $prevArrow: null,
                                                scrolling: !1,
                                                slideCount: null,
                                                slideWidth: null,
                                                $slideTrack: null,
                                                $slides: null,
                                                sliding: !1,
                                                slideOffset: 0,
                                                swipeLeft: null,
                                                swiping: !1,
                                                $list: null,
                                                touchObject: {},
                                                transformsEnabled: !1,
                                                unslicked: !1,
                                            }),
                                            e.extend(s, s.initials),
                                            (s.activeBreakpoint = null),
                                            (s.animType = null),
                                            (s.animProp = null),
                                            (s.breakpoints = []),
                                            (s.breakpointSettings = []),
                                            (s.cssTransitions = !1),
                                            (s.focussed = !1),
                                            (s.interrupted = !1),
                                            (s.hidden = "hidden"),
                                            (s.paused = !0),
                                            (s.positionProp = null),
                                            (s.respondTo = null),
                                            (s.rowCount = 1),
                                            (s.shouldClick = !0),
                                            (s.$slider = e(i)),
                                            (s.$slidesCache = null),
                                            (s.transformType = null),
                                            (s.transitionType = null),
                                            (s.visibilityChange = "visibilitychange"),
                                            (s.windowWidth = 0),
                                            (s.windowTimer = null),
                                            (r = e(i).data("slick") || {}),
                                            (s.options = e.extend({}, s.defaults, n, r)),
                                            (s.currentSlide = s.options.initialSlide),
                                            (s.originalSettings = s.options),
                                            void 0 !== document.mozHidden
                                                ? ((s.hidden = "mozHidden"), (s.visibilityChange = "mozvisibilitychange"))
                                                : void 0 !== document.webkitHidden && ((s.hidden = "webkitHidden"), (s.visibilityChange = "webkitvisibilitychange")),
                                            (s.autoPlay = e.proxy(s.autoPlay, s)),
                                            (s.autoPlayClear = e.proxy(s.autoPlayClear, s)),
                                            (s.autoPlayIterator = e.proxy(s.autoPlayIterator, s)),
                                            (s.changeSlide = e.proxy(s.changeSlide, s)),
                                            (s.clickHandler = e.proxy(s.clickHandler, s)),
                                            (s.selectHandler = e.proxy(s.selectHandler, s)),
                                            (s.setPosition = e.proxy(s.setPosition, s)),
                                            (s.swipeHandler = e.proxy(s.swipeHandler, s)),
                                            (s.dragHandler = e.proxy(s.dragHandler, s)),
                                            (s.keyHandler = e.proxy(s.keyHandler, s)),
                                            (s.instanceUid = t++),
                                            (s.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/),
                                            s.registerBreakpoints(),
                                            s.init(!0);
                                    }
                                    return i;
                                })()).prototype.activateADA = function () {
                                    this.$slideTrack.find(".slick-active").attr({ "aria-hidden": "false" }).find("a, input, button, select").attr({ tabindex: "0" });
                                }),
                                    (t.prototype.addSlide = t.prototype.slickAdd = function (t, i, n) {
                                        var r = this;
                                        if ("boolean" == typeof i) (n = i), (i = null);
                                        else if (i < 0 || i >= r.slideCount) return !1;
                                        r.unload(),
                                            "number" == typeof i
                                                ? 0 === i && 0 === r.$slides.length
                                                    ? e(t).appendTo(r.$slideTrack)
                                                    : n
                                                    ? e(t).insertBefore(r.$slides.eq(i))
                                                    : e(t).insertAfter(r.$slides.eq(i))
                                                : !0 === n
                                                ? e(t).prependTo(r.$slideTrack)
                                                : e(t).appendTo(r.$slideTrack),
                                            (r.$slides = r.$slideTrack.children(this.options.slide)),
                                            r.$slideTrack.children(this.options.slide).detach(),
                                            r.$slideTrack.append(r.$slides),
                                            r.$slides.each(function (t, i) {
                                                e(i).attr("data-slick-index", t);
                                            }),
                                            (r.$slidesCache = r.$slides),
                                            r.reinit();
                                    }),
                                    (t.prototype.animateHeight = function () {
                                        var e = this;
                                        if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                                            var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                                            e.$list.animate({ height: t }, e.options.speed);
                                        }
                                    }),
                                    (t.prototype.animateSlide = function (t, i) {
                                        var n = {},
                                            r = this;
                                        r.animateHeight(),
                                            !0 === r.options.rtl && !1 === r.options.vertical && (t = -t),
                                            !1 === r.transformsEnabled
                                                ? !1 === r.options.vertical
                                                    ? r.$slideTrack.animate({ left: t }, r.options.speed, r.options.easing, i)
                                                    : r.$slideTrack.animate({ top: t }, r.options.speed, r.options.easing, i)
                                                : !1 === r.cssTransitions
                                                ? (!0 === r.options.rtl && (r.currentLeft = -r.currentLeft),
                                                  e({ animStart: r.currentLeft }).animate(
                                                      { animStart: t },
                                                      {
                                                          duration: r.options.speed,
                                                          easing: r.options.easing,
                                                          step: function (e) {
                                                              (e = Math.ceil(e)),
                                                                  !1 === r.options.vertical ? ((n[r.animType] = "translate(" + e + "px, 0px)"), r.$slideTrack.css(n)) : ((n[r.animType] = "translate(0px," + e + "px)"), r.$slideTrack.css(n));
                                                          },
                                                          complete: function () {
                                                              i && i.call();
                                                          },
                                                      }
                                                  ))
                                                : (r.applyTransition(),
                                                  (t = Math.ceil(t)),
                                                  !1 === r.options.vertical ? (n[r.animType] = "translate3d(" + t + "px, 0px, 0px)") : (n[r.animType] = "translate3d(0px," + t + "px, 0px)"),
                                                  r.$slideTrack.css(n),
                                                  i &&
                                                      setTimeout(function () {
                                                          r.disableTransition(), i.call();
                                                      }, r.options.speed));
                                    }),
                                    (t.prototype.getNavTarget = function () {
                                        var t = this,
                                            i = t.options.asNavFor;
                                        return i && null !== i && (i = e(i).not(t.$slider)), i;
                                    }),
                                    (t.prototype.asNavFor = function (t) {
                                        var i = this.getNavTarget();
                                        null !== i &&
                                            "object" == typeof i &&
                                            i.each(function () {
                                                var i = e(this).slick("getSlick");
                                                i.unslicked || i.slideHandler(t, !0);
                                            });
                                    }),
                                    (t.prototype.applyTransition = function (e) {
                                        var t = this,
                                            i = {};
                                        !1 === t.options.fade ? (i[t.transitionType] = t.transformType + " " + t.options.speed + "ms " + t.options.cssEase) : (i[t.transitionType] = "opacity " + t.options.speed + "ms " + t.options.cssEase),
                                            !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i);
                                    }),
                                    (t.prototype.autoPlay = function () {
                                        var e = this;
                                        e.autoPlayClear(), e.slideCount > e.options.slidesToShow && (e.autoPlayTimer = setInterval(e.autoPlayIterator, e.options.autoplaySpeed));
                                    }),
                                    (t.prototype.autoPlayClear = function () {
                                        var e = this;
                                        e.autoPlayTimer && clearInterval(e.autoPlayTimer);
                                    }),
                                    (t.prototype.autoPlayIterator = function () {
                                        var e = this,
                                            t = e.currentSlide + e.options.slidesToScroll;
                                        e.paused ||
                                            e.interrupted ||
                                            e.focussed ||
                                            (!1 === e.options.infinite &&
                                                (1 === e.direction && e.currentSlide + 1 === e.slideCount - 1
                                                    ? (e.direction = 0)
                                                    : 0 === e.direction && ((t = e.currentSlide - e.options.slidesToScroll), e.currentSlide - 1 == 0 && (e.direction = 1))),
                                            e.slideHandler(t));
                                    }),
                                    (t.prototype.buildArrows = function () {
                                        var t = this;
                                        !0 === t.options.arrows &&
                                            ((t.$prevArrow = e(t.options.prevArrow).addClass("slick-arrow")),
                                            (t.$nextArrow = e(t.options.nextArrow).addClass("slick-arrow")),
                                            t.slideCount > t.options.slidesToShow
                                                ? (t.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),
                                                  t.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),
                                                  t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.prependTo(t.options.appendArrows),
                                                  t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.appendTo(t.options.appendArrows),
                                                  !0 !== t.options.infinite && t.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"))
                                                : t.$prevArrow.add(t.$nextArrow).addClass("slick-hidden").attr({ "aria-disabled": "true", tabindex: "-1" }));
                                    }),
                                    (t.prototype.buildDots = function () {
                                        var t,
                                            i,
                                            n = this;
                                        if (!0 === n.options.dots && n.slideCount > n.options.slidesToShow) {
                                            for (n.$slider.addClass("slick-dotted"), i = e("<ul />").addClass(n.options.dotsClass), t = 0; t <= n.getDotCount(); t += 1) i.append(e("<li />").append(n.options.customPaging.call(this, n, t)));
                                            (n.$dots = i.appendTo(n.options.appendDots)), n.$dots.find("li").first().addClass("slick-active");
                                        }
                                    }),
                                    (t.prototype.buildOut = function () {
                                        var t = this;
                                        (t.$slides = t.$slider.children(t.options.slide + ":not(.slick-cloned)").addClass("slick-slide")),
                                            (t.slideCount = t.$slides.length),
                                            t.$slides.each(function (t, i) {
                                                e(i)
                                                    .attr("data-slick-index", t)
                                                    .data("originalStyling", e(i).attr("style") || "");
                                            }),
                                            t.$slider.addClass("slick-slider"),
                                            (t.$slideTrack = 0 === t.slideCount ? e('<div class="slick-track"/>').appendTo(t.$slider) : t.$slides.wrapAll('<div class="slick-track"/>').parent()),
                                            (t.$list = t.$slideTrack.wrap('<div class="slick-list"/>').parent()),
                                            t.$slideTrack.css("opacity", 0),
                                            (!0 !== t.options.centerMode && !0 !== t.options.swipeToSlide) || (t.options.slidesToScroll = 1),
                                            e("img[data-lazy]", t.$slider).not("[src]").addClass("slick-loading"),
                                            t.setupInfinite(),
                                            t.buildArrows(),
                                            t.buildDots(),
                                            t.updateDots(),
                                            t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0),
                                            !0 === t.options.draggable && t.$list.addClass("draggable");
                                    }),
                                    (t.prototype.buildRows = function () {
                                        var e,
                                            t,
                                            i,
                                            n,
                                            r,
                                            s,
                                            a,
                                            o = this;
                                        if (((n = document.createDocumentFragment()), (s = o.$slider.children()), o.options.rows > 0)) {
                                            for (a = o.options.slidesPerRow * o.options.rows, r = Math.ceil(s.length / a), e = 0; e < r; e++) {
                                                var l = document.createElement("div");
                                                for (t = 0; t < o.options.rows; t++) {
                                                    var u = document.createElement("div");
                                                    for (i = 0; i < o.options.slidesPerRow; i++) {
                                                        var c = e * a + (t * o.options.slidesPerRow + i);
                                                        s.get(c) && u.appendChild(s.get(c));
                                                    }
                                                    l.appendChild(u);
                                                }
                                                n.appendChild(l);
                                            }
                                            o.$slider.empty().append(n),
                                                o.$slider
                                                    .children()
                                                    .children()
                                                    .children()
                                                    .css({ width: 100 / o.options.slidesPerRow + "%", display: "inline-block" });
                                        }
                                    }),
                                    (t.prototype.checkResponsive = function (t, i) {
                                        var n,
                                            r,
                                            s,
                                            a = this,
                                            o = !1,
                                            l = a.$slider.width(),
                                            u = window.innerWidth || e(window).width();
                                        if (
                                            ("window" === a.respondTo ? (s = u) : "slider" === a.respondTo ? (s = l) : "min" === a.respondTo && (s = Math.min(u, l)),
                                            a.options.responsive && a.options.responsive.length && null !== a.options.responsive)
                                        ) {
                                            for (n in ((r = null), a.breakpoints))
                                                a.breakpoints.hasOwnProperty(n) && (!1 === a.originalSettings.mobileFirst ? s < a.breakpoints[n] && (r = a.breakpoints[n]) : s > a.breakpoints[n] && (r = a.breakpoints[n]));
                                            null !== r
                                                ? null !== a.activeBreakpoint
                                                    ? (r !== a.activeBreakpoint || i) &&
                                                      ((a.activeBreakpoint = r),
                                                      "unslick" === a.breakpointSettings[r]
                                                          ? a.unslick(r)
                                                          : ((a.options = e.extend({}, a.originalSettings, a.breakpointSettings[r])), !0 === t && (a.currentSlide = a.options.initialSlide), a.refresh(t)),
                                                      (o = r))
                                                    : ((a.activeBreakpoint = r),
                                                      "unslick" === a.breakpointSettings[r]
                                                          ? a.unslick(r)
                                                          : ((a.options = e.extend({}, a.originalSettings, a.breakpointSettings[r])), !0 === t && (a.currentSlide = a.options.initialSlide), a.refresh(t)),
                                                      (o = r))
                                                : null !== a.activeBreakpoint && ((a.activeBreakpoint = null), (a.options = a.originalSettings), !0 === t && (a.currentSlide = a.options.initialSlide), a.refresh(t), (o = r)),
                                                t || !1 === o || a.$slider.trigger("breakpoint", [a, o]);
                                        }
                                    }),
                                    (t.prototype.changeSlide = function (t, i) {
                                        var n,
                                            r,
                                            s = this,
                                            a = e(t.currentTarget);
                                        switch (
                                            (a.is("a") && t.preventDefault(),
                                            a.is("li") || (a = a.closest("li")),
                                            (n = s.slideCount % s.options.slidesToScroll != 0 ? 0 : (s.slideCount - s.currentSlide) % s.options.slidesToScroll),
                                            t.data.message)
                                        ) {
                                            case "previous":
                                                (r = 0 === n ? s.options.slidesToScroll : s.options.slidesToShow - n), s.slideCount > s.options.slidesToShow && s.slideHandler(s.currentSlide - r, !1, i);
                                                break;
                                            case "next":
                                                (r = 0 === n ? s.options.slidesToScroll : n), s.slideCount > s.options.slidesToShow && s.slideHandler(s.currentSlide + r, !1, i);
                                                break;
                                            case "index":
                                                var o = 0 === t.data.index ? 0 : t.data.index || a.index() * s.options.slidesToScroll;
                                                s.slideHandler(s.checkNavigable(o), !1, i), a.children().trigger("focus");
                                                break;
                                            default:
                                                return;
                                        }
                                    }),
                                    (t.prototype.checkNavigable = function (e) {
                                        var t, i;
                                        if (((i = 0), e > (t = this.getNavigableIndexes())[t.length - 1])) e = t[t.length - 1];
                                        else
                                            for (var n in t) {
                                                if (e < t[n]) {
                                                    e = i;
                                                    break;
                                                }
                                                i = t[n];
                                            }
                                        return e;
                                    }),
                                    (t.prototype.cleanUpEvents = function () {
                                        var t = this;
                                        t.options.dots &&
                                            null !== t.$dots &&
                                            (e("li", t.$dots).off("click.slick", t.changeSlide).off("mouseenter.slick", e.proxy(t.interrupt, t, !0)).off("mouseleave.slick", e.proxy(t.interrupt, t, !1)),
                                            !0 === t.options.accessibility && t.$dots.off("keydown.slick", t.keyHandler)),
                                            t.$slider.off("focus.slick blur.slick"),
                                            !0 === t.options.arrows &&
                                                t.slideCount > t.options.slidesToShow &&
                                                (t.$prevArrow && t.$prevArrow.off("click.slick", t.changeSlide),
                                                t.$nextArrow && t.$nextArrow.off("click.slick", t.changeSlide),
                                                !0 === t.options.accessibility && (t.$prevArrow && t.$prevArrow.off("keydown.slick", t.keyHandler), t.$nextArrow && t.$nextArrow.off("keydown.slick", t.keyHandler))),
                                            t.$list.off("touchstart.slick mousedown.slick", t.swipeHandler),
                                            t.$list.off("touchmove.slick mousemove.slick", t.swipeHandler),
                                            t.$list.off("touchend.slick mouseup.slick", t.swipeHandler),
                                            t.$list.off("touchcancel.slick mouseleave.slick", t.swipeHandler),
                                            t.$list.off("click.slick", t.clickHandler),
                                            e(document).off(t.visibilityChange, t.visibility),
                                            t.cleanUpSlideEvents(),
                                            !0 === t.options.accessibility && t.$list.off("keydown.slick", t.keyHandler),
                                            !0 === t.options.focusOnSelect && e(t.$slideTrack).children().off("click.slick", t.selectHandler),
                                            e(window).off("orientationchange.slick.slick-" + t.instanceUid, t.orientationChange),
                                            e(window).off("resize.slick.slick-" + t.instanceUid, t.resize),
                                            e("[draggable!=true]", t.$slideTrack).off("dragstart", t.preventDefault),
                                            e(window).off("load.slick.slick-" + t.instanceUid, t.setPosition);
                                    }),
                                    (t.prototype.cleanUpSlideEvents = function () {
                                        var t = this;
                                        t.$list.off("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.off("mouseleave.slick", e.proxy(t.interrupt, t, !1));
                                    }),
                                    (t.prototype.cleanUpRows = function () {
                                        var e,
                                            t = this;
                                        t.options.rows > 0 && ((e = t.$slides.children().children()).removeAttr("style"), t.$slider.empty().append(e));
                                    }),
                                    (t.prototype.clickHandler = function (e) {
                                        !1 === this.shouldClick && (e.stopImmediatePropagation(), e.stopPropagation(), e.preventDefault());
                                    }),
                                    (t.prototype.destroy = function (t) {
                                        var i = this;
                                        i.autoPlayClear(),
                                            (i.touchObject = {}),
                                            i.cleanUpEvents(),
                                            e(".slick-cloned", i.$slider).detach(),
                                            i.$dots && i.$dots.remove(),
                                            i.$prevArrow &&
                                                i.$prevArrow.length &&
                                                (i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""),
                                                i.htmlExpr.test(i.options.prevArrow) && i.$prevArrow.remove()),
                                            i.$nextArrow &&
                                                i.$nextArrow.length &&
                                                (i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display", ""),
                                                i.htmlExpr.test(i.options.nextArrow) && i.$nextArrow.remove()),
                                            i.$slides &&
                                                (i.$slides
                                                    .removeClass("slick-slide slick-active slick-center slick-visible slick-current")
                                                    .removeAttr("aria-hidden")
                                                    .removeAttr("data-slick-index")
                                                    .each(function () {
                                                        e(this).attr("style", e(this).data("originalStyling"));
                                                    }),
                                                i.$slideTrack.children(this.options.slide).detach(),
                                                i.$slideTrack.detach(),
                                                i.$list.detach(),
                                                i.$slider.append(i.$slides)),
                                            i.cleanUpRows(),
                                            i.$slider.removeClass("slick-slider"),
                                            i.$slider.removeClass("slick-initialized"),
                                            i.$slider.removeClass("slick-dotted"),
                                            (i.unslicked = !0),
                                            t || i.$slider.trigger("destroy", [i]);
                                    }),
                                    (t.prototype.disableTransition = function (e) {
                                        var t = this,
                                            i = {};
                                        (i[t.transitionType] = ""), !1 === t.options.fade ? t.$slideTrack.css(i) : t.$slides.eq(e).css(i);
                                    }),
                                    (t.prototype.fadeSlide = function (e, t) {
                                        var i = this;
                                        !1 === i.cssTransitions
                                            ? (i.$slides.eq(e).css({ zIndex: i.options.zIndex }), i.$slides.eq(e).animate({ opacity: 1 }, i.options.speed, i.options.easing, t))
                                            : (i.applyTransition(e),
                                              i.$slides.eq(e).css({ opacity: 1, zIndex: i.options.zIndex }),
                                              t &&
                                                  setTimeout(function () {
                                                      i.disableTransition(e), t.call();
                                                  }, i.options.speed));
                                    }),
                                    (t.prototype.fadeSlideOut = function (e) {
                                        var t = this;
                                        !1 === t.cssTransitions
                                            ? t.$slides.eq(e).animate({ opacity: 0, zIndex: t.options.zIndex - 2 }, t.options.speed, t.options.easing)
                                            : (t.applyTransition(e), t.$slides.eq(e).css({ opacity: 0, zIndex: t.options.zIndex - 2 }));
                                    }),
                                    (t.prototype.filterSlides = t.prototype.slickFilter = function (e) {
                                        var t = this;
                                        null !== e && ((t.$slidesCache = t.$slides), t.unload(), t.$slideTrack.children(this.options.slide).detach(), t.$slidesCache.filter(e).appendTo(t.$slideTrack), t.reinit());
                                    }),
                                    (t.prototype.focusHandler = function () {
                                        var t = this;
                                        t.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick", "*", function (i) {
                                            i.stopImmediatePropagation();
                                            var n = e(this);
                                            setTimeout(function () {
                                                t.options.pauseOnFocus && ((t.focussed = n.is(":focus")), t.autoPlay());
                                            }, 0);
                                        });
                                    }),
                                    (t.prototype.getCurrent = t.prototype.slickCurrentSlide = function () {
                                        return this.currentSlide;
                                    }),
                                    (t.prototype.getDotCount = function () {
                                        var e = this,
                                            t = 0,
                                            i = 0,
                                            n = 0;
                                        if (!0 === e.options.infinite)
                                            if (e.slideCount <= e.options.slidesToShow) ++n;
                                            else for (; t < e.slideCount; ) ++n, (t = i + e.options.slidesToScroll), (i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow);
                                        else if (!0 === e.options.centerMode) n = e.slideCount;
                                        else if (e.options.asNavFor)
                                            for (; t < e.slideCount; ) ++n, (t = i + e.options.slidesToScroll), (i += e.options.slidesToScroll <= e.options.slidesToShow ? e.options.slidesToScroll : e.options.slidesToShow);
                                        else n = 1 + Math.ceil((e.slideCount - e.options.slidesToShow) / e.options.slidesToScroll);
                                        return n - 1;
                                    }),
                                    (t.prototype.getLeft = function (e) {
                                        var t,
                                            i,
                                            n,
                                            r,
                                            s = this,
                                            a = 0;
                                        return (
                                            (s.slideOffset = 0),
                                            (i = s.$slides.first().outerHeight(!0)),
                                            !0 === s.options.infinite
                                                ? (s.slideCount > s.options.slidesToShow &&
                                                      ((s.slideOffset = s.slideWidth * s.options.slidesToShow * -1),
                                                      (r = -1),
                                                      !0 === s.options.vertical && !0 === s.options.centerMode && (2 === s.options.slidesToShow ? (r = -1.5) : 1 === s.options.slidesToShow && (r = -2)),
                                                      (a = i * s.options.slidesToShow * r)),
                                                  s.slideCount % s.options.slidesToScroll != 0 &&
                                                      e + s.options.slidesToScroll > s.slideCount &&
                                                      s.slideCount > s.options.slidesToShow &&
                                                      (e > s.slideCount
                                                          ? ((s.slideOffset = (s.options.slidesToShow - (e - s.slideCount)) * s.slideWidth * -1), (a = (s.options.slidesToShow - (e - s.slideCount)) * i * -1))
                                                          : ((s.slideOffset = (s.slideCount % s.options.slidesToScroll) * s.slideWidth * -1), (a = (s.slideCount % s.options.slidesToScroll) * i * -1))))
                                                : e + s.options.slidesToShow > s.slideCount && ((s.slideOffset = (e + s.options.slidesToShow - s.slideCount) * s.slideWidth), (a = (e + s.options.slidesToShow - s.slideCount) * i)),
                                            s.slideCount <= s.options.slidesToShow && ((s.slideOffset = 0), (a = 0)),
                                            !0 === s.options.centerMode && s.slideCount <= s.options.slidesToShow
                                                ? (s.slideOffset = (s.slideWidth * Math.floor(s.options.slidesToShow)) / 2 - (s.slideWidth * s.slideCount) / 2)
                                                : !0 === s.options.centerMode && !0 === s.options.infinite
                                                ? (s.slideOffset += s.slideWidth * Math.floor(s.options.slidesToShow / 2) - s.slideWidth)
                                                : !0 === s.options.centerMode && ((s.slideOffset = 0), (s.slideOffset += s.slideWidth * Math.floor(s.options.slidesToShow / 2))),
                                            (t = !1 === s.options.vertical ? e * s.slideWidth * -1 + s.slideOffset : e * i * -1 + a),
                                            !0 === s.options.variableWidth &&
                                                ((n =
                                                    s.slideCount <= s.options.slidesToShow || !1 === s.options.infinite ? s.$slideTrack.children(".slick-slide").eq(e) : s.$slideTrack.children(".slick-slide").eq(e + s.options.slidesToShow)),
                                                (t = !0 === s.options.rtl ? (n[0] ? -1 * (s.$slideTrack.width() - n[0].offsetLeft - n.width()) : 0) : n[0] ? -1 * n[0].offsetLeft : 0),
                                                !0 === s.options.centerMode &&
                                                    ((n =
                                                        s.slideCount <= s.options.slidesToShow || !1 === s.options.infinite
                                                            ? s.$slideTrack.children(".slick-slide").eq(e)
                                                            : s.$slideTrack.children(".slick-slide").eq(e + s.options.slidesToShow + 1)),
                                                    (t = !0 === s.options.rtl ? (n[0] ? -1 * (s.$slideTrack.width() - n[0].offsetLeft - n.width()) : 0) : n[0] ? -1 * n[0].offsetLeft : 0),
                                                    (t += (s.$list.width() - n.outerWidth()) / 2))),
                                            t
                                        );
                                    }),
                                    (t.prototype.getOption = t.prototype.slickGetOption = function (e) {
                                        return this.options[e];
                                    }),
                                    (t.prototype.getNavigableIndexes = function () {
                                        var e,
                                            t = this,
                                            i = 0,
                                            n = 0,
                                            r = [];
                                        for (!1 === t.options.infinite ? (e = t.slideCount) : ((i = -1 * t.options.slidesToScroll), (n = -1 * t.options.slidesToScroll), (e = 2 * t.slideCount)); i < e; )
                                            r.push(i), (i = n + t.options.slidesToScroll), (n += t.options.slidesToScroll <= t.options.slidesToShow ? t.options.slidesToScroll : t.options.slidesToShow);
                                        return r;
                                    }),
                                    (t.prototype.getSlick = function () {
                                        return this;
                                    }),
                                    (t.prototype.getSlideCount = function () {
                                        var t,
                                            i,
                                            n = this;
                                        return (
                                            (i = !0 === n.options.centerMode ? n.slideWidth * Math.floor(n.options.slidesToShow / 2) : 0),
                                            !0 === n.options.swipeToSlide
                                                ? (n.$slideTrack.find(".slick-slide").each(function (r, s) {
                                                      if (s.offsetLeft - i + e(s).outerWidth() / 2 > -1 * n.swipeLeft) return (t = s), !1;
                                                  }),
                                                  Math.abs(e(t).attr("data-slick-index") - n.currentSlide) || 1)
                                                : n.options.slidesToScroll
                                        );
                                    }),
                                    (t.prototype.goTo = t.prototype.slickGoTo = function (e, t) {
                                        this.changeSlide({ data: { message: "index", index: parseInt(e) } }, t);
                                    }),
                                    (t.prototype.init = function (t) {
                                        var i = this;
                                        e(i.$slider).hasClass("slick-initialized") ||
                                            (e(i.$slider).addClass("slick-initialized"),
                                            i.buildRows(),
                                            i.buildOut(),
                                            i.setProps(),
                                            i.startLoad(),
                                            i.loadSlider(),
                                            i.initializeEvents(),
                                            i.updateArrows(),
                                            i.updateDots(),
                                            i.checkResponsive(!0),
                                            i.focusHandler()),
                                            t && i.$slider.trigger("init", [i]),
                                            !0 === i.options.accessibility && i.initADA(),
                                            i.options.autoplay && ((i.paused = !1), i.autoPlay());
                                    }),
                                    (t.prototype.initADA = function () {
                                        var t = this,
                                            i = Math.ceil(t.slideCount / t.options.slidesToShow),
                                            n = t.getNavigableIndexes().filter(function (e) {
                                                return e >= 0 && e < t.slideCount;
                                            });
                                        t.$slides.add(t.$slideTrack.find(".slick-cloned")).attr({ "aria-hidden": "true", tabindex: "-1" }).find("a, input, button, select").attr({ tabindex: "-1" }),
                                            null !== t.$dots &&
                                                (t.$slides.not(t.$slideTrack.find(".slick-cloned")).each(function (i) {
                                                    var r = n.indexOf(i);
                                                    if ((e(this).attr({ role: "tabpanel", id: "slick-slide" + t.instanceUid + i, tabindex: -1 }), -1 !== r)) {
                                                        var s = "slick-slide-control" + t.instanceUid + r;
                                                        e("#" + s).length && e(this).attr({ "aria-describedby": s });
                                                    }
                                                }),
                                                t.$dots
                                                    .attr("role", "tablist")
                                                    .find("li")
                                                    .each(function (r) {
                                                        var s = n[r];
                                                        e(this).attr({ role: "presentation" }),
                                                            e(this)
                                                                .find("button")
                                                                .first()
                                                                .attr({
                                                                    role: "tab",
                                                                    id: "slick-slide-control" + t.instanceUid + r,
                                                                    "aria-controls": "slick-slide" + t.instanceUid + s,
                                                                    "aria-label": r + 1 + " of " + i,
                                                                    "aria-selected": null,
                                                                    tabindex: "-1",
                                                                });
                                                    })
                                                    .eq(t.currentSlide)
                                                    .find("button")
                                                    .attr({ "aria-selected": "true", tabindex: "0" })
                                                    .end());
                                        for (var r = t.currentSlide, s = r + t.options.slidesToShow; r < s; r++) t.options.focusOnChange ? t.$slides.eq(r).attr({ tabindex: "0" }) : t.$slides.eq(r).removeAttr("tabindex");
                                        t.activateADA();
                                    }),
                                    (t.prototype.initArrowEvents = function () {
                                        var e = this;
                                        !0 === e.options.arrows &&
                                            e.slideCount > e.options.slidesToShow &&
                                            (e.$prevArrow.off("click.slick").on("click.slick", { message: "previous" }, e.changeSlide),
                                            e.$nextArrow.off("click.slick").on("click.slick", { message: "next" }, e.changeSlide),
                                            !0 === e.options.accessibility && (e.$prevArrow.on("keydown.slick", e.keyHandler), e.$nextArrow.on("keydown.slick", e.keyHandler)));
                                    }),
                                    (t.prototype.initDotEvents = function () {
                                        var t = this;
                                        !0 === t.options.dots &&
                                            t.slideCount > t.options.slidesToShow &&
                                            (e("li", t.$dots).on("click.slick", { message: "index" }, t.changeSlide), !0 === t.options.accessibility && t.$dots.on("keydown.slick", t.keyHandler)),
                                            !0 === t.options.dots &&
                                                !0 === t.options.pauseOnDotsHover &&
                                                t.slideCount > t.options.slidesToShow &&
                                                e("li", t.$dots).on("mouseenter.slick", e.proxy(t.interrupt, t, !0)).on("mouseleave.slick", e.proxy(t.interrupt, t, !1));
                                    }),
                                    (t.prototype.initSlideEvents = function () {
                                        var t = this;
                                        t.options.pauseOnHover && (t.$list.on("mouseenter.slick", e.proxy(t.interrupt, t, !0)), t.$list.on("mouseleave.slick", e.proxy(t.interrupt, t, !1)));
                                    }),
                                    (t.prototype.initializeEvents = function () {
                                        var t = this;
                                        t.initArrowEvents(),
                                            t.initDotEvents(),
                                            t.initSlideEvents(),
                                            t.$list.on("touchstart.slick mousedown.slick", { action: "start" }, t.swipeHandler),
                                            t.$list.on("touchmove.slick mousemove.slick", { action: "move" }, t.swipeHandler),
                                            t.$list.on("touchend.slick mouseup.slick", { action: "end" }, t.swipeHandler),
                                            t.$list.on("touchcancel.slick mouseleave.slick", { action: "end" }, t.swipeHandler),
                                            t.$list.on("click.slick", t.clickHandler),
                                            e(document).on(t.visibilityChange, e.proxy(t.visibility, t)),
                                            !0 === t.options.accessibility && t.$list.on("keydown.slick", t.keyHandler),
                                            !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler),
                                            e(window).on("orientationchange.slick.slick-" + t.instanceUid, e.proxy(t.orientationChange, t)),
                                            e(window).on("resize.slick.slick-" + t.instanceUid, e.proxy(t.resize, t)),
                                            e("[draggable!=true]", t.$slideTrack).on("dragstart", t.preventDefault),
                                            e(window).on("load.slick.slick-" + t.instanceUid, t.setPosition),
                                            e(t.setPosition);
                                    }),
                                    (t.prototype.initUI = function () {
                                        var e = this;
                                        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.show(), e.$nextArrow.show()), !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.show();
                                    }),
                                    (t.prototype.keyHandler = function (e) {
                                        var t = this;
                                        e.target.tagName.match("TEXTAREA|INPUT|SELECT") ||
                                            (37 === e.keyCode && !0 === t.options.accessibility
                                                ? t.changeSlide({ data: { message: !0 === t.options.rtl ? "next" : "previous" } })
                                                : 39 === e.keyCode && !0 === t.options.accessibility && t.changeSlide({ data: { message: !0 === t.options.rtl ? "previous" : "next" } }));
                                    }),
                                    (t.prototype.lazyLoad = function () {
                                        var t,
                                            i,
                                            n,
                                            r = this;
                                        function s(t) {
                                            e("img[data-lazy]", t).each(function () {
                                                var t = e(this),
                                                    i = e(this).attr("data-lazy"),
                                                    n = e(this).attr("data-srcset"),
                                                    s = e(this).attr("data-sizes") || r.$slider.attr("data-sizes"),
                                                    a = document.createElement("img");
                                                (a.onload = function () {
                                                    t.animate({ opacity: 0 }, 100, function () {
                                                        n && (t.attr("srcset", n), s && t.attr("sizes", s)),
                                                            t.attr("src", i).animate({ opacity: 1 }, 200, function () {
                                                                t.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading");
                                                            }),
                                                            r.$slider.trigger("lazyLoaded", [r, t, i]);
                                                    });
                                                }),
                                                    (a.onerror = function () {
                                                        t.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), r.$slider.trigger("lazyLoadError", [r, t, i]);
                                                    }),
                                                    (a.src = i);
                                            });
                                        }
                                        if (
                                            (!0 === r.options.centerMode
                                                ? !0 === r.options.infinite
                                                    ? (n = (i = r.currentSlide + (r.options.slidesToShow / 2 + 1)) + r.options.slidesToShow + 2)
                                                    : ((i = Math.max(0, r.currentSlide - (r.options.slidesToShow / 2 + 1))), (n = r.options.slidesToShow / 2 + 1 + 2 + r.currentSlide))
                                                : ((i = r.options.infinite ? r.options.slidesToShow + r.currentSlide : r.currentSlide),
                                                  (n = Math.ceil(i + r.options.slidesToShow)),
                                                  !0 === r.options.fade && (i > 0 && i--, n <= r.slideCount && n++)),
                                            (t = r.$slider.find(".slick-slide").slice(i, n)),
                                            "anticipated" === r.options.lazyLoad)
                                        )
                                            for (var a = i - 1, o = n, l = r.$slider.find(".slick-slide"), u = 0; u < r.options.slidesToScroll; u++) a < 0 && (a = r.slideCount - 1), (t = (t = t.add(l.eq(a))).add(l.eq(o))), a--, o++;
                                        s(t),
                                            r.slideCount <= r.options.slidesToShow
                                                ? s(r.$slider.find(".slick-slide"))
                                                : r.currentSlide >= r.slideCount - r.options.slidesToShow
                                                ? s(r.$slider.find(".slick-cloned").slice(0, r.options.slidesToShow))
                                                : 0 === r.currentSlide && s(r.$slider.find(".slick-cloned").slice(-1 * r.options.slidesToShow));
                                    }),
                                    (t.prototype.loadSlider = function () {
                                        var e = this;
                                        e.setPosition(), e.$slideTrack.css({ opacity: 1 }), e.$slider.removeClass("slick-loading"), e.initUI(), "progressive" === e.options.lazyLoad && e.progressiveLazyLoad();
                                    }),
                                    (t.prototype.next = t.prototype.slickNext = function () {
                                        this.changeSlide({ data: { message: "next" } });
                                    }),
                                    (t.prototype.orientationChange = function () {
                                        var e = this;
                                        e.checkResponsive(), e.setPosition();
                                    }),
                                    (t.prototype.pause = t.prototype.slickPause = function () {
                                        var e = this;
                                        e.autoPlayClear(), (e.paused = !0);
                                    }),
                                    (t.prototype.play = t.prototype.slickPlay = function () {
                                        var e = this;
                                        e.autoPlay(), (e.options.autoplay = !0), (e.paused = !1), (e.focussed = !1), (e.interrupted = !1);
                                    }),
                                    (t.prototype.postSlide = function (t) {
                                        var i = this;
                                        i.unslicked ||
                                            (i.$slider.trigger("afterChange", [i, t]),
                                            (i.animating = !1),
                                            i.slideCount > i.options.slidesToShow && i.setPosition(),
                                            (i.swipeLeft = null),
                                            i.options.autoplay && i.autoPlay(),
                                            !0 === i.options.accessibility && (i.initADA(), i.options.focusOnChange && e(i.$slides.get(i.currentSlide)).attr("tabindex", 0).focus()));
                                    }),
                                    (t.prototype.prev = t.prototype.slickPrev = function () {
                                        this.changeSlide({ data: { message: "previous" } });
                                    }),
                                    (t.prototype.preventDefault = function (e) {
                                        e.preventDefault();
                                    }),
                                    (t.prototype.progressiveLazyLoad = function (t) {
                                        t = t || 1;
                                        var i,
                                            n,
                                            r,
                                            s,
                                            a,
                                            o = this,
                                            l = e("img[data-lazy]", o.$slider);
                                        l.length
                                            ? ((i = l.first()),
                                              (n = i.attr("data-lazy")),
                                              (r = i.attr("data-srcset")),
                                              (s = i.attr("data-sizes") || o.$slider.attr("data-sizes")),
                                              ((a = document.createElement("img")).onload = function () {
                                                  r && (i.attr("srcset", r), s && i.attr("sizes", s)),
                                                      i.attr("src", n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),
                                                      !0 === o.options.adaptiveHeight && o.setPosition(),
                                                      o.$slider.trigger("lazyLoaded", [o, i, n]),
                                                      o.progressiveLazyLoad();
                                              }),
                                              (a.onerror = function () {
                                                  t < 3
                                                      ? setTimeout(function () {
                                                            o.progressiveLazyLoad(t + 1);
                                                        }, 500)
                                                      : (i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"), o.$slider.trigger("lazyLoadError", [o, i, n]), o.progressiveLazyLoad());
                                              }),
                                              (a.src = n))
                                            : o.$slider.trigger("allImagesLoaded", [o]);
                                    }),
                                    (t.prototype.refresh = function (t) {
                                        var i,
                                            n,
                                            r = this;
                                        (n = r.slideCount - r.options.slidesToShow),
                                            !r.options.infinite && r.currentSlide > n && (r.currentSlide = n),
                                            r.slideCount <= r.options.slidesToShow && (r.currentSlide = 0),
                                            (i = r.currentSlide),
                                            r.destroy(!0),
                                            e.extend(r, r.initials, { currentSlide: i }),
                                            r.init(),
                                            t || r.changeSlide({ data: { message: "index", index: i } }, !1);
                                    }),
                                    (t.prototype.registerBreakpoints = function () {
                                        var t,
                                            i,
                                            n,
                                            r = this,
                                            s = r.options.responsive || null;
                                        if ("array" === e.type(s) && s.length) {
                                            for (t in ((r.respondTo = r.options.respondTo || "window"), s))
                                                if (((n = r.breakpoints.length - 1), s.hasOwnProperty(t))) {
                                                    for (i = s[t].breakpoint; n >= 0; ) r.breakpoints[n] && r.breakpoints[n] === i && r.breakpoints.splice(n, 1), n--;
                                                    r.breakpoints.push(i), (r.breakpointSettings[i] = s[t].settings);
                                                }
                                            r.breakpoints.sort(function (e, t) {
                                                return r.options.mobileFirst ? e - t : t - e;
                                            });
                                        }
                                    }),
                                    (t.prototype.reinit = function () {
                                        var t = this;
                                        (t.$slides = t.$slideTrack.children(t.options.slide).addClass("slick-slide")),
                                            (t.slideCount = t.$slides.length),
                                            t.currentSlide >= t.slideCount && 0 !== t.currentSlide && (t.currentSlide = t.currentSlide - t.options.slidesToScroll),
                                            t.slideCount <= t.options.slidesToShow && (t.currentSlide = 0),
                                            t.registerBreakpoints(),
                                            t.setProps(),
                                            t.setupInfinite(),
                                            t.buildArrows(),
                                            t.updateArrows(),
                                            t.initArrowEvents(),
                                            t.buildDots(),
                                            t.updateDots(),
                                            t.initDotEvents(),
                                            t.cleanUpSlideEvents(),
                                            t.initSlideEvents(),
                                            t.checkResponsive(!1, !0),
                                            !0 === t.options.focusOnSelect && e(t.$slideTrack).children().on("click.slick", t.selectHandler),
                                            t.setSlideClasses("number" == typeof t.currentSlide ? t.currentSlide : 0),
                                            t.setPosition(),
                                            t.focusHandler(),
                                            (t.paused = !t.options.autoplay),
                                            t.autoPlay(),
                                            t.$slider.trigger("reInit", [t]);
                                    }),
                                    (t.prototype.resize = function () {
                                        var t = this;
                                        e(window).width() !== t.windowWidth &&
                                            (clearTimeout(t.windowDelay),
                                            (t.windowDelay = window.setTimeout(function () {
                                                (t.windowWidth = e(window).width()), t.checkResponsive(), t.unslicked || t.setPosition();
                                            }, 50)));
                                    }),
                                    (t.prototype.removeSlide = t.prototype.slickRemove = function (e, t, i) {
                                        var n = this;
                                        if (((e = "boolean" == typeof e ? (!0 === (t = e) ? 0 : n.slideCount - 1) : !0 === t ? --e : e), n.slideCount < 1 || e < 0 || e > n.slideCount - 1)) return !1;
                                        n.unload(),
                                            !0 === i ? n.$slideTrack.children().remove() : n.$slideTrack.children(this.options.slide).eq(e).remove(),
                                            (n.$slides = n.$slideTrack.children(this.options.slide)),
                                            n.$slideTrack.children(this.options.slide).detach(),
                                            n.$slideTrack.append(n.$slides),
                                            (n.$slidesCache = n.$slides),
                                            n.reinit();
                                    }),
                                    (t.prototype.setCSS = function (e) {
                                        var t,
                                            i,
                                            n = this,
                                            r = {};
                                        !0 === n.options.rtl && (e = -e),
                                            (t = "left" == n.positionProp ? Math.ceil(e) + "px" : "0px"),
                                            (i = "top" == n.positionProp ? Math.ceil(e) + "px" : "0px"),
                                            (r[n.positionProp] = e),
                                            !1 === n.transformsEnabled
                                                ? n.$slideTrack.css(r)
                                                : ((r = {}),
                                                  !1 === n.cssTransitions ? ((r[n.animType] = "translate(" + t + ", " + i + ")"), n.$slideTrack.css(r)) : ((r[n.animType] = "translate3d(" + t + ", " + i + ", 0px)"), n.$slideTrack.css(r)));
                                    }),
                                    (t.prototype.setDimensions = function () {
                                        var e = this;
                                        !1 === e.options.vertical
                                            ? !0 === e.options.centerMode && e.$list.css({ padding: "0px " + e.options.centerPadding })
                                            : (e.$list.height(e.$slides.first().outerHeight(!0) * e.options.slidesToShow), !0 === e.options.centerMode && e.$list.css({ padding: e.options.centerPadding + " 0px" })),
                                            (e.listWidth = e.$list.width()),
                                            (e.listHeight = e.$list.height()),
                                            !1 === e.options.vertical && !1 === e.options.variableWidth
                                                ? ((e.slideWidth = Math.ceil(e.listWidth / e.options.slidesToShow)), e.$slideTrack.width(Math.ceil(e.slideWidth * e.$slideTrack.children(".slick-slide").length)))
                                                : !0 === e.options.variableWidth
                                                ? e.$slideTrack.width(5e3 * e.slideCount)
                                                : ((e.slideWidth = Math.ceil(e.listWidth)), e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0) * e.$slideTrack.children(".slick-slide").length)));
                                        var t = e.$slides.first().outerWidth(!0) - e.$slides.first().width();
                                        !1 === e.options.variableWidth && e.$slideTrack.children(".slick-slide").width(e.slideWidth - t);
                                    }),
                                    (t.prototype.setFade = function () {
                                        var t,
                                            i = this;
                                        i.$slides.each(function (n, r) {
                                            (t = i.slideWidth * n * -1),
                                                !0 === i.options.rtl
                                                    ? e(r).css({ position: "relative", right: t, top: 0, zIndex: i.options.zIndex - 2, opacity: 0 })
                                                    : e(r).css({ position: "relative", left: t, top: 0, zIndex: i.options.zIndex - 2, opacity: 0 });
                                        }),
                                            i.$slides.eq(i.currentSlide).css({ zIndex: i.options.zIndex - 1, opacity: 1 });
                                    }),
                                    (t.prototype.setHeight = function () {
                                        var e = this;
                                        if (1 === e.options.slidesToShow && !0 === e.options.adaptiveHeight && !1 === e.options.vertical) {
                                            var t = e.$slides.eq(e.currentSlide).outerHeight(!0);
                                            e.$list.css("height", t);
                                        }
                                    }),
                                    (t.prototype.setOption = t.prototype.slickSetOption = function () {
                                        var t,
                                            i,
                                            n,
                                            r,
                                            s,
                                            a = this,
                                            o = !1;
                                        if (
                                            ("object" === e.type(arguments[0])
                                                ? ((n = arguments[0]), (o = arguments[1]), (s = "multiple"))
                                                : "string" === e.type(arguments[0]) &&
                                                  ((n = arguments[0]),
                                                  (r = arguments[1]),
                                                  (o = arguments[2]),
                                                  "responsive" === arguments[0] && "array" === e.type(arguments[1]) ? (s = "responsive") : void 0 !== arguments[1] && (s = "single")),
                                            "single" === s)
                                        )
                                            a.options[n] = r;
                                        else if ("multiple" === s)
                                            e.each(n, function (e, t) {
                                                a.options[e] = t;
                                            });
                                        else if ("responsive" === s)
                                            for (i in r)
                                                if ("array" !== e.type(a.options.responsive)) a.options.responsive = [r[i]];
                                                else {
                                                    for (t = a.options.responsive.length - 1; t >= 0; ) a.options.responsive[t].breakpoint === r[i].breakpoint && a.options.responsive.splice(t, 1), t--;
                                                    a.options.responsive.push(r[i]);
                                                }
                                        o && (a.unload(), a.reinit());
                                    }),
                                    (t.prototype.setPosition = function () {
                                        var e = this;
                                        e.setDimensions(), e.setHeight(), !1 === e.options.fade ? e.setCSS(e.getLeft(e.currentSlide)) : e.setFade(), e.$slider.trigger("setPosition", [e]);
                                    }),
                                    (t.prototype.setProps = function () {
                                        var e = this,
                                            t = document.body.style;
                                        (e.positionProp = !0 === e.options.vertical ? "top" : "left"),
                                            "top" === e.positionProp ? e.$slider.addClass("slick-vertical") : e.$slider.removeClass("slick-vertical"),
                                            (void 0 === t.WebkitTransition && void 0 === t.MozTransition && void 0 === t.msTransition) || (!0 === e.options.useCSS && (e.cssTransitions = !0)),
                                            e.options.fade && ("number" == typeof e.options.zIndex ? e.options.zIndex < 3 && (e.options.zIndex = 3) : (e.options.zIndex = e.defaults.zIndex)),
                                            void 0 !== t.OTransform &&
                                                ((e.animType = "OTransform"), (e.transformType = "-o-transform"), (e.transitionType = "OTransition"), void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)),
                                            void 0 !== t.MozTransform &&
                                                ((e.animType = "MozTransform"),
                                                (e.transformType = "-moz-transform"),
                                                (e.transitionType = "MozTransition"),
                                                void 0 === t.perspectiveProperty && void 0 === t.MozPerspective && (e.animType = !1)),
                                            void 0 !== t.webkitTransform &&
                                                ((e.animType = "webkitTransform"),
                                                (e.transformType = "-webkit-transform"),
                                                (e.transitionType = "webkitTransition"),
                                                void 0 === t.perspectiveProperty && void 0 === t.webkitPerspective && (e.animType = !1)),
                                            void 0 !== t.msTransform && ((e.animType = "msTransform"), (e.transformType = "-ms-transform"), (e.transitionType = "msTransition"), void 0 === t.msTransform && (e.animType = !1)),
                                            void 0 !== t.transform && !1 !== e.animType && ((e.animType = "transform"), (e.transformType = "transform"), (e.transitionType = "transition")),
                                            (e.transformsEnabled = e.options.useTransform && null !== e.animType && !1 !== e.animType);
                                    }),
                                    (t.prototype.setSlideClasses = function (e) {
                                        var t,
                                            i,
                                            n,
                                            r,
                                            s = this;
                                        if (((i = s.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden", "true")), s.$slides.eq(e).addClass("slick-current"), !0 === s.options.centerMode)) {
                                            var a = s.options.slidesToShow % 2 == 0 ? 1 : 0;
                                            (t = Math.floor(s.options.slidesToShow / 2)),
                                                !0 === s.options.infinite &&
                                                    (e >= t && e <= s.slideCount - 1 - t
                                                        ? s.$slides
                                                              .slice(e - t + a, e + t + 1)
                                                              .addClass("slick-active")
                                                              .attr("aria-hidden", "false")
                                                        : ((n = s.options.slidesToShow + e),
                                                          i
                                                              .slice(n - t + 1 + a, n + t + 2)
                                                              .addClass("slick-active")
                                                              .attr("aria-hidden", "false")),
                                                    0 === e ? i.eq(i.length - 1 - s.options.slidesToShow).addClass("slick-center") : e === s.slideCount - 1 && i.eq(s.options.slidesToShow).addClass("slick-center")),
                                                s.$slides.eq(e).addClass("slick-center");
                                        } else
                                            e >= 0 && e <= s.slideCount - s.options.slidesToShow
                                                ? s.$slides
                                                      .slice(e, e + s.options.slidesToShow)
                                                      .addClass("slick-active")
                                                      .attr("aria-hidden", "false")
                                                : i.length <= s.options.slidesToShow
                                                ? i.addClass("slick-active").attr("aria-hidden", "false")
                                                : ((r = s.slideCount % s.options.slidesToShow),
                                                  (n = !0 === s.options.infinite ? s.options.slidesToShow + e : e),
                                                  s.options.slidesToShow == s.options.slidesToScroll && s.slideCount - e < s.options.slidesToShow
                                                      ? i
                                                            .slice(n - (s.options.slidesToShow - r), n + r)
                                                            .addClass("slick-active")
                                                            .attr("aria-hidden", "false")
                                                      : i
                                                            .slice(n, n + s.options.slidesToShow)
                                                            .addClass("slick-active")
                                                            .attr("aria-hidden", "false"));
                                        ("ondemand" !== s.options.lazyLoad && "anticipated" !== s.options.lazyLoad) || s.lazyLoad();
                                    }),
                                    (t.prototype.setupInfinite = function () {
                                        var t,
                                            i,
                                            n,
                                            r = this;
                                        if ((!0 === r.options.fade && (r.options.centerMode = !1), !0 === r.options.infinite && !1 === r.options.fade && ((i = null), r.slideCount > r.options.slidesToShow))) {
                                            for (n = !0 === r.options.centerMode ? r.options.slidesToShow + 1 : r.options.slidesToShow, t = r.slideCount; t > r.slideCount - n; t -= 1)
                                                (i = t - 1),
                                                    e(r.$slides[i])
                                                        .clone(!0)
                                                        .attr("id", "")
                                                        .attr("data-slick-index", i - r.slideCount)
                                                        .prependTo(r.$slideTrack)
                                                        .addClass("slick-cloned");
                                            for (t = 0; t < n + r.slideCount; t += 1)
                                                (i = t),
                                                    e(r.$slides[i])
                                                        .clone(!0)
                                                        .attr("id", "")
                                                        .attr("data-slick-index", i + r.slideCount)
                                                        .appendTo(r.$slideTrack)
                                                        .addClass("slick-cloned");
                                            r.$slideTrack
                                                .find(".slick-cloned")
                                                .find("[id]")
                                                .each(function () {
                                                    e(this).attr("id", "");
                                                });
                                        }
                                    }),
                                    (t.prototype.interrupt = function (e) {
                                        var t = this;
                                        e || t.autoPlay(), (t.interrupted = e);
                                    }),
                                    (t.prototype.selectHandler = function (t) {
                                        var i = this,
                                            n = e(t.target).is(".slick-slide") ? e(t.target) : e(t.target).parents(".slick-slide"),
                                            r = parseInt(n.attr("data-slick-index"));
                                        r || (r = 0), i.slideCount <= i.options.slidesToShow ? i.slideHandler(r, !1, !0) : i.slideHandler(r);
                                    }),
                                    (t.prototype.slideHandler = function (e, t, i) {
                                        var n,
                                            r,
                                            s,
                                            a,
                                            o,
                                            l = null,
                                            u = this;
                                        if (((t = t || !1), !((!0 === u.animating && !0 === u.options.waitForAnimate) || (!0 === u.options.fade && u.currentSlide === e))))
                                            if (
                                                (!1 === t && u.asNavFor(e),
                                                (n = e),
                                                (l = u.getLeft(n)),
                                                (a = u.getLeft(u.currentSlide)),
                                                (u.currentLeft = null === u.swipeLeft ? a : u.swipeLeft),
                                                !1 === u.options.infinite && !1 === u.options.centerMode && (e < 0 || e > u.getDotCount() * u.options.slidesToScroll))
                                            )
                                                !1 === u.options.fade &&
                                                    ((n = u.currentSlide),
                                                    !0 !== i && u.slideCount > u.options.slidesToShow
                                                        ? u.animateSlide(a, function () {
                                                              u.postSlide(n);
                                                          })
                                                        : u.postSlide(n));
                                            else if (!1 === u.options.infinite && !0 === u.options.centerMode && (e < 0 || e > u.slideCount - u.options.slidesToScroll))
                                                !1 === u.options.fade &&
                                                    ((n = u.currentSlide),
                                                    !0 !== i && u.slideCount > u.options.slidesToShow
                                                        ? u.animateSlide(a, function () {
                                                              u.postSlide(n);
                                                          })
                                                        : u.postSlide(n));
                                            else {
                                                if (
                                                    (u.options.autoplay && clearInterval(u.autoPlayTimer),
                                                    (r =
                                                        n < 0
                                                            ? u.slideCount % u.options.slidesToScroll != 0
                                                                ? u.slideCount - (u.slideCount % u.options.slidesToScroll)
                                                                : u.slideCount + n
                                                            : n >= u.slideCount
                                                            ? u.slideCount % u.options.slidesToScroll != 0
                                                                ? 0
                                                                : n - u.slideCount
                                                            : n),
                                                    (u.animating = !0),
                                                    u.$slider.trigger("beforeChange", [u, u.currentSlide, r]),
                                                    (s = u.currentSlide),
                                                    (u.currentSlide = r),
                                                    u.setSlideClasses(u.currentSlide),
                                                    u.options.asNavFor && (o = (o = u.getNavTarget()).slick("getSlick")).slideCount <= o.options.slidesToShow && o.setSlideClasses(u.currentSlide),
                                                    u.updateDots(),
                                                    u.updateArrows(),
                                                    !0 === u.options.fade)
                                                )
                                                    return (
                                                        !0 !== i
                                                            ? (u.fadeSlideOut(s),
                                                              u.fadeSlide(r, function () {
                                                                  u.postSlide(r);
                                                              }))
                                                            : u.postSlide(r),
                                                        void u.animateHeight()
                                                    );
                                                !0 !== i && u.slideCount > u.options.slidesToShow
                                                    ? u.animateSlide(l, function () {
                                                          u.postSlide(r);
                                                      })
                                                    : u.postSlide(r);
                                            }
                                    }),
                                    (t.prototype.startLoad = function () {
                                        var e = this;
                                        !0 === e.options.arrows && e.slideCount > e.options.slidesToShow && (e.$prevArrow.hide(), e.$nextArrow.hide()),
                                            !0 === e.options.dots && e.slideCount > e.options.slidesToShow && e.$dots.hide(),
                                            e.$slider.addClass("slick-loading");
                                    }),
                                    (t.prototype.swipeDirection = function () {
                                        var e,
                                            t,
                                            i,
                                            n,
                                            r = this;
                                        return (
                                            (e = r.touchObject.startX - r.touchObject.curX),
                                            (t = r.touchObject.startY - r.touchObject.curY),
                                            (i = Math.atan2(t, e)),
                                            (n = Math.round((180 * i) / Math.PI)) < 0 && (n = 360 - Math.abs(n)),
                                            (n <= 45 && n >= 0) || (n <= 360 && n >= 315)
                                                ? !1 === r.options.rtl
                                                    ? "left"
                                                    : "right"
                                                : n >= 135 && n <= 225
                                                ? !1 === r.options.rtl
                                                    ? "right"
                                                    : "left"
                                                : !0 === r.options.verticalSwiping
                                                ? n >= 35 && n <= 135
                                                    ? "down"
                                                    : "up"
                                                : "vertical"
                                        );
                                    }),
                                    (t.prototype.swipeEnd = function () {
                                        var e,
                                            t,
                                            i = this;
                                        if (((i.dragging = !1), (i.swiping = !1), i.scrolling)) return (i.scrolling = !1), !1;
                                        if (((i.interrupted = !1), (i.shouldClick = !(i.touchObject.swipeLength > 10)), void 0 === i.touchObject.curX)) return !1;
                                        if ((!0 === i.touchObject.edgeHit && i.$slider.trigger("edge", [i, i.swipeDirection()]), i.touchObject.swipeLength >= i.touchObject.minSwipe)) {
                                            switch ((t = i.swipeDirection())) {
                                                case "left":
                                                case "down":
                                                    (e = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide + i.getSlideCount()) : i.currentSlide + i.getSlideCount()), (i.currentDirection = 0);
                                                    break;
                                                case "right":
                                                case "up":
                                                    (e = i.options.swipeToSlide ? i.checkNavigable(i.currentSlide - i.getSlideCount()) : i.currentSlide - i.getSlideCount()), (i.currentDirection = 1);
                                            }
                                            "vertical" != t && (i.slideHandler(e), (i.touchObject = {}), i.$slider.trigger("swipe", [i, t]));
                                        } else i.touchObject.startX !== i.touchObject.curX && (i.slideHandler(i.currentSlide), (i.touchObject = {}));
                                    }),
                                    (t.prototype.swipeHandler = function (e) {
                                        var t = this;
                                        if (!(!1 === t.options.swipe || ("ontouchend" in document && !1 === t.options.swipe) || (!1 === t.options.draggable && -1 !== e.type.indexOf("mouse"))))
                                            switch (
                                                ((t.touchObject.fingerCount = e.originalEvent && void 0 !== e.originalEvent.touches ? e.originalEvent.touches.length : 1),
                                                (t.touchObject.minSwipe = t.listWidth / t.options.touchThreshold),
                                                !0 === t.options.verticalSwiping && (t.touchObject.minSwipe = t.listHeight / t.options.touchThreshold),
                                                e.data.action)
                                            ) {
                                                case "start":
                                                    t.swipeStart(e);
                                                    break;
                                                case "move":
                                                    t.swipeMove(e);
                                                    break;
                                                case "end":
                                                    t.swipeEnd(e);
                                            }
                                    }),
                                    (t.prototype.swipeMove = function (e) {
                                        var t,
                                            i,
                                            n,
                                            r,
                                            s,
                                            a,
                                            o = this;
                                        return (
                                            (s = void 0 !== e.originalEvent ? e.originalEvent.touches : null),
                                            !(!o.dragging || o.scrolling || (s && 1 !== s.length)) &&
                                                ((t = o.getLeft(o.currentSlide)),
                                                (o.touchObject.curX = void 0 !== s ? s[0].pageX : e.clientX),
                                                (o.touchObject.curY = void 0 !== s ? s[0].pageY : e.clientY),
                                                (o.touchObject.swipeLength = Math.round(Math.sqrt(Math.pow(o.touchObject.curX - o.touchObject.startX, 2)))),
                                                (a = Math.round(Math.sqrt(Math.pow(o.touchObject.curY - o.touchObject.startY, 2)))),
                                                !o.options.verticalSwiping && !o.swiping && a > 4
                                                    ? ((o.scrolling = !0), !1)
                                                    : (!0 === o.options.verticalSwiping && (o.touchObject.swipeLength = a),
                                                      (i = o.swipeDirection()),
                                                      void 0 !== e.originalEvent && o.touchObject.swipeLength > 4 && ((o.swiping = !0), e.preventDefault()),
                                                      (r = (!1 === o.options.rtl ? 1 : -1) * (o.touchObject.curX > o.touchObject.startX ? 1 : -1)),
                                                      !0 === o.options.verticalSwiping && (r = o.touchObject.curY > o.touchObject.startY ? 1 : -1),
                                                      (n = o.touchObject.swipeLength),
                                                      (o.touchObject.edgeHit = !1),
                                                      !1 === o.options.infinite &&
                                                          ((0 === o.currentSlide && "right" === i) || (o.currentSlide >= o.getDotCount() && "left" === i)) &&
                                                          ((n = o.touchObject.swipeLength * o.options.edgeFriction), (o.touchObject.edgeHit = !0)),
                                                      !1 === o.options.vertical ? (o.swipeLeft = t + n * r) : (o.swipeLeft = t + n * (o.$list.height() / o.listWidth) * r),
                                                      !0 === o.options.verticalSwiping && (o.swipeLeft = t + n * r),
                                                      !0 !== o.options.fade && !1 !== o.options.touchMove && (!0 === o.animating ? ((o.swipeLeft = null), !1) : void o.setCSS(o.swipeLeft))))
                                        );
                                    }),
                                    (t.prototype.swipeStart = function (e) {
                                        var t,
                                            i = this;
                                        if (((i.interrupted = !0), 1 !== i.touchObject.fingerCount || i.slideCount <= i.options.slidesToShow)) return (i.touchObject = {}), !1;
                                        void 0 !== e.originalEvent && void 0 !== e.originalEvent.touches && (t = e.originalEvent.touches[0]),
                                            (i.touchObject.startX = i.touchObject.curX = void 0 !== t ? t.pageX : e.clientX),
                                            (i.touchObject.startY = i.touchObject.curY = void 0 !== t ? t.pageY : e.clientY),
                                            (i.dragging = !0);
                                    }),
                                    (t.prototype.unfilterSlides = t.prototype.slickUnfilter = function () {
                                        var e = this;
                                        null !== e.$slidesCache && (e.unload(), e.$slideTrack.children(this.options.slide).detach(), e.$slidesCache.appendTo(e.$slideTrack), e.reinit());
                                    }),
                                    (t.prototype.unload = function () {
                                        var t = this;
                                        e(".slick-cloned", t.$slider).remove(),
                                            t.$dots && t.$dots.remove(),
                                            t.$prevArrow && t.htmlExpr.test(t.options.prevArrow) && t.$prevArrow.remove(),
                                            t.$nextArrow && t.htmlExpr.test(t.options.nextArrow) && t.$nextArrow.remove(),
                                            t.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden", "true").css("width", "");
                                    }),
                                    (t.prototype.unslick = function (e) {
                                        var t = this;
                                        t.$slider.trigger("unslick", [t, e]), t.destroy();
                                    }),
                                    (t.prototype.updateArrows = function () {
                                        var e = this;
                                        Math.floor(e.options.slidesToShow / 2),
                                            !0 === e.options.arrows &&
                                                e.slideCount > e.options.slidesToShow &&
                                                !e.options.infinite &&
                                                (e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false"),
                                                e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"),
                                                0 === e.currentSlide
                                                    ? (e.$prevArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$nextArrow.removeClass("slick-disabled").attr("aria-disabled", "false"))
                                                    : ((e.currentSlide >= e.slideCount - e.options.slidesToShow && !1 === e.options.centerMode) || (e.currentSlide >= e.slideCount - 1 && !0 === e.options.centerMode)) &&
                                                      (e.$nextArrow.addClass("slick-disabled").attr("aria-disabled", "true"), e.$prevArrow.removeClass("slick-disabled").attr("aria-disabled", "false")));
                                    }),
                                    (t.prototype.updateDots = function () {
                                        var e = this;
                                        null !== e.$dots &&
                                            (e.$dots.find("li").removeClass("slick-active").end(),
                                            e.$dots
                                                .find("li")
                                                .eq(Math.floor(e.currentSlide / e.options.slidesToScroll))
                                                .addClass("slick-active"));
                                    }),
                                    (t.prototype.visibility = function () {
                                        var e = this;
                                        e.options.autoplay && (document[e.hidden] ? (e.interrupted = !0) : (e.interrupted = !1));
                                    }),
                                    (e.fn.slick = function () {
                                        var e,
                                            i,
                                            n = this,
                                            r = arguments[0],
                                            s = Array.prototype.slice.call(arguments, 1),
                                            a = n.length;
                                        for (e = 0; e < a; e++) if (("object" == typeof r || void 0 === r ? (n[e].slick = new t(n[e], r)) : (i = n[e].slick[r].apply(n[e].slick, s)), void 0 !== i)) return i;
                                        return n;
                                    });
                            })
                                ? n.apply(t, r)
                                : n) || (e.exports = s);
            })();
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n = a(i(43)),
                r = a(i(4)),
                s = a(i(93));
            function a(e) {
                return e && e.__esModule ? e : { default: e };
            }
            function o(e) {
                return (o =
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? function (e) {
                              return typeof e;
                          }
                        : function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          })(e);
            }
            function l(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                }
            }
            function u(e, t, i) {
                return (u =
                    "undefined" != typeof Reflect && Reflect.get
                        ? Reflect.get
                        : function (e, t, i) {
                              var n = (function (e, t) {
                                  for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); );
                                  return e;
                              })(e, t);
                              if (n) {
                                  var r = Object.getOwnPropertyDescriptor(n, t);
                                  return r.get ? r.get.call(i) : r.value;
                              }
                          })(e, t, i || e);
            }
            function c(e, t) {
                return (c =
                    Object.setPrototypeOf ||
                    function (e, t) {
                        return (e.__proto__ = t), e;
                    })(e, t);
            }
            function d(e) {
                var t = (function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                    } catch (e) {
                        return !1;
                    }
                })();
                return function () {
                    var i,
                        n = p(e);
                    if (t) {
                        var r = p(this).constructor;
                        i = Reflect.construct(n, arguments, r);
                    } else i = n.apply(this, arguments);
                    return h(this, i);
                };
            }
            function h(e, t) {
                return !t || ("object" !== o(t) && "function" != typeof t)
                    ? (function (e) {
                          if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                          return e;
                      })(e)
                    : t;
            }
            function p(e) {
                return (p = Object.setPrototypeOf
                    ? Object.getPrototypeOf
                    : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                      })(e);
            }
            var f = i(15),
                m = (function (e) {
                    !(function (e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                        (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && c(e, t);
                    })(o, e);
                    var t,
                        i,
                        n,
                        a = d(o);
                    function o(e) {
                        return (
                            (function (e, t) {
                                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                            })(this, o),
                            a.call(this, e, !1)
                        );
                    }
                    return (
                        (t = o),
                        (i = [
                            {
                                key: "_extra",
                                value: function () {
                                    u(p(o.prototype), "_extra", this).call(this), (this._dragger = !1);
                                },
                            },
                            {
                                key: "_setEvents",
                                value: function () {
                                    this._dragSet();
                                },
                            },
                            {
                                key: "_changeProp",
                                value: function () {
                                    this._dragSet();
                                },
                            },
                            {
                                key: "_dragSet",
                                value: function () {
                                    this._dragRemove(), this._prop.on && this._dragAdd();
                                },
                            },
                            {
                                key: "_dragRemove",
                                value: function () {
                                    this._dragger && this._dragger.destroy();
                                },
                            },
                            {
                                key: "_dragAdd",
                                value: function () {
                                    var e = this,
                                        t = this._prop.outer;
                                    t = t ? f.one(t) : this._m.outer;
                                    var i = new s.default({ outer: t });
                                    (this._dragger = i),
                                        ("h" == this._prop.direction
                                            ? [
                                                  ["right", "prev"],
                                                  ["left", "next"],
                                              ]
                                            : [
                                                  ["up", "next"],
                                                  ["down", "prev"],
                                              ]
                                        ).forEach(function (t) {
                                            e._dragAddEvent(i, t[0], t[1]);
                                        });
                                },
                            },
                            {
                                key: "_dragAddEvent",
                                value: function (e, t, i) {
                                    var n = this;
                                    e.on(
                                        t,
                                        function () {
                                            n._m[i]();
                                        },
                                        { min: this._prop.min }
                                    );
                                },
                            },
                            {
                                key: "_destroy",
                                value: function () {
                                    u(p(o.prototype), "_destroy", this).call(this), this._dragRemove();
                                },
                            },
                            {
                                key: "defaultProp",
                                get: function () {
                                    return (0, r.default)(u(p(o.prototype), "defaultProp", this), { outer: !1, on: !0, min: 100, direction: "h" });
                                },
                            },
                        ]) && l(t.prototype, i),
                        n && l(t, n),
                        o
                    );
                })(n.default);
            t.default = m;
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n = a(i(43)),
                r = a(i(4)),
                s = a(i(92));
            function a(e) {
                return e && e.__esModule ? e : { default: e };
            }
            function o(e) {
                return (o =
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? function (e) {
                              return typeof e;
                          }
                        : function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          })(e);
            }
            function l(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                }
            }
            function u(e, t, i) {
                return (u =
                    "undefined" != typeof Reflect && Reflect.get
                        ? Reflect.get
                        : function (e, t, i) {
                              var n = (function (e, t) {
                                  for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); );
                                  return e;
                              })(e, t);
                              if (n) {
                                  var r = Object.getOwnPropertyDescriptor(n, t);
                                  return r.get ? r.get.call(i) : r.value;
                              }
                          })(e, t, i || e);
            }
            function c(e, t) {
                return (c =
                    Object.setPrototypeOf ||
                    function (e, t) {
                        return (e.__proto__ = t), e;
                    })(e, t);
            }
            function d(e) {
                var t = (function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                    } catch (e) {
                        return !1;
                    }
                })();
                return function () {
                    var i,
                        n = p(e);
                    if (t) {
                        var r = p(this).constructor;
                        i = Reflect.construct(n, arguments, r);
                    } else i = n.apply(this, arguments);
                    return h(this, i);
                };
            }
            function h(e, t) {
                return !t || ("object" !== o(t) && "function" != typeof t)
                    ? (function (e) {
                          if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                          return e;
                      })(e)
                    : t;
            }
            function p(e) {
                return (p = Object.setPrototypeOf
                    ? Object.getPrototypeOf
                    : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                      })(e);
            }
            var f = (function (e) {
                !(function (e, t) {
                    if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && c(e, t);
                })(o, e);
                var t,
                    i,
                    n,
                    a = d(o);
                function o(e) {
                    return (
                        (function (e, t) {
                            if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                        })(this, o),
                        a.call(this, e, !1)
                    );
                }
                return (
                    (t = o),
                    (i = [
                        {
                            key: "_setEvents",
                            value: function () {
                                var e = this._m;
                                e.on("first", this._setInterval.bind(this)),
                                    e.on("start", this._removeInterval.bind(this)),
                                    e.on("end", this._setInterval.bind(this)),
                                    e.on("hide", this._removeInterval.bind(this)),
                                    e.on("shown", this._setInterval.bind(this));
                            },
                        },
                        {
                            key: "_changeProp",
                            value: function () {
                                this._setInterval();
                            },
                        },
                        {
                            key: "_setInterval",
                            value: function () {
                                var e = this;
                                this._removeInterval(),
                                    this._prop.on &&
                                        ((this._interval = new s.default({ v: this._m.prop.v })),
                                        this._interval.on(
                                            "",
                                            function () {
                                                e._m.next(!0);
                                            },
                                            { interval: this._prop.time }
                                        ));
                            },
                        },
                        {
                            key: "_removeInterval",
                            value: function () {
                                this._interval && (this._interval.destroy(), (this._interval = !1));
                            },
                        },
                        {
                            key: "_destroy",
                            value: function () {
                                u(p(o.prototype), "_destroy", this).call(this), this._removeInterval();
                            },
                        },
                        {
                            key: "defaultProp",
                            get: function () {
                                return (0, r.default)(u(p(o.prototype), "defaultProp", this), { on: !0, time: 5e3 });
                            },
                        },
                    ]) && l(t.prototype, i),
                    n && l(t, n),
                    o
                );
            })(n.default);
            t.default = f;
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n = a(i(94)),
                r = a(i(4)),
                s = a(i(95));
            function a(e) {
                return e && e.__esModule ? e : { default: e };
            }
            function o(e) {
                return (o =
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? function (e) {
                              return typeof e;
                          }
                        : function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          })(e);
            }
            function l(e, t) {
                for (var i = 0; i < t.length; i++) {
                    var n = t[i];
                    (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                }
            }
            function u(e, t, i) {
                return (u =
                    "undefined" != typeof Reflect && Reflect.get
                        ? Reflect.get
                        : function (e, t, i) {
                              var n = (function (e, t) {
                                  for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = p(e)); );
                                  return e;
                              })(e, t);
                              if (n) {
                                  var r = Object.getOwnPropertyDescriptor(n, t);
                                  return r.get ? r.get.call(i) : r.value;
                              }
                          })(e, t, i || e);
            }
            function c(e, t) {
                return (c =
                    Object.setPrototypeOf ||
                    function (e, t) {
                        return (e.__proto__ = t), e;
                    })(e, t);
            }
            function d(e) {
                var t = (function () {
                    if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ("function" == typeof Proxy) return !0;
                    try {
                        return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                    } catch (e) {
                        return !1;
                    }
                })();
                return function () {
                    var i,
                        n = p(e);
                    if (t) {
                        var r = p(this).constructor;
                        i = Reflect.construct(n, arguments, r);
                    } else i = n.apply(this, arguments);
                    return h(this, i);
                };
            }
            function h(e, t) {
                return !t || ("object" !== o(t) && "function" != typeof t)
                    ? (function (e) {
                          if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                          return e;
                      })(e)
                    : t;
            }
            function p(e) {
                return (p = Object.setPrototypeOf
                    ? Object.getPrototypeOf
                    : function (e) {
                          return e.__proto__ || Object.getPrototypeOf(e);
                      })(e);
            }
            var f = i(116),
                m = i(59),
                g = (function (e) {
                    !(function (e, t) {
                        if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                        (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && c(e, t);
                    })(o, e);
                    var t,
                        i,
                        n,
                        a = d(o);
                    function o(e) {
                        return (
                            (function (e, t) {
                                if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
                            })(this, o),
                            a.call(this, e)
                        );
                    }
                    return (
                        (t = o),
                        (i = [
                            {
                                key: "_changeProp",
                                value: function () {
                                    u(p(o.prototype), "_changeProp", this).call(this), this._autoframeToggle();
                                },
                            },
                            {
                                key: "_extra",
                                value: function () {
                                    (this._canvas = !1),
                                        (this._ctx = {}),
                                        (this._res = []),
                                        (this._resSize = []),
                                        (this._loaded = 0),
                                        (this._loadedAll = !1),
                                        (this._autoframe = new s.default({ fps: this._prop.autoframe.fps })),
                                        u(p(o.prototype), "_extra", this).call(this);
                                },
                            },
                            {
                                key: "_firstStart",
                                value: function () {
                                    this._prop.show && (this.renderStat(), this._autoframeToggle(), this._playVideo()), u(p(o.prototype), "_firstStart", this).call(this);
                                },
                            },
                            {
                                key: "_createElements",
                                value: function () {
                                    (this._canvas = m({ selector: "canvas" })), this._outer.appendChild(this._canvas), (this._ctx = this._canvas.getContext("2d"));
                                },
                            },
                            {
                                key: "_getElements",
                                value: function () {
                                    var e = this;
                                    u(p(o.prototype), "_getElements", this).call(this),
                                        this._slides.forEach(function (t) {
                                            var i = t.querySelector(e._prop.img);
                                            if (i) e._res.push(i);
                                            else {
                                                var n = t.querySelector("video");
                                                n && e._res.push(n);
                                            }
                                        }),
                                        this._slidesOuter.classList.add("display-none_important"),
                                        this._load();
                                },
                            },
                            {
                                key: "_load",
                                value: function () {
                                    for (var e = this, t = 0; t < this._res.length; t++) {
                                        var i = this._res[t];
                                        if ("VIDEO" == i.tagName)
                                            (this._res[t] = i),
                                                i.addEventListener("loadedmetadata", function () {
                                                    e._loadRes();
                                                }),
                                                (i.crossOrigin = "anonymous"),
                                                (i.muted = !0),
                                                (i.autoplay = !0),
                                                (i.loop = !0),
                                                i.load();
                                        else {
                                            var n = new Image();
                                            (this._res[t] = n), n.addEventListener("load", this._loadRes.bind(this)), (n.crossOrigin = "anonymous"), (n.src = i.getAttribute(this._prop.src));
                                        }
                                    }
                                },
                            },
                            {
                                key: "_loadRes",
                                value: function () {
                                    this._loaded++, this._loaded === this._total && this._onloaded();
                                },
                            },
                            {
                                key: "_onloaded",
                                value: function () {
                                    (this._loadedAll = !0), this.setSize(), this.lbt("loaded");
                                },
                            },
                            {
                                key: "_setEvents",
                                value: function () {
                                    var e = this;
                                    u(p(o.prototype), "_setEvents", this).call(this),
                                        this.on("start", function (t) {
                                            e._playVideo(t.next), e._pauseVideo(t.prev);
                                        }),
                                        this.on("end", function (t) {
                                            e._pauseVideo(t.prev);
                                        }),
                                        this.on("show", function () {
                                            e._playVideo(e._active);
                                        }),
                                        this.on("hide", function () {
                                            e._pauseVideo(e._active);
                                        });
                                },
                            },
                            {
                                key: "_playVideo",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._active;
                                    if (this._prop.autoplay) {
                                        var t = this._res[e];
                                        "VIDEO" == t.tagName && t.play();
                                    }
                                },
                            },
                            {
                                key: "_pauseVideo",
                                value: function () {
                                    var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._active;
                                    if (this._prop.autoplay) {
                                        var t = this._res[e];
                                        "VIDEO" == t.tagName && t.pause();
                                    }
                                },
                            },
                            {
                                key: "setSize",
                                value: function () {
                                    var e = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                                    u(p(o.prototype), "setSize", this).call(this), this._setCtxSize(), this._loadedAll & e && (this._setResSize(), (this._prop.show || this._shown) && this.renderStat());
                                },
                            },
                            {
                                key: "_setCtxSize",
                                value: function () {
                                    var e = this._size;
                                    (this._canvas.width = e[0]), (this._canvas.height = e[1]);
                                },
                            },
                            {
                                key: "_setResSize",
                                value: function () {
                                    var e = this;
                                    this._resSize = [];
                                    var t = this._size,
                                        i = t[0],
                                        n = t[1];
                                    this._res.forEach(function (t) {
                                        var r = f.get({ media: t, width: i, height: n });
                                        e._resSize.push(r);
                                    });
                                },
                            },
                            {
                                key: "_canvasClear",
                                value: function () {
                                    var e = this._size;
                                    this._ctx.clearRect(0, 0, e[0], e[1]);
                                },
                            },
                            {
                                key: "renderStat",
                                value: function () {
                                    this._loadedAll &&
                                        (this._playing || (this._setResSize(), this._canvasClear(), this._draw({ num: this._active, p: 1, direction: "show", type: "show", prev: this._active, next: this._active }), this.lbt("renderStat")));
                                },
                            },
                            {
                                key: "_animateSlides",
                                value: function (e) {
                                    this._canvasClear(), u(p(o.prototype), "_animateSlides", this).call(this, e);
                                },
                            },
                            {
                                key: "_render",
                                value: function (e) {
                                    ["show", "hide"].includes(e.direction) && this._canvasClear(), this._draw(e), u(p(o.prototype), "_render", this).call(this, e);
                                },
                            },
                            {
                                key: "_draw",
                                value: function (e) {
                                    var t,
                                        i,
                                        n = e.num,
                                        r = e.p,
                                        s = e.direction,
                                        a = e.type,
                                        o = (e.prev, e.next, this._res[n]),
                                        l = this._resSize[n],
                                        u = this._size,
                                        c = u[0],
                                        d = u[1];
                                    ["next", "show"].includes(s)
                                        ? "next" === a || "show" === a
                                            ? (i = c - (t = (1 - r) * c))
                                            : ((t = 0), (i = (1 - r) * c))
                                        : ["prev"].includes(s)
                                        ? "next" === a
                                            ? ((t = 0), (i = r * c))
                                            : (i = c - (t = c * r))
                                        : ((t = 0), (i = (1 - r) * c));
                                    var h = this._ctx;
                                    h.save(), h.beginPath(), h.rect(t, 0, i, d), h.closePath(), h.clip(), h.drawImage(o, 0, 0, l.mediaWidth, l.mediaHeight, l.x, l.y, l.width, l.height), h.restore();
                                },
                            },
                            {
                                key: "_autoframeDisable",
                                value: function () {
                                    this._autoframe.removeAll(), this._autoframe.pause();
                                },
                            },
                            {
                                key: "_autoframeEnable",
                                value: function () {
                                    this._prop.autoframe.on && (this._autoframe.add({ do: this.renderStat.bind(this) }), this._autoframe.play());
                                },
                            },
                            {
                                key: "_autoframeToggle",
                                value: function () {
                                    this._autoframeDisable(), this._prop.autoframe.on && this._autoframeEnable();
                                },
                            },
                            {
                                key: "show",
                                value: function () {
                                    return !!u(p(o.prototype), "show", this).call(this) && (this.on("shown", this._autoframeEnable.bind(this)), !0);
                                },
                            },
                            {
                                key: "hide",
                                value: function () {
                                    return !!u(p(o.prototype), "hide", this).call(this) && (this._autoframeDisable(), !0);
                                },
                            },
                            {
                                key: "destroy",
                                value: function () {
                                    u(p(o.prototype), "destroy", this).call(this), this._autoframe.destroy(), this._slidesOuter.classList.remove("display-none_important");
                                },
                            },
                            {
                                key: "defaultProp",
                                get: function () {
                                    return (0, r.default)(u(p(o.prototype), "defaultProp", this), { autoframe: { on: !1, fps: 30 }, autoplay: !0, img: "img", src: "src" });
                                },
                            },
                            {
                                key: "loaded",
                                get: function () {
                                    return this._loadedAll;
                                },
                            },
                        ]) && l(t.prototype, i),
                        n && l(t, n),
                        o
                    );
                })(n.default);
            t.default = g;
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }),
                Object.defineProperty(t, "get", {
                    enumerable: !0,
                    get: function () {
                        return n.default;
                    },
                }),
                Object.defineProperty(t, "apply", {
                    enumerable: !0,
                    get: function () {
                        return r.default;
                    },
                });
            var n = s(i(96)),
                r = s(i(117));
            function s(e) {
                return e && e.__esModule ? e : { default: e };
            }
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n,
                r = (n = i(96)) && n.__esModule ? n : { default: n };
            var s = function (e) {
                var t = { media: !1, rule: "cover", scale: 1 },
                    i = (t = Object.assign(t, e)).media;
                void 0 === t.parent && (t.parent = i.parentElement);
                var n = t.parent.clientWidth,
                    s = t.parent.clientHeight,
                    a = (0, r.default)({ media: i, rule: t.rule, width: n, height: s, scale: t.scale });
                (i.style.position = "absolute"), (i.style.left = a.x + "px"), (i.style.top = a.y + "px"), (i.style.width = a.width + "px"), (i.style.height = a.height + "px");
            };
            t.default = s;
        },
        ,
        function (e, t, i) {
            var n = i(120),
                r = i(91);
            e.exports = function (e, t) {
                return !t || ("object" !== n(t) && "function" != typeof t) ? r(e) : t;
            };
        },
        function (e) {
            function t(i) {
                return (
                    "function" == typeof Symbol && "symbol" == typeof Symbol.iterator
                        ? (e.exports = t = function (e) {
                              return typeof e;
                          })
                        : (e.exports = t = function (e) {
                              return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e;
                          }),
                    t(i)
                );
            }
            e.exports = t;
        },
        function (e) {
            function t(i) {
                return (
                    (e.exports = t = Object.setPrototypeOf
                        ? Object.getPrototypeOf
                        : function (e) {
                              return e.__proto__ || Object.getPrototypeOf(e);
                          }),
                    t(i)
                );
            }
            e.exports = t;
        },
        function (e) {
            e.exports = function (e, t) {
                var i,
                    n = null;
                try {
                    i = JSON.parse(e, t);
                } catch (e) {
                    n = e;
                }
                return [n, i];
            };
        },
        function (e, t) {
            function i(e) {
                if (e && "object" == typeof e) {
                    var t = e.which || e.keyCode || e.charCode;
                    t && (e = t);
                }
                if ("number" == typeof e) return a[e];
                var i,
                    s = String(e);
                return (i = n[s.toLowerCase()]) ? i : (i = r[s.toLowerCase()]) || (1 === s.length ? s.charCodeAt(0) : void 0);
            }
            i.isEventKey = function (e, t) {
                if (e && "object" == typeof e) {
                    var i = e.which || e.keyCode || e.charCode;
                    if (null == i) return !1;
                    if ("string" == typeof t) {
                        var s;
                        if ((s = n[t.toLowerCase()])) return s === i;
                        if ((s = r[t.toLowerCase()])) return s === i;
                    } else if ("number" == typeof t) return t === i;
                    return !1;
                }
            };
            var n = ((t = e.exports = i).code = t.codes = {
                    backspace: 8,
                    tab: 9,
                    enter: 13,
                    shift: 16,
                    ctrl: 17,
                    alt: 18,
                    "pause/break": 19,
                    "caps lock": 20,
                    esc: 27,
                    space: 32,
                    "page up": 33,
                    "page down": 34,
                    end: 35,
                    home: 36,
                    left: 37,
                    up: 38,
                    right: 39,
                    down: 40,
                    insert: 45,
                    delete: 46,
                    command: 91,
                    "left command": 91,
                    "right command": 93,
                    "numpad *": 106,
                    "numpad +": 107,
                    "numpad -": 109,
                    "numpad .": 110,
                    "numpad /": 111,
                    "num lock": 144,
                    "scroll lock": 145,
                    "my computer": 182,
                    "my calculator": 183,
                    ";": 186,
                    "=": 187,
                    ",": 188,
                    "-": 189,
                    ".": 190,
                    "/": 191,
                    "`": 192,
                    "[": 219,
                    "\\": 220,
                    "]": 221,
                    "'": 222,
                }),
                r = (t.aliases = {
                    windows: 91,
                    "â‡§": 16,
                    "âŒ¥": 18,
                    "âŒƒ": 17,
                    "âŒ˜": 91,
                    ctl: 17,
                    control: 17,
                    option: 18,
                    pause: 19,
                    break: 19,
                    caps: 20,
                    return: 13,
                    escape: 27,
                    spc: 32,
                    spacebar: 32,
                    pgup: 33,
                    pgdn: 34,
                    ins: 45,
                    del: 46,
                    cmd: 91,
                });
            for (s = 97; s < 123; s++) n[String.fromCharCode(s)] = s - 32;
            for (var s = 48; s < 58; s++) n[s - 48] = s;
            for (s = 1; s < 13; s++) n["f" + s] = s + 111;
            for (s = 0; s < 10; s++) n["numpad " + s] = s + 96;
            var a = (t.names = t.title = {});
            for (s in n) a[n[s]] = s;
            for (var o in r) n[o] = r[o];
        },
        function (e, t, i) {
            "use strict";
            var n = i(125),
                r = i(90),
                s = i(126);
            function a(e, t, i) {
                var n = e;
                return s(t) ? ((i = t), "string" == typeof e && (n = { uri: e })) : (n = r({}, t, { uri: e })), (n.callback = i), n;
            }
            function o(e, t, i) {
                return l((t = a(e, t, i)));
            }
            function l(e) {
                if (void 0 === e.callback) throw new Error("callback argument missing");
                var t = !1,
                    i = function (i, n, r) {
                        t || ((t = !0), e.callback(i, n, r));
                    };
                function n() {
                    var e = void 0;
                    if (
                        ((e = u.response
                            ? u.response
                            : u.responseText ||
                              (function (e) {
                                  try {
                                      if ("document" === e.responseType) return e.responseXML;
                                      var t = e.responseXML && "parsererror" === e.responseXML.documentElement.nodeName;
                                      if ("" === e.responseType && !t) return e.responseXML;
                                  } catch (e) {}
                                  return null;
                              })(u)),
                        g)
                    )
                        try {
                            e = JSON.parse(e);
                        } catch (e) {}
                    return e;
                }
                function r(e) {
                    return clearTimeout(c), e instanceof Error || (e = new Error("" + (e || "Unknown XMLHttpRequest Error"))), (e.statusCode = 0), i(e, v);
                }
                function s() {
                    if (!l) {
                        var t;
                        clearTimeout(c), (t = e.useXDR && void 0 === u.status ? 200 : 1223 === u.status ? 204 : u.status);
                        var r = v,
                            s = null;
                        return (
                            0 !== t
                                ? ((r = { body: n(), statusCode: t, method: h, headers: {}, url: d, rawRequest: u }),
                                  u.getAllResponseHeaders &&
                                      (r.headers = (function (e) {
                                          var t = {};
                                          return e
                                              ? (e
                                                    .trim()
                                                    .split("\n")
                                                    .forEach(function (e) {
                                                        var i = e.indexOf(":"),
                                                            n = e.slice(0, i).trim().toLowerCase(),
                                                            r = e.slice(i + 1).trim();
                                                        void 0 === t[n] ? (t[n] = r) : Array.isArray(t[n]) ? t[n].push(r) : (t[n] = [t[n], r]);
                                                    }),
                                                t)
                                              : t;
                                      })(u.getAllResponseHeaders())))
                                : (s = new Error("Internal XMLHttpRequest Error")),
                            i(s, r, r.body)
                        );
                    }
                }
                var a,
                    l,
                    u = e.xhr || null;
                u || (u = e.cors || e.useXDR ? new o.XDomainRequest() : new o.XMLHttpRequest());
                var c,
                    d = (u.url = e.uri || e.url),
                    h = (u.method = e.method || "GET"),
                    p = e.body || e.data,
                    f = (u.headers = e.headers || {}),
                    m = !!e.sync,
                    g = !1,
                    v = { body: void 0, headers: {}, statusCode: 0, method: h, url: d, rawRequest: u };
                if (
                    ("json" in e &&
                        !1 !== e.json &&
                        ((g = !0),
                        f.accept || f.Accept || (f.Accept = "application/json"),
                        "GET" !== h && "HEAD" !== h && (f["content-type"] || f["Content-Type"] || (f["Content-Type"] = "application/json"), (p = JSON.stringify(!0 === e.json ? p : e.json)))),
                    (u.onreadystatechange = function () {
                        4 === u.readyState && setTimeout(s, 0);
                    }),
                    (u.onload = s),
                    (u.onerror = r),
                    (u.onprogress = function () {}),
                    (u.onabort = function () {
                        l = !0;
                    }),
                    (u.ontimeout = r),
                    u.open(h, d, !m, e.username, e.password),
                    m || (u.withCredentials = !!e.withCredentials),
                    !m &&
                        e.timeout > 0 &&
                        (c = setTimeout(function () {
                            if (!l) {
                                (l = !0), u.abort("timeout");
                                var e = new Error("XMLHttpRequest timeout");
                                (e.code = "ETIMEDOUT"), r(e);
                            }
                        }, e.timeout)),
                    u.setRequestHeader)
                )
                    for (a in f) f.hasOwnProperty(a) && u.setRequestHeader(a, f[a]);
                else if (
                    e.headers &&
                    !(function (e) {
                        for (var t in e) if (e.hasOwnProperty(t)) return !1;
                        return !0;
                    })(e.headers)
                )
                    throw new Error("Headers cannot be set on an XDomainRequest object");
                return "responseType" in e && (u.responseType = e.responseType), "beforeSend" in e && "function" == typeof e.beforeSend && e.beforeSend(u), u.send(p || null), u;
            }
            (e.exports = o),
                (e.exports.default = o),
                (o.XMLHttpRequest = n.XMLHttpRequest || function () {}),
                (o.XDomainRequest = "withCredentials" in new o.XMLHttpRequest() ? o.XMLHttpRequest : n.XDomainRequest),
                (function (e, t) {
                    for (var i = 0; i < e.length; i++) t(e[i]);
                })(["get", "put", "post", "patch", "head", "delete"], function (e) {
                    o["delete" === e ? "del" : e] = function (t, i, n) {
                        return ((i = a(t, i, n)).method = e.toUpperCase()), l(i);
                    };
                });
        },
        function (e, t, i) {
            (function (t) {
                var i;
                (i = "undefined" != typeof window ? window : void 0 !== t ? t : "undefined" != typeof self ? self : {}), (e.exports = i);
            }.call(this, i(58)));
        },
        function (e) {
            e.exports = function (e) {
                if (!e) return !1;
                var i = t.call(e);
                return "[object Function]" === i || ("function" == typeof e && "[object RegExp]" !== i) || ("undefined" != typeof window && (e === window.setTimeout || e === window.alert || e === window.confirm || e === window.prompt));
            };
            var t = Object.prototype.toString;
        },
        function (e, t, i) {
            var n = i(85),
                r = (e.exports = { WebVTT: i(128), VTTCue: i(129), VTTRegion: i(130) });
            (n.vttjs = r), (n.WebVTT = r.WebVTT);
            var s = r.VTTCue,
                a = r.VTTRegion,
                o = n.VTTCue,
                l = n.VTTRegion;
            (r.shim = function () {
                (n.VTTCue = s), (n.VTTRegion = a);
            }),
                (r.restore = function () {
                    (n.VTTCue = o), (n.VTTRegion = l);
                }),
                n.VTTCue || r.shim();
        },
        function (e, t, i) {
            var n = i(97),
                r =
                    Object.create ||
                    (function () {
                        function e() {}
                        return function (t) {
                            if (1 !== arguments.length) throw new Error("Object.create shim only accepts one parameter.");
                            return (e.prototype = t), new e();
                        };
                    })();
            function s(e, t) {
                (this.name = "ParsingError"), (this.code = e.code), (this.message = t || e.message);
            }
            function a(e) {
                function t(e, t, i, n) {
                    return 3600 * (0 | e) + 60 * (0 | t) + (0 | i) + (0 | n) / 1e3;
                }
                var i = e.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);
                return i ? (i[3] ? t(i[1], i[2], i[3].replace(":", ""), i[4]) : i[1] > 59 ? t(i[1], i[2], 0, i[4]) : t(0, i[1], i[2], i[4])) : null;
            }
            function o() {
                this.values = r(null);
            }
            function l(e, t, i, n) {
                var r = n ? e.split(n) : [e];
                for (var s in r)
                    if ("string" == typeof r[s]) {
                        var a = r[s].split(i);
                        if (2 === a.length) t(a[0], a[1]);
                    }
            }
            function u(e, t, i) {
                var n = e;
                function r() {
                    var t = a(e);
                    if (null === t) throw new s(s.Errors.BadTimeStamp, "Malformed timestamp: " + n);
                    return (e = e.replace(/^[^\sa-zA-Z-]+/, "")), t;
                }
                function u() {
                    e = e.replace(/^\s+/, "");
                }
                if ((u(), (t.startTime = r()), u(), "--\x3e" !== e.substr(0, 3))) throw new s(s.Errors.BadTimeStamp, "Malformed time stamp (time stamps must be separated by '--\x3e'): " + n);
                (e = e.substr(3)),
                    u(),
                    (t.endTime = r()),
                    u(),
                    (function (e, t) {
                        var n = new o();
                        l(
                            e,
                            function (e, t) {
                                switch (e) {
                                    case "region":
                                        for (var r = i.length - 1; r >= 0; r--)
                                            if (i[r].id === t) {
                                                n.set(e, i[r].region);
                                                break;
                                            }
                                        break;
                                    case "vertical":
                                        n.alt(e, t, ["rl", "lr"]);
                                        break;
                                    case "line":
                                        var s = t.split(","),
                                            a = s[0];
                                        n.integer(e, a), n.percent(e, a) && n.set("snapToLines", !1), n.alt(e, a, ["auto"]), 2 === s.length && n.alt("lineAlign", s[1], ["start", "center", "end"]);
                                        break;
                                    case "position":
                                        (s = t.split(",")), n.percent(e, s[0]), 2 === s.length && n.alt("positionAlign", s[1], ["start", "center", "end"]);
                                        break;
                                    case "size":
                                        n.percent(e, t);
                                        break;
                                    case "align":
                                        n.alt(e, t, ["start", "center", "end", "left", "right"]);
                                }
                            },
                            /:/,
                            /\s/
                        ),
                            (t.region = n.get("region", null)),
                            (t.vertical = n.get("vertical", ""));
                        try {
                            t.line = n.get("line", "auto");
                        } catch (e) {}
                        (t.lineAlign = n.get("lineAlign", "start")), (t.snapToLines = n.get("snapToLines", !0)), (t.size = n.get("size", 100));
                        try {
                            t.align = n.get("align", "center");
                        } catch (e) {
                            t.align = n.get("align", "middle");
                        }
                        try {
                            t.position = n.get("position", "auto");
                        } catch (e) {
                            t.position = n.get("position", { start: 0, left: 0, center: 50, middle: 50, end: 100, right: 100 }, t.align);
                        }
                        t.positionAlign = n.get("positionAlign", { start: "start", left: "start", center: "center", middle: "center", end: "end", right: "end" }, t.align);
                    })(e, t);
            }
            (s.prototype = r(Error.prototype)),
                (s.prototype.constructor = s),
                (s.Errors = { BadSignature: { code: 0, message: "Malformed WebVTT signature." }, BadTimeStamp: { code: 1, message: "Malformed time stamp." } }),
                (o.prototype = {
                    set: function (e, t) {
                        this.get(e) || "" === t || (this.values[e] = t);
                    },
                    get: function (e, t, i) {
                        return i ? (this.has(e) ? this.values[e] : t[i]) : this.has(e) ? this.values[e] : t;
                    },
                    has: function (e) {
                        return e in this.values;
                    },
                    alt: function (e, t, i) {
                        for (var n = 0; n < i.length; ++n)
                            if (t === i[n]) {
                                this.set(e, t);
                                break;
                            }
                    },
                    integer: function (e, t) {
                        /^-?\d+$/.test(t) && this.set(e, parseInt(t, 10));
                    },
                    percent: function (e, t) {
                        return !!(t.match(/^([\d]{1,3})(\.[\d]*)?%$/) && (t = parseFloat(t)) >= 0 && t <= 100) && (this.set(e, t), !0);
                    },
                });
            var c = n.createElement("textarea"),
                d = { c: "span", i: "i", b: "b", u: "u", ruby: "ruby", rt: "rt", v: "span", lang: "span" },
                h = { white: "rgba(255,255,255,1)", lime: "rgba(0,255,0,1)", cyan: "rgba(0,255,255,1)", red: "rgba(255,0,0,1)", yellow: "rgba(255,255,0,1)", magenta: "rgba(255,0,255,1)", blue: "rgba(0,0,255,1)", black: "rgba(0,0,0,1)" },
                p = { v: "title", lang: "lang" },
                f = { rt: "ruby" };
            function m(e, t) {
                function i() {
                    if (!t) return null;
                    var e,
                        i = t.match(/^([^<]*)(<[^>]*>?)?/);
                    return (e = i[1] ? i[1] : i[2]), (t = t.substr(e.length)), e;
                }
                function n(e, t) {
                    return !f[t.localName] || f[t.localName] === e.localName;
                }
                function r(t, i) {
                    var n = d[t];
                    if (!n) return null;
                    var r = e.document.createElement(n),
                        s = p[t];
                    return s && i && (r[s] = i.trim()), r;
                }
                for (var s, o, l = e.document.createElement("div"), u = l, m = []; null !== (s = i()); )
                    if ("<" !== s[0]) u.appendChild(e.document.createTextNode(((o = s), (c.innerHTML = o), (o = c.textContent), (c.textContent = ""), o)));
                    else {
                        if ("/" === s[1]) {
                            m.length && m[m.length - 1] === s.substr(2).replace(">", "") && (m.pop(), (u = u.parentNode));
                            continue;
                        }
                        var g,
                            v = a(s.substr(1, s.length - 2));
                        if (v) {
                            (g = e.document.createProcessingInstruction("timestamp", v)), u.appendChild(g);
                            continue;
                        }
                        var y = s.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);
                        if (!y) continue;
                        if (!(g = r(y[1], y[3]))) continue;
                        if (!n(u, g)) continue;
                        if (y[2]) {
                            var _ = y[2].split(".");
                            _.forEach(function (e) {
                                var t = /^bg_/.test(e),
                                    i = t ? e.slice(3) : e;
                                if (h.hasOwnProperty(i)) {
                                    var n = t ? "background-color" : "color",
                                        r = h[i];
                                    g.style[n] = r;
                                }
                            }),
                                (g.className = _.join(" "));
                        }
                        m.push(y[1]), u.appendChild(g), (u = g);
                    }
                return l;
            }
            var g = [
                [1470, 1470],
                [1472, 1472],
                [1475, 1475],
                [1478, 1478],
                [1488, 1514],
                [1520, 1524],
                [1544, 1544],
                [1547, 1547],
                [1549, 1549],
                [1563, 1563],
                [1566, 1610],
                [1645, 1647],
                [1649, 1749],
                [1765, 1766],
                [1774, 1775],
                [1786, 1805],
                [1807, 1808],
                [1810, 1839],
                [1869, 1957],
                [1969, 1969],
                [1984, 2026],
                [2036, 2037],
                [2042, 2042],
                [2048, 2069],
                [2074, 2074],
                [2084, 2084],
                [2088, 2088],
                [2096, 2110],
                [2112, 2136],
                [2142, 2142],
                [2208, 2208],
                [2210, 2220],
                [8207, 8207],
                [64285, 64285],
                [64287, 64296],
                [64298, 64310],
                [64312, 64316],
                [64318, 64318],
                [64320, 64321],
                [64323, 64324],
                [64326, 64449],
                [64467, 64829],
                [64848, 64911],
                [64914, 64967],
                [65008, 65020],
                [65136, 65140],
                [65142, 65276],
                [67584, 67589],
                [67592, 67592],
                [67594, 67637],
                [67639, 67640],
                [67644, 67644],
                [67647, 67669],
                [67671, 67679],
                [67840, 67867],
                [67872, 67897],
                [67903, 67903],
                [67968, 68023],
                [68030, 68031],
                [68096, 68096],
                [68112, 68115],
                [68117, 68119],
                [68121, 68147],
                [68160, 68167],
                [68176, 68184],
                [68192, 68223],
                [68352, 68405],
                [68416, 68437],
                [68440, 68466],
                [68472, 68479],
                [68608, 68680],
                [126464, 126467],
                [126469, 126495],
                [126497, 126498],
                [126500, 126500],
                [126503, 126503],
                [126505, 126514],
                [126516, 126519],
                [126521, 126521],
                [126523, 126523],
                [126530, 126530],
                [126535, 126535],
                [126537, 126537],
                [126539, 126539],
                [126541, 126543],
                [126545, 126546],
                [126548, 126548],
                [126551, 126551],
                [126553, 126553],
                [126555, 126555],
                [126557, 126557],
                [126559, 126559],
                [126561, 126562],
                [126564, 126564],
                [126567, 126570],
                [126572, 126578],
                [126580, 126583],
                [126585, 126588],
                [126590, 126590],
                [126592, 126601],
                [126603, 126619],
                [126625, 126627],
                [126629, 126633],
                [126635, 126651],
                [1114109, 1114109],
            ];
            function v(e) {
                for (var t = 0; t < g.length; t++) {
                    var i = g[t];
                    if (e >= i[0] && e <= i[1]) return !0;
                }
                return !1;
            }
            function y(e) {
                var t = [],
                    i = "";
                if (!e || !e.childNodes) return "ltr";
                function n(e, t) {
                    for (var i = t.childNodes.length - 1; i >= 0; i--) e.push(t.childNodes[i]);
                }
                function r(e) {
                    if (!e || !e.length) return null;
                    var t = e.pop(),
                        i = t.textContent || t.innerText;
                    if (i) {
                        var s = i.match(/^.*(\n|\r)/);
                        return s ? ((e.length = 0), s[0]) : i;
                    }
                    return "ruby" === t.tagName ? r(e) : t.childNodes ? (n(e, t), r(e)) : void 0;
                }
                for (n(t, e); (i = r(t)); ) for (var s = 0; s < i.length; s++) if (v(i.charCodeAt(s))) return "rtl";
                return "ltr";
            }
            function _() {}
            function b(e, t, i) {
                _.call(this), (this.cue = t), (this.cueDiv = m(e, t.text));
                var n = {
                    color: "rgba(255, 255, 255, 1)",
                    backgroundColor: "rgba(0, 0, 0, 0.8)",
                    position: "relative",
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0,
                    display: "inline",
                    writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
                    unicodeBidi: "plaintext",
                };
                this.applyStyles(n, this.cueDiv),
                    (this.div = e.document.createElement("div")),
                    (n = {
                        direction: y(this.cueDiv),
                        writingMode: "" === t.vertical ? "horizontal-tb" : "lr" === t.vertical ? "vertical-lr" : "vertical-rl",
                        unicodeBidi: "plaintext",
                        textAlign: "middle" === t.align ? "center" : t.align,
                        font: i.font,
                        whiteSpace: "pre-line",
                        position: "absolute",
                    }),
                    this.applyStyles(n),
                    this.div.appendChild(this.cueDiv);
                var r = 0;
                switch (t.positionAlign) {
                    case "start":
                        r = t.position;
                        break;
                    case "center":
                        r = t.position - t.size / 2;
                        break;
                    case "end":
                        r = t.position - t.size;
                }
                "" === t.vertical ? this.applyStyles({ left: this.formatStyle(r, "%"), width: this.formatStyle(t.size, "%") }) : this.applyStyles({ top: this.formatStyle(r, "%"), height: this.formatStyle(t.size, "%") }),
                    (this.move = function (e) {
                        this.applyStyles({
                            top: this.formatStyle(e.top, "px"),
                            bottom: this.formatStyle(e.bottom, "px"),
                            left: this.formatStyle(e.left, "px"),
                            right: this.formatStyle(e.right, "px"),
                            height: this.formatStyle(e.height, "px"),
                            width: this.formatStyle(e.width, "px"),
                        });
                    });
            }
            function T(e) {
                var t, i, n, r;
                if (e.div) {
                    (i = e.div.offsetHeight), (n = e.div.offsetWidth), (r = e.div.offsetTop);
                    var s = (s = e.div.childNodes) && (s = s[0]) && s.getClientRects && s.getClientRects();
                    (e = e.div.getBoundingClientRect()), (t = s ? Math.max((s[0] && s[0].height) || 0, e.height / s.length) : 0);
                }
                (this.left = e.left),
                    (this.right = e.right),
                    (this.top = e.top || r),
                    (this.height = e.height || i),
                    (this.bottom = e.bottom || r + (e.height || i)),
                    (this.width = e.width || n),
                    (this.lineHeight = void 0 !== t ? t : e.lineHeight);
            }
            function S(e, t, i, n) {
                var r = new T(t),
                    s = t.cue,
                    a = (function (e) {
                        if ("number" == typeof e.line && (e.snapToLines || (e.line >= 0 && e.line <= 100))) return e.line;
                        if (!e.track || !e.track.textTrackList || !e.track.textTrackList.mediaElement) return -1;
                        for (var t = e.track, i = t.textTrackList, n = 0, r = 0; r < i.length && i[r] !== t; r++) "showing" === i[r].mode && n++;
                        return -1 * ++n;
                    })(s),
                    o = [];
                if (s.snapToLines) {
                    var l;
                    switch (s.vertical) {
                        case "":
                            (o = ["+y", "-y"]), (l = "height");
                            break;
                        case "rl":
                            (o = ["+x", "-x"]), (l = "width");
                            break;
                        case "lr":
                            (o = ["-x", "+x"]), (l = "width");
                    }
                    var u = r.lineHeight,
                        c = u * Math.round(a),
                        d = i[l] + u,
                        h = o[0];
                    Math.abs(c) > d && ((c = c < 0 ? -1 : 1), (c *= Math.ceil(d / u) * u)), a < 0 && ((c += "" === s.vertical ? i.height : i.width), (o = o.reverse())), r.move(h, c);
                } else {
                    var p = (r.lineHeight / i.height) * 100;
                    switch (s.lineAlign) {
                        case "center":
                            a -= p / 2;
                            break;
                        case "end":
                            a -= p;
                    }
                    switch (s.vertical) {
                        case "":
                            t.applyStyles({ top: t.formatStyle(a, "%") });
                            break;
                        case "rl":
                            t.applyStyles({ left: t.formatStyle(a, "%") });
                            break;
                        case "lr":
                            t.applyStyles({ right: t.formatStyle(a, "%") });
                    }
                    (o = ["+y", "-x", "+x", "-y"]), (r = new T(t));
                }
                var f = (function (e, t) {
                    for (var r, s = new T(e), a = 1, o = 0; o < t.length; o++) {
                        for (; e.overlapsOppositeAxis(i, t[o]) || (e.within(i) && e.overlapsAny(n)); ) e.move(t[o]);
                        if (e.within(i)) return e;
                        var l = e.intersectPercentage(i);
                        a > l && ((r = new T(e)), (a = l)), (e = new T(s));
                    }
                    return r || s;
                })(r, o);
                t.move(f.toCSSCompatValues(i));
            }
            function w() {}
            (_.prototype.applyStyles = function (e, t) {
                for (var i in ((t = t || this.div), e)) e.hasOwnProperty(i) && (t.style[i] = e[i]);
            }),
                (_.prototype.formatStyle = function (e, t) {
                    return 0 === e ? 0 : e + t;
                }),
                (b.prototype = r(_.prototype)),
                (b.prototype.constructor = b),
                (T.prototype.move = function (e, t) {
                    switch (((t = void 0 !== t ? t : this.lineHeight), e)) {
                        case "+x":
                            (this.left += t), (this.right += t);
                            break;
                        case "-x":
                            (this.left -= t), (this.right -= t);
                            break;
                        case "+y":
                            (this.top += t), (this.bottom += t);
                            break;
                        case "-y":
                            (this.top -= t), (this.bottom -= t);
                    }
                }),
                (T.prototype.overlaps = function (e) {
                    return this.left < e.right && this.right > e.left && this.top < e.bottom && this.bottom > e.top;
                }),
                (T.prototype.overlapsAny = function (e) {
                    for (var t = 0; t < e.length; t++) if (this.overlaps(e[t])) return !0;
                    return !1;
                }),
                (T.prototype.within = function (e) {
                    return this.top >= e.top && this.bottom <= e.bottom && this.left >= e.left && this.right <= e.right;
                }),
                (T.prototype.overlapsOppositeAxis = function (e, t) {
                    switch (t) {
                        case "+x":
                            return this.left < e.left;
                        case "-x":
                            return this.right > e.right;
                        case "+y":
                            return this.top < e.top;
                        case "-y":
                            return this.bottom > e.bottom;
                    }
                }),
                (T.prototype.intersectPercentage = function (e) {
                    return (Math.max(0, Math.min(this.right, e.right) - Math.max(this.left, e.left)) * Math.max(0, Math.min(this.bottom, e.bottom) - Math.max(this.top, e.top))) / (this.height * this.width);
                }),
                (T.prototype.toCSSCompatValues = function (e) {
                    return { top: this.top - e.top, bottom: e.bottom - this.bottom, left: this.left - e.left, right: e.right - this.right, height: this.height, width: this.width };
                }),
                (T.getSimpleBoxPosition = function (e) {
                    var t = e.div ? e.div.offsetHeight : e.tagName ? e.offsetHeight : 0,
                        i = e.div ? e.div.offsetWidth : e.tagName ? e.offsetWidth : 0,
                        n = e.div ? e.div.offsetTop : e.tagName ? e.offsetTop : 0;
                    return {
                        left: (e = e.div ? e.div.getBoundingClientRect() : e.tagName ? e.getBoundingClientRect() : e).left,
                        right: e.right,
                        top: e.top || n,
                        height: e.height || t,
                        bottom: e.bottom || n + (e.height || t),
                        width: e.width || i,
                    };
                }),
                (w.StringDecoder = function () {
                    return {
                        decode: function (e) {
                            if (!e) return "";
                            if ("string" != typeof e) throw new Error("Error - expected string data.");
                            return decodeURIComponent(encodeURIComponent(e));
                        },
                    };
                }),
                (w.convertCueToDOMTree = function (e, t) {
                    return e && t ? m(e, t) : null;
                });
            (w.processCues = function (e, t, i) {
                if (!e || !t || !i) return null;
                for (; i.firstChild; ) i.removeChild(i.firstChild);
                var n = e.document.createElement("div");
                if (
                    ((n.style.position = "absolute"),
                    (n.style.left = "0"),
                    (n.style.right = "0"),
                    (n.style.top = "0"),
                    (n.style.bottom = "0"),
                    (n.style.margin = "1.5%"),
                    i.appendChild(n),
                    (function (e) {
                        for (var t = 0; t < e.length; t++) if (e[t].hasBeenReset || !e[t].displayState) return !0;
                        return !1;
                    })(t))
                ) {
                    var r = [],
                        s = T.getSimpleBoxPosition(n),
                        a = { font: Math.round(0.05 * s.height * 100) / 100 + "px sans-serif" };
                    !(function () {
                        for (var i, o, l = 0; l < t.length; l++) (o = t[l]), (i = new b(e, o, a)), n.appendChild(i.div), S(0, i, s, r), (o.displayState = i.div), r.push(T.getSimpleBoxPosition(i));
                    })();
                } else for (var o = 0; o < t.length; o++) n.appendChild(t[o].displayState);
            }),
                (w.Parser = function (e, t, i) {
                    i || ((i = t), (t = {})), t || (t = {}), (this.window = e), (this.vttjs = t), (this.state = "INITIAL"), (this.buffer = ""), (this.decoder = i || new TextDecoder("utf8")), (this.regionList = []);
                }),
                (w.Parser.prototype = {
                    reportOrThrowError: function (e) {
                        if (!(e instanceof s)) throw e;
                        this.onparsingerror && this.onparsingerror(e);
                    },
                    parse: function (e) {
                        var t = this;
                        function i() {
                            for (var e = t.buffer, i = 0; i < e.length && "\r" !== e[i] && "\n" !== e[i]; ) ++i;
                            var n = e.substr(0, i);
                            return "\r" === e[i] && ++i, "\n" === e[i] && ++i, (t.buffer = e.substr(i)), n;
                        }
                        function n(e) {
                            e.match(/X-TIMESTAMP-MAP/)
                                ? l(
                                      e,
                                      function (e, i) {
                                          switch (e) {
                                              case "X-TIMESTAMP-MAP":
                                                  !(function (e) {
                                                      var i = new o();
                                                      l(
                                                          e,
                                                          function (e, t) {
                                                              switch (e) {
                                                                  case "MPEGT":
                                                                      i.integer(e + "S", t);
                                                                      break;
                                                                  case "LOCA":
                                                                      i.set(e + "L", a(t));
                                                              }
                                                          },
                                                          /[^\d]:/,
                                                          /,/
                                                      ),
                                                          t.ontimestampmap && t.ontimestampmap({ MPEGTS: i.get("MPEGTS"), LOCAL: i.get("LOCAL") });
                                                  })(i);
                                          }
                                      },
                                      /=/
                                  )
                                : l(
                                      e,
                                      function (e, i) {
                                          switch (e) {
                                              case "Region":
                                                  !(function (e) {
                                                      var i = new o();
                                                      if (
                                                          (l(
                                                              e,
                                                              function (e, t) {
                                                                  switch (e) {
                                                                      case "id":
                                                                          i.set(e, t);
                                                                          break;
                                                                      case "width":
                                                                          i.percent(e, t);
                                                                          break;
                                                                      case "lines":
                                                                          i.integer(e, t);
                                                                          break;
                                                                      case "regionanchor":
                                                                      case "viewportanchor":
                                                                          var n = t.split(",");
                                                                          if (2 !== n.length) break;
                                                                          var r = new o();
                                                                          if ((r.percent("x", n[0]), r.percent("y", n[1]), !r.has("x") || !r.has("y"))) break;
                                                                          i.set(e + "X", r.get("x")), i.set(e + "Y", r.get("y"));
                                                                          break;
                                                                      case "scroll":
                                                                          i.alt(e, t, ["up"]);
                                                                  }
                                                              },
                                                              /=/,
                                                              /\s/
                                                          ),
                                                          i.has("id"))
                                                      ) {
                                                          var n = new (t.vttjs.VTTRegion || t.window.VTTRegion)();
                                                          (n.width = i.get("width", 100)),
                                                              (n.lines = i.get("lines", 3)),
                                                              (n.regionAnchorX = i.get("regionanchorX", 0)),
                                                              (n.regionAnchorY = i.get("regionanchorY", 100)),
                                                              (n.viewportAnchorX = i.get("viewportanchorX", 0)),
                                                              (n.viewportAnchorY = i.get("viewportanchorY", 100)),
                                                              (n.scroll = i.get("scroll", "")),
                                                              t.onregion && t.onregion(n),
                                                              t.regionList.push({ id: i.get("id"), region: n });
                                                      }
                                                  })(i);
                                          }
                                      },
                                      /:/
                                  );
                        }
                        e && (t.buffer += t.decoder.decode(e, { stream: !0 }));
                        try {
                            var r;
                            if ("INITIAL" === t.state) {
                                if (!/\r\n|\n/.test(t.buffer)) return this;
                                var c = (r = i()).match(/^WEBVTT([ \t].*)?$/);
                                if (!c || !c[0]) throw new s(s.Errors.BadSignature);
                                t.state = "HEADER";
                            }
                            for (var d = !1; t.buffer; ) {
                                if (!/\r\n|\n/.test(t.buffer)) return this;
                                switch ((d ? (d = !1) : (r = i()), t.state)) {
                                    case "HEADER":
                                        /:/.test(r) ? n(r) : r || (t.state = "ID");
                                        continue;
                                    case "NOTE":
                                        r || (t.state = "ID");
                                        continue;
                                    case "ID":
                                        if (/^NOTE($|[ \t])/.test(r)) {
                                            t.state = "NOTE";
                                            break;
                                        }
                                        if (!r) continue;
                                        t.cue = new (t.vttjs.VTTCue || t.window.VTTCue)(0, 0, "");
                                        try {
                                            t.cue.align = "center";
                                        } catch (e) {
                                            t.cue.align = "middle";
                                        }
                                        if (((t.state = "CUE"), -1 === r.indexOf("--\x3e"))) {
                                            t.cue.id = r;
                                            continue;
                                        }
                                    case "CUE":
                                        try {
                                            u(r, t.cue, t.regionList);
                                        } catch (e) {
                                            t.reportOrThrowError(e), (t.cue = null), (t.state = "BADCUE");
                                            continue;
                                        }
                                        t.state = "CUETEXT";
                                        continue;
                                    case "CUETEXT":
                                        var h = -1 !== r.indexOf("--\x3e");
                                        if (!r || (h && (d = !0))) {
                                            t.oncue && t.oncue(t.cue), (t.cue = null), (t.state = "ID");
                                            continue;
                                        }
                                        t.cue.text && (t.cue.text += "\n"), (t.cue.text += r.replace(/\u2028/g, "\n").replace(/u2029/g, "\n"));
                                        continue;
                                    case "BADCUE":
                                        r || (t.state = "ID");
                                        continue;
                                }
                            }
                        } catch (e) {
                            t.reportOrThrowError(e), "CUETEXT" === t.state && t.cue && t.oncue && t.oncue(t.cue), (t.cue = null), (t.state = "INITIAL" === t.state ? "BADWEBVTT" : "BADCUE");
                        }
                        return this;
                    },
                    flush: function () {
                        var e = this;
                        try {
                            if (((e.buffer += e.decoder.decode()), (e.cue || "HEADER" === e.state) && ((e.buffer += "\n\n"), e.parse()), "INITIAL" === e.state)) throw new s(s.Errors.BadSignature);
                        } catch (t) {
                            e.reportOrThrowError(t);
                        }
                        return e.onflush && e.onflush(), this;
                    },
                }),
                (e.exports = w);
        },
        function (e) {
            var t = { "": 1, lr: 1, rl: 1 },
                i = { start: 1, center: 1, end: 1, left: 1, right: 1, auto: 1, "line-left": 1, "line-right": 1 };
            function n(e) {
                return "string" == typeof e && !!i[e.toLowerCase()] && e.toLowerCase();
            }
            function r(e, i, r) {
                this.hasBeenReset = !1;
                var s = "",
                    a = !1,
                    o = e,
                    l = i,
                    u = r,
                    c = null,
                    d = "",
                    h = !0,
                    p = "auto",
                    f = "start",
                    m = "auto",
                    g = "auto",
                    v = 100,
                    y = "center";
                Object.defineProperties(this, {
                    id: {
                        enumerable: !0,
                        get: function () {
                            return s;
                        },
                        set: function (e) {
                            s = "" + e;
                        },
                    },
                    pauseOnExit: {
                        enumerable: !0,
                        get: function () {
                            return a;
                        },
                        set: function (e) {
                            a = !!e;
                        },
                    },
                    startTime: {
                        enumerable: !0,
                        get: function () {
                            return o;
                        },
                        set: function (e) {
                            if ("number" != typeof e) throw new TypeError("Start time must be set to a number.");
                            (o = e), (this.hasBeenReset = !0);
                        },
                    },
                    endTime: {
                        enumerable: !0,
                        get: function () {
                            return l;
                        },
                        set: function (e) {
                            if ("number" != typeof e) throw new TypeError("End time must be set to a number.");
                            (l = e), (this.hasBeenReset = !0);
                        },
                    },
                    text: {
                        enumerable: !0,
                        get: function () {
                            return u;
                        },
                        set: function (e) {
                            (u = "" + e), (this.hasBeenReset = !0);
                        },
                    },
                    region: {
                        enumerable: !0,
                        get: function () {
                            return c;
                        },
                        set: function (e) {
                            (c = e), (this.hasBeenReset = !0);
                        },
                    },
                    vertical: {
                        enumerable: !0,
                        get: function () {
                            return d;
                        },
                        set: function (e) {
                            var i = (function (e) {
                                return "string" == typeof e && !!t[e.toLowerCase()] && e.toLowerCase();
                            })(e);
                            if (!1 === i) throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");
                            (d = i), (this.hasBeenReset = !0);
                        },
                    },
                    snapToLines: {
                        enumerable: !0,
                        get: function () {
                            return h;
                        },
                        set: function (e) {
                            (h = !!e), (this.hasBeenReset = !0);
                        },
                    },
                    line: {
                        enumerable: !0,
                        get: function () {
                            return p;
                        },
                        set: function (e) {
                            if ("number" != typeof e && "auto" !== e) throw new SyntaxError("Line: an invalid number or illegal string was specified.");
                            (p = e), (this.hasBeenReset = !0);
                        },
                    },
                    lineAlign: {
                        enumerable: !0,
                        get: function () {
                            return f;
                        },
                        set: function (e) {
                            var t = n(e);
                            t ? ((f = t), (this.hasBeenReset = !0)) : console.warn("lineAlign: an invalid or illegal string was specified.");
                        },
                    },
                    position: {
                        enumerable: !0,
                        get: function () {
                            return m;
                        },
                        set: function (e) {
                            if (e < 0 || e > 100) throw new Error("Position must be between 0 and 100.");
                            (m = e), (this.hasBeenReset = !0);
                        },
                    },
                    positionAlign: {
                        enumerable: !0,
                        get: function () {
                            return g;
                        },
                        set: function (e) {
                            var t = n(e);
                            t ? ((g = t), (this.hasBeenReset = !0)) : console.warn("positionAlign: an invalid or illegal string was specified.");
                        },
                    },
                    size: {
                        enumerable: !0,
                        get: function () {
                            return v;
                        },
                        set: function (e) {
                            if (e < 0 || e > 100) throw new Error("Size must be between 0 and 100.");
                            (v = e), (this.hasBeenReset = !0);
                        },
                    },
                    align: {
                        enumerable: !0,
                        get: function () {
                            return y;
                        },
                        set: function (e) {
                            var t = n(e);
                            if (!t) throw new SyntaxError("align: an invalid or illegal alignment string was specified.");
                            (y = t), (this.hasBeenReset = !0);
                        },
                    },
                }),
                    (this.displayState = void 0);
            }
            (r.prototype.getCueAsHTML = function () {
                return WebVTT.convertCueToDOMTree(window, this.text);
            }),
                (e.exports = r);
        },
        function (e) {
            var t = { "": !0, up: !0 };
            function i(e) {
                return "number" == typeof e && e >= 0 && e <= 100;
            }
            e.exports = function () {
                var e = 100,
                    n = 3,
                    r = 0,
                    s = 100,
                    a = 0,
                    o = 100,
                    l = "";
                Object.defineProperties(this, {
                    width: {
                        enumerable: !0,
                        get: function () {
                            return e;
                        },
                        set: function (t) {
                            if (!i(t)) throw new Error("Width must be between 0 and 100.");
                            e = t;
                        },
                    },
                    lines: {
                        enumerable: !0,
                        get: function () {
                            return n;
                        },
                        set: function (e) {
                            if ("number" != typeof e) throw new TypeError("Lines must be set to a number.");
                            n = e;
                        },
                    },
                    regionAnchorY: {
                        enumerable: !0,
                        get: function () {
                            return s;
                        },
                        set: function (e) {
                            if (!i(e)) throw new Error("RegionAnchorX must be between 0 and 100.");
                            s = e;
                        },
                    },
                    regionAnchorX: {
                        enumerable: !0,
                        get: function () {
                            return r;
                        },
                        set: function (e) {
                            if (!i(e)) throw new Error("RegionAnchorY must be between 0 and 100.");
                            r = e;
                        },
                    },
                    viewportAnchorY: {
                        enumerable: !0,
                        get: function () {
                            return o;
                        },
                        set: function (e) {
                            if (!i(e)) throw new Error("ViewportAnchorY must be between 0 and 100.");
                            o = e;
                        },
                    },
                    viewportAnchorX: {
                        enumerable: !0,
                        get: function () {
                            return a;
                        },
                        set: function (e) {
                            if (!i(e)) throw new Error("ViewportAnchorX must be between 0 and 100.");
                            a = e;
                        },
                    },
                    scroll: {
                        enumerable: !0,
                        get: function () {
                            return l;
                        },
                        set: function (e) {
                            var i = (function (e) {
                                return "string" == typeof e && !!t[e.toLowerCase()] && e.toLowerCase();
                            })(e);
                            !1 === i ? console.warn("Scroll: an invalid or illegal string was specified.") : (l = i);
                        },
                    },
                });
            };
        },
        function (e, t, i) {
            var n = i(99),
                r = i(132);
            function s(t, i, a) {
                return (
                    r()
                        ? (e.exports = s = Reflect.construct)
                        : (e.exports = s = function (e, t, i) {
                              var r = [null];
                              r.push.apply(r, t);
                              var s = new (Function.bind.apply(e, r))();
                              return i && n(s, i.prototype), s;
                          }),
                    s.apply(null, arguments)
                );
            }
            e.exports = s;
        },
        function (e) {
            e.exports = function () {
                if ("undefined" == typeof Reflect || !Reflect.construct) return !1;
                if (Reflect.construct.sham) return !1;
                if ("function" == typeof Proxy) return !0;
                try {
                    return Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0;
                } catch (e) {
                    return !1;
                }
            };
        },
        function (e, t, i) {
            var n = i(99);
            e.exports = function (e, t) {
                if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                (e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } })), t && n(e, t);
            };
        },
        function (e) {
            var t, i, n, r, s;
            (t = /^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/?#]*\/)*[^;?#]*)?(;[^?#]*)?(\?[^#]*)?(#.*)?$/),
                (i = /^([^\/?#]*)(.*)$/),
                (n = /(?:\/|^)\.(?=\/)/g),
                (r = /(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g),
                (s = {
                    buildAbsoluteURL: function (e, t, n) {
                        if (((n = n || {}), (e = e.trim()), !(t = t.trim()))) {
                            if (!n.alwaysNormalize) return e;
                            var r = s.parseURL(e);
                            if (!r) throw new Error("Error trying to parse base URL.");
                            return (r.path = s.normalizePath(r.path)), s.buildURLFromParts(r);
                        }
                        var a = s.parseURL(t);
                        if (!a) throw new Error("Error trying to parse relative URL.");
                        if (a.scheme) return n.alwaysNormalize ? ((a.path = s.normalizePath(a.path)), s.buildURLFromParts(a)) : t;
                        var o = s.parseURL(e);
                        if (!o) throw new Error("Error trying to parse base URL.");
                        if (!o.netLoc && o.path && "/" !== o.path[0]) {
                            var l = i.exec(o.path);
                            (o.netLoc = l[1]), (o.path = l[2]);
                        }
                        o.netLoc && !o.path && (o.path = "/");
                        var u = { scheme: o.scheme, netLoc: a.netLoc, path: null, params: a.params, query: a.query, fragment: a.fragment };
                        if (!a.netLoc && ((u.netLoc = o.netLoc), "/" !== a.path[0]))
                            if (a.path) {
                                var c = o.path,
                                    d = c.substring(0, c.lastIndexOf("/") + 1) + a.path;
                                u.path = s.normalizePath(d);
                            } else (u.path = o.path), a.params || ((u.params = o.params), a.query || (u.query = o.query));
                        return null === u.path && (u.path = n.alwaysNormalize ? s.normalizePath(a.path) : a.path), s.buildURLFromParts(u);
                    },
                    parseURL: function (e) {
                        var i = t.exec(e);
                        return i ? { scheme: i[1] || "", netLoc: i[2] || "", path: i[3] || "", params: i[4] || "", query: i[5] || "", fragment: i[6] || "" } : null;
                    },
                    normalizePath: function (e) {
                        for (e = e.split("").reverse().join("").replace(n, ""); e.length !== (e = e.replace(r, "")).length; );
                        return e.split("").reverse().join("");
                    },
                    buildURLFromParts: function (e) {
                        return e.scheme + e.netLoc + e.path + e.params + e.query + e.fragment;
                    },
                }),
                (e.exports = s);
        },
        function (e) {
            "use strict";
            var t = (function () {
                function e() {
                    this.listeners = {};
                }
                var t = e.prototype;
                return (
                    (t.on = function (e, t) {
                        this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t);
                    }),
                    (t.off = function (e, t) {
                        if (!this.listeners[e]) return !1;
                        var i = this.listeners[e].indexOf(t);
                        return (this.listeners[e] = this.listeners[e].slice(0)), this.listeners[e].splice(i, 1), i > -1;
                    }),
                    (t.trigger = function (e) {
                        var t = this.listeners[e];
                        if (t)
                            if (2 === arguments.length) for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                            else for (var r = Array.prototype.slice.call(arguments, 1), s = t.length, a = 0; a < s; ++a) t[a].apply(this, r);
                    }),
                    (t.dispose = function () {
                        this.listeners = {};
                    }),
                    (t.pipe = function (e) {
                        this.on("data", function (t) {
                            e.push(t);
                        });
                    }),
                    e
                );
            })();
            e.exports = t;
        },
        function (e, t, i) {
            "use strict";
            (function (e) {
                var n = i(137),
                    r = i(138),
                    s = i(139);
                function a() {
                    return l.TYPED_ARRAY_SUPPORT ? 2147483647 : 1073741823;
                }
                function o(e, t) {
                    if (a() < t) throw new RangeError("Invalid typed array length");
                    return l.TYPED_ARRAY_SUPPORT ? ((e = new Uint8Array(t)).__proto__ = l.prototype) : (null === e && (e = new l(t)), (e.length = t)), e;
                }
                function l(e, t, i) {
                    if (!(l.TYPED_ARRAY_SUPPORT || this instanceof l)) return new l(e, t, i);
                    if ("number" == typeof e) {
                        if ("string" == typeof t) throw new Error("If encoding is specified then the first argument must be a string");
                        return d(this, e);
                    }
                    return u(this, e, t, i);
                }
                function u(e, t, i, n) {
                    if ("number" == typeof t) throw new TypeError('"value" argument must not be a number');
                    return "undefined" != typeof ArrayBuffer && t instanceof ArrayBuffer
                        ? (function (e, t, i, n) {
                              if ((t.byteLength, i < 0 || t.byteLength < i)) throw new RangeError("'offset' is out of bounds");
                              if (t.byteLength < i + (n || 0)) throw new RangeError("'length' is out of bounds");
                              t = void 0 === i && void 0 === n ? new Uint8Array(t) : void 0 === n ? new Uint8Array(t, i) : new Uint8Array(t, i, n);
                              l.TYPED_ARRAY_SUPPORT ? ((e = t).__proto__ = l.prototype) : (e = h(e, t));
                              return e;
                          })(e, t, i, n)
                        : "string" == typeof t
                        ? (function (e, t, i) {
                              ("string" == typeof i && "" !== i) || (i = "utf8");
                              if (!l.isEncoding(i)) throw new TypeError('"encoding" must be a valid string encoding');
                              var n = 0 | f(t, i),
                                  r = (e = o(e, n)).write(t, i);
                              r !== n && (e = e.slice(0, r));
                              return e;
                          })(e, t, i)
                        : (function (e, t) {
                              if (l.isBuffer(t)) {
                                  var i = 0 | p(t.length);
                                  return 0 === (e = o(e, i)).length || t.copy(e, 0, 0, i), e;
                              }
                              if (t) {
                                  if (("undefined" != typeof ArrayBuffer && t.buffer instanceof ArrayBuffer) || "length" in t) return "number" != typeof t.length || (n = t.length) != n ? o(e, 0) : h(e, t);
                                  if ("Buffer" === t.type && s(t.data)) return h(e, t.data);
                              }
                              var n;
                              throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.");
                          })(e, t);
                }
                function c(e) {
                    if ("number" != typeof e) throw new TypeError('"size" argument must be a number');
                    if (e < 0) throw new RangeError('"size" argument must not be negative');
                }
                function d(e, t) {
                    if ((c(t), (e = o(e, t < 0 ? 0 : 0 | p(t))), !l.TYPED_ARRAY_SUPPORT)) for (var i = 0; i < t; ++i) e[i] = 0;
                    return e;
                }
                function h(e, t) {
                    var i = t.length < 0 ? 0 : 0 | p(t.length);
                    e = o(e, i);
                    for (var n = 0; n < i; n += 1) e[n] = 255 & t[n];
                    return e;
                }
                function p(e) {
                    if (e >= a()) throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x" + a().toString(16) + " bytes");
                    return 0 | e;
                }
                function f(e, t) {
                    if (l.isBuffer(e)) return e.length;
                    if ("undefined" != typeof ArrayBuffer && "function" == typeof ArrayBuffer.isView && (ArrayBuffer.isView(e) || e instanceof ArrayBuffer)) return e.byteLength;
                    "string" != typeof e && (e = "" + e);
                    var i = e.length;
                    if (0 === i) return 0;
                    for (var n = !1; ; )
                        switch (t) {
                            case "ascii":
                            case "latin1":
                            case "binary":
                                return i;
                            case "utf8":
                            case "utf-8":
                            case void 0:
                                return H(e).length;
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return 2 * i;
                            case "hex":
                                return i >>> 1;
                            case "base64":
                                return q(e).length;
                            default:
                                if (n) return H(e).length;
                                (t = ("" + t).toLowerCase()), (n = !0);
                        }
                }
                function m(e, t, i) {
                    var n = !1;
                    if (((void 0 === t || t < 0) && (t = 0), t > this.length)) return "";
                    if (((void 0 === i || i > this.length) && (i = this.length), i <= 0)) return "";
                    if ((i >>>= 0) <= (t >>>= 0)) return "";
                    for (e || (e = "utf8"); ; )
                        switch (e) {
                            case "hex":
                                return P(this, t, i);
                            case "utf8":
                            case "utf-8":
                                return E(this, t, i);
                            case "ascii":
                                return A(this, t, i);
                            case "latin1":
                            case "binary":
                                return I(this, t, i);
                            case "base64":
                                return C(this, t, i);
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return O(this, t, i);
                            default:
                                if (n) throw new TypeError("Unknown encoding: " + e);
                                (e = (e + "").toLowerCase()), (n = !0);
                        }
                }
                function g(e, t, i) {
                    var n = e[t];
                    (e[t] = e[i]), (e[i] = n);
                }
                function v(e, t, i, n, r) {
                    if (0 === e.length) return -1;
                    if (("string" == typeof i ? ((n = i), (i = 0)) : i > 2147483647 ? (i = 2147483647) : i < -2147483648 && (i = -2147483648), (i = +i), isNaN(i) && (i = r ? 0 : e.length - 1), i < 0 && (i = e.length + i), i >= e.length)) {
                        if (r) return -1;
                        i = e.length - 1;
                    } else if (i < 0) {
                        if (!r) return -1;
                        i = 0;
                    }
                    if (("string" == typeof t && (t = l.from(t, n)), l.isBuffer(t))) return 0 === t.length ? -1 : y(e, t, i, n, r);
                    if ("number" == typeof t)
                        return (t &= 255), l.TYPED_ARRAY_SUPPORT && "function" == typeof Uint8Array.prototype.indexOf ? (r ? Uint8Array.prototype.indexOf.call(e, t, i) : Uint8Array.prototype.lastIndexOf.call(e, t, i)) : y(e, [t], i, n, r);
                    throw new TypeError("val must be string, number or Buffer");
                }
                function y(e, t, i, n, r) {
                    var s,
                        a = 1,
                        o = e.length,
                        l = t.length;
                    if (void 0 !== n && ("ucs2" === (n = String(n).toLowerCase()) || "ucs-2" === n || "utf16le" === n || "utf-16le" === n)) {
                        if (e.length < 2 || t.length < 2) return -1;
                        (a = 2), (o /= 2), (l /= 2), (i /= 2);
                    }
                    function u(e, t) {
                        return 1 === a ? e[t] : e.readUInt16BE(t * a);
                    }
                    if (r) {
                        var c = -1;
                        for (s = i; s < o; s++)
                            if (u(e, s) === u(t, -1 === c ? 0 : s - c)) {
                                if ((-1 === c && (c = s), s - c + 1 === l)) return c * a;
                            } else -1 !== c && (s -= s - c), (c = -1);
                    } else
                        for (i + l > o && (i = o - l), s = i; s >= 0; s--) {
                            for (var d = !0, h = 0; h < l; h++)
                                if (u(e, s + h) !== u(t, h)) {
                                    d = !1;
                                    break;
                                }
                            if (d) return s;
                        }
                    return -1;
                }
                function _(e, t, i, n) {
                    i = Number(i) || 0;
                    var r = e.length - i;
                    n ? (n = Number(n)) > r && (n = r) : (n = r);
                    var s = t.length;
                    if (s % 2 != 0) throw new TypeError("Invalid hex string");
                    n > s / 2 && (n = s / 2);
                    for (var a = 0; a < n; ++a) {
                        var o = parseInt(t.substr(2 * a, 2), 16);
                        if (isNaN(o)) return a;
                        e[i + a] = o;
                    }
                    return a;
                }
                function b(e, t, i, n) {
                    return V(H(t, e.length - i), e, i, n);
                }
                function T(e, t, i, n) {
                    return V(
                        (function (e) {
                            for (var t = [], i = 0; i < e.length; ++i) t.push(255 & e.charCodeAt(i));
                            return t;
                        })(t),
                        e,
                        i,
                        n
                    );
                }
                function S(e, t, i, n) {
                    return T(e, t, i, n);
                }
                function w(e, t, i, n) {
                    return V(q(t), e, i, n);
                }
                function k(e, t, i, n) {
                    return V(
                        (function (e, t) {
                            for (var i, n, r, s = [], a = 0; a < e.length && !((t -= 2) < 0); ++a) (n = (i = e.charCodeAt(a)) >> 8), (r = i % 256), s.push(r), s.push(n);
                            return s;
                        })(t, e.length - i),
                        e,
                        i,
                        n
                    );
                }
                function C(e, t, i) {
                    return 0 === t && i === e.length ? n.fromByteArray(e) : n.fromByteArray(e.slice(t, i));
                }
                function E(e, t, i) {
                    i = Math.min(e.length, i);
                    for (var n = [], r = t; r < i; ) {
                        var s,
                            a,
                            o,
                            l,
                            u = e[r],
                            c = null,
                            d = u > 239 ? 4 : u > 223 ? 3 : u > 191 ? 2 : 1;
                        if (r + d <= i)
                            switch (d) {
                                case 1:
                                    u < 128 && (c = u);
                                    break;
                                case 2:
                                    128 == (192 & (s = e[r + 1])) && (l = ((31 & u) << 6) | (63 & s)) > 127 && (c = l);
                                    break;
                                case 3:
                                    (s = e[r + 1]), (a = e[r + 2]), 128 == (192 & s) && 128 == (192 & a) && (l = ((15 & u) << 12) | ((63 & s) << 6) | (63 & a)) > 2047 && (l < 55296 || l > 57343) && (c = l);
                                    break;
                                case 4:
                                    (s = e[r + 1]),
                                        (a = e[r + 2]),
                                        (o = e[r + 3]),
                                        128 == (192 & s) && 128 == (192 & a) && 128 == (192 & o) && (l = ((15 & u) << 18) | ((63 & s) << 12) | ((63 & a) << 6) | (63 & o)) > 65535 && l < 1114112 && (c = l);
                            }
                        null === c ? ((c = 65533), (d = 1)) : c > 65535 && ((c -= 65536), n.push(((c >>> 10) & 1023) | 55296), (c = 56320 | (1023 & c))), n.push(c), (r += d);
                    }
                    return (function (e) {
                        var t = e.length;
                        if (t <= x) return String.fromCharCode.apply(String, e);
                        var i = "",
                            n = 0;
                        for (; n < t; ) i += String.fromCharCode.apply(String, e.slice(n, (n += x)));
                        return i;
                    })(n);
                }
                (t.Buffer = l),
                    (t.SlowBuffer = function (e) {
                        +e != e && (e = 0);
                        return l.alloc(+e);
                    }),
                    (t.INSPECT_MAX_BYTES = 50),
                    (l.TYPED_ARRAY_SUPPORT =
                        void 0 !== e.TYPED_ARRAY_SUPPORT
                            ? e.TYPED_ARRAY_SUPPORT
                            : (function () {
                                  try {
                                      var e = new Uint8Array(1);
                                      return (
                                          (e.__proto__ = {
                                              __proto__: Uint8Array.prototype,
                                              foo: function () {
                                                  return 42;
                                              },
                                          }),
                                          42 === e.foo() && "function" == typeof e.subarray && 0 === e.subarray(1, 1).byteLength
                                      );
                                  } catch (e) {
                                      return !1;
                                  }
                              })()),
                    (t.kMaxLength = a()),
                    (l.poolSize = 8192),
                    (l._augment = function (e) {
                        return (e.__proto__ = l.prototype), e;
                    }),
                    (l.from = function (e, t, i) {
                        return u(null, e, t, i);
                    }),
                    l.TYPED_ARRAY_SUPPORT &&
                        ((l.prototype.__proto__ = Uint8Array.prototype),
                        (l.__proto__ = Uint8Array),
                        "undefined" != typeof Symbol && Symbol.species && l[Symbol.species] === l && Object.defineProperty(l, Symbol.species, { value: null, configurable: !0 })),
                    (l.alloc = function (e, t, i) {
                        return (function (e, t, i, n) {
                            return c(t), t <= 0 ? o(e, t) : void 0 !== i ? ("string" == typeof n ? o(e, t).fill(i, n) : o(e, t).fill(i)) : o(e, t);
                        })(null, e, t, i);
                    }),
                    (l.allocUnsafe = function (e) {
                        return d(null, e);
                    }),
                    (l.allocUnsafeSlow = function (e) {
                        return d(null, e);
                    }),
                    (l.isBuffer = function (e) {
                        return !(null == e || !e._isBuffer);
                    }),
                    (l.compare = function (e, t) {
                        if (!l.isBuffer(e) || !l.isBuffer(t)) throw new TypeError("Arguments must be Buffers");
                        if (e === t) return 0;
                        for (var i = e.length, n = t.length, r = 0, s = Math.min(i, n); r < s; ++r)
                            if (e[r] !== t[r]) {
                                (i = e[r]), (n = t[r]);
                                break;
                            }
                        return i < n ? -1 : n < i ? 1 : 0;
                    }),
                    (l.isEncoding = function (e) {
                        switch (String(e).toLowerCase()) {
                            case "hex":
                            case "utf8":
                            case "utf-8":
                            case "ascii":
                            case "latin1":
                            case "binary":
                            case "base64":
                            case "ucs2":
                            case "ucs-2":
                            case "utf16le":
                            case "utf-16le":
                                return !0;
                            default:
                                return !1;
                        }
                    }),
                    (l.concat = function (e, t) {
                        if (!s(e)) throw new TypeError('"list" argument must be an Array of Buffers');
                        if (0 === e.length) return l.alloc(0);
                        var i;
                        if (void 0 === t) for (t = 0, i = 0; i < e.length; ++i) t += e[i].length;
                        var n = l.allocUnsafe(t),
                            r = 0;
                        for (i = 0; i < e.length; ++i) {
                            var a = e[i];
                            if (!l.isBuffer(a)) throw new TypeError('"list" argument must be an Array of Buffers');
                            a.copy(n, r), (r += a.length);
                        }
                        return n;
                    }),
                    (l.byteLength = f),
                    (l.prototype._isBuffer = !0),
                    (l.prototype.swap16 = function () {
                        var e = this.length;
                        if (e % 2 != 0) throw new RangeError("Buffer size must be a multiple of 16-bits");
                        for (var t = 0; t < e; t += 2) g(this, t, t + 1);
                        return this;
                    }),
                    (l.prototype.swap32 = function () {
                        var e = this.length;
                        if (e % 4 != 0) throw new RangeError("Buffer size must be a multiple of 32-bits");
                        for (var t = 0; t < e; t += 4) g(this, t, t + 3), g(this, t + 1, t + 2);
                        return this;
                    }),
                    (l.prototype.swap64 = function () {
                        var e = this.length;
                        if (e % 8 != 0) throw new RangeError("Buffer size must be a multiple of 64-bits");
                        for (var t = 0; t < e; t += 8) g(this, t, t + 7), g(this, t + 1, t + 6), g(this, t + 2, t + 5), g(this, t + 3, t + 4);
                        return this;
                    }),
                    (l.prototype.toString = function () {
                        var e = 0 | this.length;
                        return 0 === e ? "" : 0 === arguments.length ? E(this, 0, e) : m.apply(this, arguments);
                    }),
                    (l.prototype.equals = function (e) {
                        if (!l.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                        return this === e || 0 === l.compare(this, e);
                    }),
                    (l.prototype.inspect = function () {
                        var e = "",
                            i = t.INSPECT_MAX_BYTES;
                        return this.length > 0 && ((e = this.toString("hex", 0, i).match(/.{2}/g).join(" ")), this.length > i && (e += " ... ")), "<Buffer " + e + ">";
                    }),
                    (l.prototype.compare = function (e, t, i, n, r) {
                        if (!l.isBuffer(e)) throw new TypeError("Argument must be a Buffer");
                        if ((void 0 === t && (t = 0), void 0 === i && (i = e ? e.length : 0), void 0 === n && (n = 0), void 0 === r && (r = this.length), t < 0 || i > e.length || n < 0 || r > this.length))
                            throw new RangeError("out of range index");
                        if (n >= r && t >= i) return 0;
                        if (n >= r) return -1;
                        if (t >= i) return 1;
                        if (this === e) return 0;
                        for (var s = (r >>>= 0) - (n >>>= 0), a = (i >>>= 0) - (t >>>= 0), o = Math.min(s, a), u = this.slice(n, r), c = e.slice(t, i), d = 0; d < o; ++d)
                            if (u[d] !== c[d]) {
                                (s = u[d]), (a = c[d]);
                                break;
                            }
                        return s < a ? -1 : a < s ? 1 : 0;
                    }),
                    (l.prototype.includes = function (e, t, i) {
                        return -1 !== this.indexOf(e, t, i);
                    }),
                    (l.prototype.indexOf = function (e, t, i) {
                        return v(this, e, t, i, !0);
                    }),
                    (l.prototype.lastIndexOf = function (e, t, i) {
                        return v(this, e, t, i, !1);
                    }),
                    (l.prototype.write = function (e, t, i, n) {
                        if (void 0 === t) (n = "utf8"), (i = this.length), (t = 0);
                        else if (void 0 === i && "string" == typeof t) (n = t), (i = this.length), (t = 0);
                        else {
                            if (!isFinite(t)) throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");
                            (t |= 0), isFinite(i) ? ((i |= 0), void 0 === n && (n = "utf8")) : ((n = i), (i = void 0));
                        }
                        var r = this.length - t;
                        if (((void 0 === i || i > r) && (i = r), (e.length > 0 && (i < 0 || t < 0)) || t > this.length)) throw new RangeError("Attempt to write outside buffer bounds");
                        n || (n = "utf8");
                        for (var s = !1; ; )
                            switch (n) {
                                case "hex":
                                    return _(this, e, t, i);
                                case "utf8":
                                case "utf-8":
                                    return b(this, e, t, i);
                                case "ascii":
                                    return T(this, e, t, i);
                                case "latin1":
                                case "binary":
                                    return S(this, e, t, i);
                                case "base64":
                                    return w(this, e, t, i);
                                case "ucs2":
                                case "ucs-2":
                                case "utf16le":
                                case "utf-16le":
                                    return k(this, e, t, i);
                                default:
                                    if (s) throw new TypeError("Unknown encoding: " + n);
                                    (n = ("" + n).toLowerCase()), (s = !0);
                            }
                    }),
                    (l.prototype.toJSON = function () {
                        return { type: "Buffer", data: Array.prototype.slice.call(this._arr || this, 0) };
                    });
                var x = 4096;
                function A(e, t, i) {
                    var n = "";
                    i = Math.min(e.length, i);
                    for (var r = t; r < i; ++r) n += String.fromCharCode(127 & e[r]);
                    return n;
                }
                function I(e, t, i) {
                    var n = "";
                    i = Math.min(e.length, i);
                    for (var r = t; r < i; ++r) n += String.fromCharCode(e[r]);
                    return n;
                }
                function P(e, t, i) {
                    var n = e.length;
                    (!t || t < 0) && (t = 0), (!i || i < 0 || i > n) && (i = n);
                    for (var r = "", s = t; s < i; ++s) r += F(e[s]);
                    return r;
                }
                function O(e, t, i) {
                    for (var n = e.slice(t, i), r = "", s = 0; s < n.length; s += 2) r += String.fromCharCode(n[s] + 256 * n[s + 1]);
                    return r;
                }
                function L(e, t, i) {
                    if (e % 1 != 0 || e < 0) throw new RangeError("offset is not uint");
                    if (e + t > i) throw new RangeError("Trying to access beyond buffer length");
                }
                function D(e, t, i, n, r, s) {
                    if (!l.isBuffer(e)) throw new TypeError('"buffer" argument must be a Buffer instance');
                    if (t > r || t < s) throw new RangeError('"value" argument is out of bounds');
                    if (i + n > e.length) throw new RangeError("Index out of range");
                }
                function R(e, t, i, n) {
                    t < 0 && (t = 65535 + t + 1);
                    for (var r = 0, s = Math.min(e.length - i, 2); r < s; ++r) e[i + r] = (t & (255 << (8 * (n ? r : 1 - r)))) >>> (8 * (n ? r : 1 - r));
                }
                function M(e, t, i, n) {
                    t < 0 && (t = 4294967295 + t + 1);
                    for (var r = 0, s = Math.min(e.length - i, 4); r < s; ++r) e[i + r] = (t >>> (8 * (n ? r : 3 - r))) & 255;
                }
                function N(e, t, i, n) {
                    if (i + n > e.length) throw new RangeError("Index out of range");
                    if (i < 0) throw new RangeError("Index out of range");
                }
                function U(e, t, i, n, s) {
                    return s || N(e, 0, i, 4), r.write(e, t, i, n, 23, 4), i + 4;
                }
                function j(e, t, i, n, s) {
                    return s || N(e, 0, i, 8), r.write(e, t, i, n, 52, 8), i + 8;
                }
                (l.prototype.slice = function (e, t) {
                    var i,
                        n = this.length;
                    if (((e = ~~e) < 0 ? (e += n) < 0 && (e = 0) : e > n && (e = n), (t = void 0 === t ? n : ~~t) < 0 ? (t += n) < 0 && (t = 0) : t > n && (t = n), t < e && (t = e), l.TYPED_ARRAY_SUPPORT))
                        (i = this.subarray(e, t)).__proto__ = l.prototype;
                    else {
                        var r = t - e;
                        i = new l(r, void 0);
                        for (var s = 0; s < r; ++s) i[s] = this[s + e];
                    }
                    return i;
                }),
                    (l.prototype.readUIntLE = function (e, t, i) {
                        (e |= 0), (t |= 0), i || L(e, t, this.length);
                        for (var n = this[e], r = 1, s = 0; ++s < t && (r *= 256); ) n += this[e + s] * r;
                        return n;
                    }),
                    (l.prototype.readUIntBE = function (e, t, i) {
                        (e |= 0), (t |= 0), i || L(e, t, this.length);
                        for (var n = this[e + --t], r = 1; t > 0 && (r *= 256); ) n += this[e + --t] * r;
                        return n;
                    }),
                    (l.prototype.readUInt8 = function (e, t) {
                        return t || L(e, 1, this.length), this[e];
                    }),
                    (l.prototype.readUInt16LE = function (e, t) {
                        return t || L(e, 2, this.length), this[e] | (this[e + 1] << 8);
                    }),
                    (l.prototype.readUInt16BE = function (e, t) {
                        return t || L(e, 2, this.length), (this[e] << 8) | this[e + 1];
                    }),
                    (l.prototype.readUInt32LE = function (e, t) {
                        return t || L(e, 4, this.length), (this[e] | (this[e + 1] << 8) | (this[e + 2] << 16)) + 16777216 * this[e + 3];
                    }),
                    (l.prototype.readUInt32BE = function (e, t) {
                        return t || L(e, 4, this.length), 16777216 * this[e] + ((this[e + 1] << 16) | (this[e + 2] << 8) | this[e + 3]);
                    }),
                    (l.prototype.readIntLE = function (e, t, i) {
                        (e |= 0), (t |= 0), i || L(e, t, this.length);
                        for (var n = this[e], r = 1, s = 0; ++s < t && (r *= 256); ) n += this[e + s] * r;
                        return n >= (r *= 128) && (n -= Math.pow(2, 8 * t)), n;
                    }),
                    (l.prototype.readIntBE = function (e, t, i) {
                        (e |= 0), (t |= 0), i || L(e, t, this.length);
                        for (var n = t, r = 1, s = this[e + --n]; n > 0 && (r *= 256); ) s += this[e + --n] * r;
                        return s >= (r *= 128) && (s -= Math.pow(2, 8 * t)), s;
                    }),
                    (l.prototype.readInt8 = function (e, t) {
                        return t || L(e, 1, this.length), 128 & this[e] ? -1 * (255 - this[e] + 1) : this[e];
                    }),
                    (l.prototype.readInt16LE = function (e, t) {
                        t || L(e, 2, this.length);
                        var i = this[e] | (this[e + 1] << 8);
                        return 32768 & i ? 4294901760 | i : i;
                    }),
                    (l.prototype.readInt16BE = function (e, t) {
                        t || L(e, 2, this.length);
                        var i = this[e + 1] | (this[e] << 8);
                        return 32768 & i ? 4294901760 | i : i;
                    }),
                    (l.prototype.readInt32LE = function (e, t) {
                        return t || L(e, 4, this.length), this[e] | (this[e + 1] << 8) | (this[e + 2] << 16) | (this[e + 3] << 24);
                    }),
                    (l.prototype.readInt32BE = function (e, t) {
                        return t || L(e, 4, this.length), (this[e] << 24) | (this[e + 1] << 16) | (this[e + 2] << 8) | this[e + 3];
                    }),
                    (l.prototype.readFloatLE = function (e, t) {
                        return t || L(e, 4, this.length), r.read(this, e, !0, 23, 4);
                    }),
                    (l.prototype.readFloatBE = function (e, t) {
                        return t || L(e, 4, this.length), r.read(this, e, !1, 23, 4);
                    }),
                    (l.prototype.readDoubleLE = function (e, t) {
                        return t || L(e, 8, this.length), r.read(this, e, !0, 52, 8);
                    }),
                    (l.prototype.readDoubleBE = function (e, t) {
                        return t || L(e, 8, this.length), r.read(this, e, !1, 52, 8);
                    }),
                    (l.prototype.writeUIntLE = function (e, t, i, n) {
                        ((e = +e), (t |= 0), (i |= 0), n) || D(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
                        var r = 1,
                            s = 0;
                        for (this[t] = 255 & e; ++s < i && (r *= 256); ) this[t + s] = (e / r) & 255;
                        return t + i;
                    }),
                    (l.prototype.writeUIntBE = function (e, t, i, n) {
                        ((e = +e), (t |= 0), (i |= 0), n) || D(this, e, t, i, Math.pow(2, 8 * i) - 1, 0);
                        var r = i - 1,
                            s = 1;
                        for (this[t + r] = 255 & e; --r >= 0 && (s *= 256); ) this[t + r] = (e / s) & 255;
                        return t + i;
                    }),
                    (l.prototype.writeUInt8 = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 1, 255, 0), l.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), (this[t] = 255 & e), t + 1;
                    }),
                    (l.prototype.writeUInt16LE = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 2, 65535, 0), l.TYPED_ARRAY_SUPPORT ? ((this[t] = 255 & e), (this[t + 1] = e >>> 8)) : R(this, e, t, !0), t + 2;
                    }),
                    (l.prototype.writeUInt16BE = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 2, 65535, 0), l.TYPED_ARRAY_SUPPORT ? ((this[t] = e >>> 8), (this[t + 1] = 255 & e)) : R(this, e, t, !1), t + 2;
                    }),
                    (l.prototype.writeUInt32LE = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 4, 4294967295, 0), l.TYPED_ARRAY_SUPPORT ? ((this[t + 3] = e >>> 24), (this[t + 2] = e >>> 16), (this[t + 1] = e >>> 8), (this[t] = 255 & e)) : M(this, e, t, !0), t + 4;
                    }),
                    (l.prototype.writeUInt32BE = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 4, 4294967295, 0), l.TYPED_ARRAY_SUPPORT ? ((this[t] = e >>> 24), (this[t + 1] = e >>> 16), (this[t + 2] = e >>> 8), (this[t + 3] = 255 & e)) : M(this, e, t, !1), t + 4;
                    }),
                    (l.prototype.writeIntLE = function (e, t, i, n) {
                        if (((e = +e), (t |= 0), !n)) {
                            var r = Math.pow(2, 8 * i - 1);
                            D(this, e, t, i, r - 1, -r);
                        }
                        var s = 0,
                            a = 1,
                            o = 0;
                        for (this[t] = 255 & e; ++s < i && (a *= 256); ) e < 0 && 0 === o && 0 !== this[t + s - 1] && (o = 1), (this[t + s] = (((e / a) >> 0) - o) & 255);
                        return t + i;
                    }),
                    (l.prototype.writeIntBE = function (e, t, i, n) {
                        if (((e = +e), (t |= 0), !n)) {
                            var r = Math.pow(2, 8 * i - 1);
                            D(this, e, t, i, r - 1, -r);
                        }
                        var s = i - 1,
                            a = 1,
                            o = 0;
                        for (this[t + s] = 255 & e; --s >= 0 && (a *= 256); ) e < 0 && 0 === o && 0 !== this[t + s + 1] && (o = 1), (this[t + s] = (((e / a) >> 0) - o) & 255);
                        return t + i;
                    }),
                    (l.prototype.writeInt8 = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 1, 127, -128), l.TYPED_ARRAY_SUPPORT || (e = Math.floor(e)), e < 0 && (e = 255 + e + 1), (this[t] = 255 & e), t + 1;
                    }),
                    (l.prototype.writeInt16LE = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 2, 32767, -32768), l.TYPED_ARRAY_SUPPORT ? ((this[t] = 255 & e), (this[t + 1] = e >>> 8)) : R(this, e, t, !0), t + 2;
                    }),
                    (l.prototype.writeInt16BE = function (e, t, i) {
                        return (e = +e), (t |= 0), i || D(this, e, t, 2, 32767, -32768), l.TYPED_ARRAY_SUPPORT ? ((this[t] = e >>> 8), (this[t + 1] = 255 & e)) : R(this, e, t, !1), t + 2;
                    }),
                    (l.prototype.writeInt32LE = function (e, t, i) {
                        return (
                            (e = +e),
                            (t |= 0),
                            i || D(this, e, t, 4, 2147483647, -2147483648),
                            l.TYPED_ARRAY_SUPPORT ? ((this[t] = 255 & e), (this[t + 1] = e >>> 8), (this[t + 2] = e >>> 16), (this[t + 3] = e >>> 24)) : M(this, e, t, !0),
                            t + 4
                        );
                    }),
                    (l.prototype.writeInt32BE = function (e, t, i) {
                        return (
                            (e = +e),
                            (t |= 0),
                            i || D(this, e, t, 4, 2147483647, -2147483648),
                            e < 0 && (e = 4294967295 + e + 1),
                            l.TYPED_ARRAY_SUPPORT ? ((this[t] = e >>> 24), (this[t + 1] = e >>> 16), (this[t + 2] = e >>> 8), (this[t + 3] = 255 & e)) : M(this, e, t, !1),
                            t + 4
                        );
                    }),
                    (l.prototype.writeFloatLE = function (e, t, i) {
                        return U(this, e, t, !0, i);
                    }),
                    (l.prototype.writeFloatBE = function (e, t, i) {
                        return U(this, e, t, !1, i);
                    }),
                    (l.prototype.writeDoubleLE = function (e, t, i) {
                        return j(this, e, t, !0, i);
                    }),
                    (l.prototype.writeDoubleBE = function (e, t, i) {
                        return j(this, e, t, !1, i);
                    }),
                    (l.prototype.copy = function (e, t, i, n) {
                        if ((i || (i = 0), n || 0 === n || (n = this.length), t >= e.length && (t = e.length), t || (t = 0), n > 0 && n < i && (n = i), n === i)) return 0;
                        if (0 === e.length || 0 === this.length) return 0;
                        if (t < 0) throw new RangeError("targetStart out of bounds");
                        if (i < 0 || i >= this.length) throw new RangeError("sourceStart out of bounds");
                        if (n < 0) throw new RangeError("sourceEnd out of bounds");
                        n > this.length && (n = this.length), e.length - t < n - i && (n = e.length - t + i);
                        var r,
                            s = n - i;
                        if (this === e && i < t && t < n) for (r = s - 1; r >= 0; --r) e[r + t] = this[r + i];
                        else if (s < 1e3 || !l.TYPED_ARRAY_SUPPORT) for (r = 0; r < s; ++r) e[r + t] = this[r + i];
                        else Uint8Array.prototype.set.call(e, this.subarray(i, i + s), t);
                        return s;
                    }),
                    (l.prototype.fill = function (e, t, i, n) {
                        if ("string" == typeof e) {
                            if (("string" == typeof t ? ((n = t), (t = 0), (i = this.length)) : "string" == typeof i && ((n = i), (i = this.length)), 1 === e.length)) {
                                var r = e.charCodeAt(0);
                                r < 256 && (e = r);
                            }
                            if (void 0 !== n && "string" != typeof n) throw new TypeError("encoding must be a string");
                            if ("string" == typeof n && !l.isEncoding(n)) throw new TypeError("Unknown encoding: " + n);
                        } else "number" == typeof e && (e &= 255);
                        if (t < 0 || this.length < t || this.length < i) throw new RangeError("Out of range index");
                        if (i <= t) return this;
                        var s;
                        if (((t >>>= 0), (i = void 0 === i ? this.length : i >>> 0), e || (e = 0), "number" == typeof e)) for (s = t; s < i; ++s) this[s] = e;
                        else {
                            var a = l.isBuffer(e) ? e : H(new l(e, n).toString()),
                                o = a.length;
                            for (s = 0; s < i - t; ++s) this[s + t] = a[s % o];
                        }
                        return this;
                    });
                var B = /[^+\/0-9A-Za-z-_]/g;
                function F(e) {
                    return e < 16 ? "0" + e.toString(16) : e.toString(16);
                }
                function H(e, t) {
                    var i;
                    t = t || 1 / 0;
                    for (var n = e.length, r = null, s = [], a = 0; a < n; ++a) {
                        if ((i = e.charCodeAt(a)) > 55295 && i < 57344) {
                            if (!r) {
                                if (i > 56319) {
                                    (t -= 3) > -1 && s.push(239, 191, 189);
                                    continue;
                                }
                                if (a + 1 === n) {
                                    (t -= 3) > -1 && s.push(239, 191, 189);
                                    continue;
                                }
                                r = i;
                                continue;
                            }
                            if (i < 56320) {
                                (t -= 3) > -1 && s.push(239, 191, 189), (r = i);
                                continue;
                            }
                            i = 65536 + (((r - 55296) << 10) | (i - 56320));
                        } else r && (t -= 3) > -1 && s.push(239, 191, 189);
                        if (((r = null), i < 128)) {
                            if ((t -= 1) < 0) break;
                            s.push(i);
                        } else if (i < 2048) {
                            if ((t -= 2) < 0) break;
                            s.push((i >> 6) | 192, (63 & i) | 128);
                        } else if (i < 65536) {
                            if ((t -= 3) < 0) break;
                            s.push((i >> 12) | 224, ((i >> 6) & 63) | 128, (63 & i) | 128);
                        } else {
                            if (!(i < 1114112)) throw new Error("Invalid code point");
                            if ((t -= 4) < 0) break;
                            s.push((i >> 18) | 240, ((i >> 12) & 63) | 128, ((i >> 6) & 63) | 128, (63 & i) | 128);
                        }
                    }
                    return s;
                }
                function q(e) {
                    return n.toByteArray(
                        (function (e) {
                            if (
                                (e = (function (e) {
                                    return e.trim ? e.trim() : e.replace(/^\s+|\s+$/g, "");
                                })(e).replace(B, "")).length < 2
                            )
                                return "";
                            for (; e.length % 4 != 0; ) e += "=";
                            return e;
                        })(e)
                    );
                }
                function V(e, t, i, n) {
                    for (var r = 0; r < n && !(r + i >= t.length || r >= e.length); ++r) t[r + i] = e[r];
                    return r;
                }
            }.call(this, i(58)));
        },
        function (e, t) {
            "use strict";
            (t.byteLength = function (e) {
                var t = l(e),
                    i = t[0],
                    n = t[1];
                return (3 * (i + n)) / 4 - n;
            }),
                (t.toByteArray = function (e) {
                    var t,
                        i,
                        s = l(e),
                        a = s[0],
                        o = s[1],
                        u = new r(
                            (function (e, t, i) {
                                return (3 * (t + i)) / 4 - i;
                            })(0, a, o)
                        ),
                        c = 0,
                        d = o > 0 ? a - 4 : a;
                    for (i = 0; i < d; i += 4)
                        (t = (n[e.charCodeAt(i)] << 18) | (n[e.charCodeAt(i + 1)] << 12) | (n[e.charCodeAt(i + 2)] << 6) | n[e.charCodeAt(i + 3)]), (u[c++] = (t >> 16) & 255), (u[c++] = (t >> 8) & 255), (u[c++] = 255 & t);
                    2 === o && ((t = (n[e.charCodeAt(i)] << 2) | (n[e.charCodeAt(i + 1)] >> 4)), (u[c++] = 255 & t));
                    1 === o && ((t = (n[e.charCodeAt(i)] << 10) | (n[e.charCodeAt(i + 1)] << 4) | (n[e.charCodeAt(i + 2)] >> 2)), (u[c++] = (t >> 8) & 255), (u[c++] = 255 & t));
                    return u;
                }),
                (t.fromByteArray = function (e) {
                    for (var t, n = e.length, r = n % 3, s = [], a = 16383, o = 0, l = n - r; o < l; o += a) s.push(u(e, o, o + a > l ? l : o + a));
                    1 === r ? ((t = e[n - 1]), s.push(i[t >> 2] + i[(t << 4) & 63] + "==")) : 2 === r && ((t = (e[n - 2] << 8) + e[n - 1]), s.push(i[t >> 10] + i[(t >> 4) & 63] + i[(t << 2) & 63] + "="));
                    return s.join("");
                });
            for (var i = [], n = [], r = "undefined" != typeof Uint8Array ? Uint8Array : Array, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/", a = 0, o = s.length; a < o; ++a)
                (i[a] = s[a]), (n[s.charCodeAt(a)] = a);
            function l(e) {
                var t = e.length;
                if (t % 4 > 0) throw new Error("Invalid string. Length must be a multiple of 4");
                var i = e.indexOf("=");
                return -1 === i && (i = t), [i, i === t ? 0 : 4 - (i % 4)];
            }
            function u(e, t, n) {
                for (var r, s, a = [], o = t; o < n; o += 3) (r = ((e[o] << 16) & 16711680) + ((e[o + 1] << 8) & 65280) + (255 & e[o + 2])), a.push(i[((s = r) >> 18) & 63] + i[(s >> 12) & 63] + i[(s >> 6) & 63] + i[63 & s]);
                return a.join("");
            }
            (n["-".charCodeAt(0)] = 62), (n["_".charCodeAt(0)] = 63);
        },
        function (e, t) {
            (t.read = function (e, t, i, n, r) {
                var s,
                    a,
                    o = 8 * r - n - 1,
                    l = (1 << o) - 1,
                    u = l >> 1,
                    c = -7,
                    d = i ? r - 1 : 0,
                    h = i ? -1 : 1,
                    p = e[t + d];
                for (d += h, s = p & ((1 << -c) - 1), p >>= -c, c += o; c > 0; s = 256 * s + e[t + d], d += h, c -= 8);
                for (a = s & ((1 << -c) - 1), s >>= -c, c += n; c > 0; a = 256 * a + e[t + d], d += h, c -= 8);
                if (0 === s) s = 1 - u;
                else {
                    if (s === l) return a ? NaN : (1 / 0) * (p ? -1 : 1);
                    (a += Math.pow(2, n)), (s -= u);
                }
                return (p ? -1 : 1) * a * Math.pow(2, s - n);
            }),
                (t.write = function (e, t, i, n, r, s) {
                    var a,
                        o,
                        l,
                        u = 8 * s - r - 1,
                        c = (1 << u) - 1,
                        d = c >> 1,
                        h = 23 === r ? Math.pow(2, -24) - Math.pow(2, -77) : 0,
                        p = n ? 0 : s - 1,
                        f = n ? 1 : -1,
                        m = t < 0 || (0 === t && 1 / t < 0) ? 1 : 0;
                    for (
                        t = Math.abs(t),
                            isNaN(t) || t === 1 / 0
                                ? ((o = isNaN(t) ? 1 : 0), (a = c))
                                : ((a = Math.floor(Math.log(t) / Math.LN2)),
                                  t * (l = Math.pow(2, -a)) < 1 && (a--, (l *= 2)),
                                  (t += a + d >= 1 ? h / l : h * Math.pow(2, 1 - d)) * l >= 2 && (a++, (l /= 2)),
                                  a + d >= c ? ((o = 0), (a = c)) : a + d >= 1 ? ((o = (t * l - 1) * Math.pow(2, r)), (a += d)) : ((o = t * Math.pow(2, d - 1) * Math.pow(2, r)), (a = 0)));
                        r >= 8;
                        e[i + p] = 255 & o, p += f, o /= 256, r -= 8
                    );
                    for (a = (a << r) | o, u += r; u > 0; e[i + p] = 255 & a, p += f, a /= 256, u -= 8);
                    e[i + p - f] |= 128 * m;
                });
        },
        function (e) {
            var t = {}.toString;
            e.exports =
                Array.isArray ||
                function (e) {
                    return "[object Array]" == t.call(e);
                };
        },
        function (e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 });
            var i = /^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,
                n = /^application\/dash\+xml/i;
            t.simpleTypeFromSourceType = function (e) {
                return i.test(e) ? "hls" : n.test(e) ? "dash" : "application/vnd.videojs.vhs+json" === e ? "vhs-json" : null;
            };
        },
        function (e, t, i) {
            function n(e) {
                this.options = e || { locator: {} };
            }
            function r() {
                this.cdata = !1;
            }
            function s(e, t) {
                (t.lineNumber = e.lineNumber), (t.columnNumber = e.columnNumber);
            }
            function a(e) {
                if (e) return "\n@" + (e.systemId || "") + "#[line:" + e.lineNumber + ",col:" + e.columnNumber + "]";
            }
            function o(e, t, i) {
                return "string" == typeof e ? e.substr(t, i) : e.length >= t + i || t ? new java.lang.String(e, t, i) + "" : e;
            }
            function l(e, t) {
                e.currentElement ? e.currentElement.appendChild(t) : e.doc.appendChild(t);
            }
            (n.prototype.parseFromString = function (e, t) {
                var i = this.options,
                    n = new u(),
                    s = i.domBuilder || new r(),
                    o = i.errorHandler,
                    l = i.locator,
                    c = i.xmlns || {},
                    d = { lt: "<", gt: ">", amp: "&", quot: '"', apos: "'" };
                return (
                    l && s.setDocumentLocator(l),
                    (n.errorHandler = (function (e, t, i) {
                        if (!e) {
                            if (t instanceof r) return t;
                            e = t;
                        }
                        var n = {},
                            s = e instanceof Function;
                        function o(t) {
                            var r = e[t];
                            !r &&
                                s &&
                                (r =
                                    2 == e.length
                                        ? function (i) {
                                              e(t, i);
                                          }
                                        : e),
                                (n[t] =
                                    (r &&
                                        function (e) {
                                            r("[xmldom " + t + "]\t" + e + a(i));
                                        }) ||
                                    function () {});
                        }
                        return (i = i || {}), o("warning"), o("error"), o("fatalError"), n;
                    })(o, s, l)),
                    (n.domBuilder = i.domBuilder || s),
                    /\/x?html?$/.test(t) && ((d.nbsp = "Â "), (d.copy = "Â©"), (c[""] = "http://www.w3.org/1999/xhtml")),
                    (c.xml = c.xml || "http://www.w3.org/XML/1998/namespace"),
                    e ? n.parse(e, c, d) : n.errorHandler.error("invalid doc source"),
                    s.doc
                );
            }),
                (r.prototype = {
                    startDocument: function () {
                        (this.doc = new c().createDocument(null, null, null)), this.locator && (this.doc.documentURI = this.locator.systemId);
                    },
                    startElement: function (e, t, i, n) {
                        var r = this.doc,
                            a = r.createElementNS(e, i || t),
                            o = n.length;
                        l(this, a), (this.currentElement = a), this.locator && s(this.locator, a);
                        for (var u = 0; u < o; u++) {
                            e = n.getURI(u);
                            var c = n.getValue(u),
                                d = ((i = n.getQName(u)), r.createAttributeNS(e, i));
                            this.locator && s(n.getLocator(u), d), (d.value = d.nodeValue = c), a.setAttributeNode(d);
                        }
                    },
                    endElement: function () {
                        var e = this.currentElement;
                        e.tagName;
                        this.currentElement = e.parentNode;
                    },
                    startPrefixMapping: function () {},
                    endPrefixMapping: function () {},
                    processingInstruction: function (e, t) {
                        var i = this.doc.createProcessingInstruction(e, t);
                        this.locator && s(this.locator, i), l(this, i);
                    },
                    ignorableWhitespace: function () {},
                    characters: function (e, t, i) {
                        if ((e = o.apply(this, arguments))) {
                            if (this.cdata) var n = this.doc.createCDATASection(e);
                            else n = this.doc.createTextNode(e);
                            this.currentElement ? this.currentElement.appendChild(n) : /^\s*$/.test(e) && this.doc.appendChild(n), this.locator && s(this.locator, n);
                        }
                    },
                    skippedEntity: function () {},
                    endDocument: function () {
                        this.doc.normalize();
                    },
                    setDocumentLocator: function (e) {
                        (this.locator = e) && (e.lineNumber = 0);
                    },
                    comment: function (e, t, i) {
                        e = o.apply(this, arguments);
                        var n = this.doc.createComment(e);
                        this.locator && s(this.locator, n), l(this, n);
                    },
                    startCDATA: function () {
                        this.cdata = !0;
                    },
                    endCDATA: function () {
                        this.cdata = !1;
                    },
                    startDTD: function (e, t, i) {
                        var n = this.doc.implementation;
                        if (n && n.createDocumentType) {
                            var r = n.createDocumentType(e, t, i);
                            this.locator && s(this.locator, r), l(this, r);
                        }
                    },
                    warning: function (e) {
                        console.warn("[xmldom warning]\t" + e, a(this.locator));
                    },
                    error: function (e) {
                        console.error("[xmldom error]\t" + e, a(this.locator));
                    },
                    fatalError: function (e) {
                        throw (console.error("[xmldom fatalError]\t" + e, a(this.locator)), e);
                    },
                }),
                "endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g, function (e) {
                    r.prototype[e] = function () {
                        return null;
                    };
                });
            var u = i(142).XMLReader,
                c = (t.DOMImplementation = i(102).DOMImplementation);
            (t.XMLSerializer = i(102).XMLSerializer), (t.DOMParser = n);
        },
        function (e, t) {
            var i = /[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,
                n = new RegExp("[\\-\\.0-9" + i.source.slice(1, -1) + "\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),
                r = new RegExp("^" + i.source + n.source + "*(?::" + i.source + n.source + "*)?$");
            function s() {}
            function a(e, t) {
                return (t.lineNumber = e.lineNumber), (t.columnNumber = e.columnNumber), t;
            }
            function o(e, t, i, n, r, s) {
                for (var a, o = ++t, l = 0; ; ) {
                    var u = e.charAt(o);
                    switch (u) {
                        case "=":
                            if (1 === l) (a = e.slice(t, o)), (l = 3);
                            else {
                                if (2 !== l) throw new Error("attribute equal must after attrName");
                                l = 3;
                            }
                            break;
                        case "'":
                        case '"':
                            if (3 === l || 1 === l) {
                                if ((1 === l && (s.warning('attribute value must after "="'), (a = e.slice(t, o))), (t = o + 1), !((o = e.indexOf(u, t)) > 0))) throw new Error("attribute value no end '" + u + "' match");
                                (c = e.slice(t, o).replace(/&#?\w+;/g, r)), i.add(a, c, t - 1), (l = 5);
                            } else {
                                if (4 != l) throw new Error('attribute value must after "="');
                                (c = e.slice(t, o).replace(/&#?\w+;/g, r)), i.add(a, c, t), s.warning('attribute "' + a + '" missed start quot(' + u + ")!!"), (t = o + 1), (l = 5);
                            }
                            break;
                        case "/":
                            switch (l) {
                                case 0:
                                    i.setTagName(e.slice(t, o));
                                case 5:
                                case 6:
                                case 7:
                                    (l = 7), (i.closed = !0);
                                case 4:
                                case 1:
                                case 2:
                                    break;
                                default:
                                    throw new Error("attribute invalid close char('/')");
                            }
                            break;
                        case "":
                            return s.error("unexpected end of input"), 0 == l && i.setTagName(e.slice(t, o)), o;
                        case ">":
                            switch (l) {
                                case 0:
                                    i.setTagName(e.slice(t, o));
                                case 5:
                                case 6:
                                case 7:
                                    break;
                                case 4:
                                case 1:
                                    "/" === (c = e.slice(t, o)).slice(-1) && ((i.closed = !0), (c = c.slice(0, -1)));
                                case 2:
                                    2 === l && (c = a),
                                        4 == l
                                            ? (s.warning('attribute "' + c + '" missed quot(")!!'), i.add(a, c.replace(/&#?\w+;/g, r), t))
                                            : (("http://www.w3.org/1999/xhtml" === n[""] && c.match(/^(?:disabled|checked|selected)$/i)) || s.warning('attribute "' + c + '" missed value!! "' + c + '" instead!!'), i.add(c, c, t));
                                    break;
                                case 3:
                                    throw new Error("attribute value missed!!");
                            }
                            return o;
                        case "Â€":
                            u = " ";
                        default:
                            if (u <= " ")
                                switch (l) {
                                    case 0:
                                        i.setTagName(e.slice(t, o)), (l = 6);
                                        break;
                                    case 1:
                                        (a = e.slice(t, o)), (l = 2);
                                        break;
                                    case 4:
                                        var c = e.slice(t, o).replace(/&#?\w+;/g, r);
                                        s.warning('attribute "' + c + '" missed quot(")!!'), i.add(a, c, t);
                                    case 5:
                                        l = 6;
                                }
                            else
                                switch (l) {
                                    case 2:
                                        i.tagName;
                                        ("http://www.w3.org/1999/xhtml" === n[""] && a.match(/^(?:disabled|checked|selected)$/i)) || s.warning('attribute "' + a + '" missed value!! "' + a + '" instead2!!'), i.add(a, a, t), (t = o), (l = 1);
                                        break;
                                    case 5:
                                        s.warning('attribute space is required"' + a + '"!!');
                                    case 6:
                                        (l = 1), (t = o);
                                        break;
                                    case 3:
                                        (l = 4), (t = o);
                                        break;
                                    case 7:
                                        throw new Error("elements closed character '/' and '>' must be connected to");
                                }
                    }
                    o++;
                }
            }
            function l(e, t, i) {
                for (var n = e.tagName, r = null, s = e.length; s--; ) {
                    var a = e[s],
                        o = a.qName,
                        l = a.value;
                    if ((p = o.indexOf(":")) > 0)
                        var u = (a.prefix = o.slice(0, p)),
                            c = o.slice(p + 1),
                            h = "xmlns" === u && c;
                    else (c = o), (u = null), (h = "xmlns" === o && "");
                    (a.localName = c), !1 !== h && (null == r && ((r = {}), d(i, (i = {}))), (i[h] = r[h] = l), (a.uri = "http://www.w3.org/2000/xmlns/"), t.startPrefixMapping(h, l));
                }
                for (s = e.length; s--; ) {
                    (u = (a = e[s]).prefix) && ("xml" === u && (a.uri = "http://www.w3.org/XML/1998/namespace"), "xmlns" !== u && (a.uri = i[u || ""]));
                }
                var p;
                (p = n.indexOf(":")) > 0 ? ((u = e.prefix = n.slice(0, p)), (c = e.localName = n.slice(p + 1))) : ((u = null), (c = e.localName = n));
                var f = (e.uri = i[u || ""]);
                if ((t.startElement(f, c, n, e), !e.closed)) return (e.currentNSMap = i), (e.localNSMap = r), !0;
                if ((t.endElement(f, c, n), r)) for (u in r) t.endPrefixMapping(u);
            }
            function u(e, t, i, n, r) {
                if (/^(?:script|textarea)$/i.test(i)) {
                    var s = e.indexOf("</" + i + ">", t),
                        a = e.substring(t + 1, s);
                    if (/[&<]/.test(a)) return /^script$/i.test(i) ? (r.characters(a, 0, a.length), s) : ((a = a.replace(/&#?\w+;/g, n)), r.characters(a, 0, a.length), s);
                }
                return t + 1;
            }
            function c(e, t, i, n) {
                var r = n[i];
                return null == r && ((r = e.lastIndexOf("</" + i + ">")) < t && (r = e.lastIndexOf("</" + i)), (n[i] = r)), r < t;
            }
            function d(e, t) {
                for (var i in e) t[i] = e[i];
            }
            function h(e, t, i, n) {
                switch (e.charAt(t + 2)) {
                    case "-":
                        return "-" === e.charAt(t + 3) ? ((r = e.indexOf("--\x3e", t + 4)) > t ? (i.comment(e, t + 4, r - t - 4), r + 3) : (n.error("Unclosed comment"), -1)) : -1;
                    default:
                        if ("CDATA[" == e.substr(t + 3, 6)) {
                            var r = e.indexOf("]]>", t + 9);
                            return i.startCDATA(), i.characters(e, t + 9, r - t - 9), i.endCDATA(), r + 3;
                        }
                        var s = (function (e, t) {
                                var i,
                                    n = [],
                                    r = /'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;
                                (r.lastIndex = t), r.exec(e);
                                for (; (i = r.exec(e)); ) if ((n.push(i), i[1])) return n;
                            })(e, t),
                            a = s.length;
                        if (a > 1 && /!doctype/i.test(s[0][0])) {
                            var o = s[1][0],
                                l = a > 3 && /^public$/i.test(s[2][0]) && s[3][0],
                                u = a > 4 && s[4][0],
                                c = s[a - 1];
                            return i.startDTD(o, l && l.replace(/^(['"])(.*?)\1$/, "$2"), u && u.replace(/^(['"])(.*?)\1$/, "$2")), i.endDTD(), c.index + c[0].length;
                        }
                }
                return -1;
            }
            function p(e, t, i) {
                var n = e.indexOf("?>", t);
                if (n) {
                    var r = e.substring(t, n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);
                    if (r) {
                        r[0].length;
                        return i.processingInstruction(r[1], r[2]), n + 2;
                    }
                    return -1;
                }
                return -1;
            }
            function f() {}
            function m(e, t) {
                return (e.__proto__ = t), e;
            }
            (s.prototype = {
                parse: function (e, t, i) {
                    var n = this.domBuilder;
                    n.startDocument(),
                        d(t, (t = {})),
                        (function (e, t, i, n, r) {
                            function s(e) {
                                if (e > 65535) {
                                    var t = 55296 + ((e -= 65536) >> 10),
                                        i = 56320 + (1023 & e);
                                    return String.fromCharCode(t, i);
                                }
                                return String.fromCharCode(e);
                            }
                            function d(e) {
                                var t = e.slice(1, -1);
                                return t in i ? i[t] : "#" === t.charAt(0) ? s(parseInt(t.substr(1).replace("x", "0x"))) : (r.error("entity not found:" + e), e);
                            }
                            function m(t) {
                                if (t > w) {
                                    var i = e.substring(w, t).replace(/&#?\w+;/g, d);
                                    b && g(w), n.characters(i, 0, t - w), (w = t);
                                }
                            }
                            function g(t, i) {
                                for (; t >= y && (i = _.exec(e)); ) (v = i.index), (y = v + i[0].length), b.lineNumber++;
                                b.columnNumber = t - v + 1;
                            }
                            var v = 0,
                                y = 0,
                                _ = /.*(?:\r\n?|\n)|.*$/g,
                                b = n.locator,
                                T = [{ currentNSMap: t }],
                                S = {},
                                w = 0;
                            for (;;) {
                                try {
                                    var k = e.indexOf("<", w);
                                    if (k < 0) {
                                        if (!e.substr(w).match(/^\s*$/)) {
                                            var C = n.doc,
                                                E = C.createTextNode(e.substr(w));
                                            C.appendChild(E), (n.currentElement = E);
                                        }
                                        return;
                                    }
                                    switch ((k > w && m(k), e.charAt(k + 1))) {
                                        case "/":
                                            var x = e.indexOf(">", k + 3),
                                                A = e.substring(k + 2, x),
                                                I = T.pop();
                                            x < 0
                                                ? ((A = e.substring(k + 2).replace(/[\s<].*/, "")), r.error("end tag name: " + A + " is not complete:" + I.tagName), (x = k + 1 + A.length))
                                                : A.match(/\s</) && ((A = A.replace(/[\s<].*/, "")), r.error("end tag name: " + A + " maybe not complete"), (x = k + 1 + A.length));
                                            var P = I.localNSMap,
                                                O = I.tagName == A;
                                            if (O || (I.tagName && I.tagName.toLowerCase() == A.toLowerCase())) {
                                                if ((n.endElement(I.uri, I.localName, A), P)) for (var L in P) n.endPrefixMapping(L);
                                                O || r.fatalError("end tag name: " + A + " is not match the current start tagName:" + I.tagName);
                                            } else T.push(I);
                                            x++;
                                            break;
                                        case "?":
                                            b && g(k), (x = p(e, k, n));
                                            break;
                                        case "!":
                                            b && g(k), (x = h(e, k, n, r));
                                            break;
                                        default:
                                            b && g(k);
                                            var D = new f(),
                                                R = T[T.length - 1].currentNSMap,
                                                M = ((x = o(e, k, D, R, d, r)), D.length);
                                            if ((!D.closed && c(e, x, D.tagName, S) && ((D.closed = !0), i.nbsp || r.warning("unclosed xml attribute")), b && M)) {
                                                for (var N = a(b, {}), U = 0; U < M; U++) {
                                                    var j = D[U];
                                                    g(j.offset), (j.locator = a(b, {}));
                                                }
                                                (n.locator = N), l(D, n, R) && T.push(D), (n.locator = b);
                                            } else l(D, n, R) && T.push(D);
                                            "http://www.w3.org/1999/xhtml" !== D.uri || D.closed ? x++ : (x = u(e, x, D.tagName, d, n));
                                    }
                                } catch (e) {
                                    r.error("element parse error: " + e), (x = -1);
                                }
                                x > w ? (w = x) : m(Math.max(k, w) + 1);
                            }
                        })(e, t, i, n, this.errorHandler),
                        n.endDocument();
                },
            }),
                (f.prototype = {
                    setTagName: function (e) {
                        if (!r.test(e)) throw new Error("invalid tagName:" + e);
                        this.tagName = e;
                    },
                    add: function (e, t, i) {
                        if (!r.test(e)) throw new Error("invalid attribute:" + e);
                        this[this.length++] = { qName: e, value: t, offset: i };
                    },
                    length: 0,
                    getLocalName: function (e) {
                        return this[e].localName;
                    },
                    getLocator: function (e) {
                        return this[e].locator;
                    },
                    getQName: function (e) {
                        return this[e].qName;
                    },
                    getURI: function (e) {
                        return this[e].uri;
                    },
                    getValue: function (e) {
                        return this[e].value;
                    },
                }),
                m({}, m.prototype) instanceof m ||
                    (m = function (e, t) {
                        function i() {}
                        for (t in ((i.prototype = t), (i = new i()), e)) i[t] = e[t];
                        return i;
                    }),
                (t.XMLReader = s);
        },
        function (e) {
            e.exports = function (e) {
                var t,
                    i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                    n = { version: e[0], flags: new Uint8Array(e.subarray(1, 4)), references: [], referenceId: i.getUint32(4), timescale: i.getUint32(8), earliestPresentationTime: i.getUint32(12), firstOffset: i.getUint32(16) },
                    r = i.getUint16(22);
                for (t = 24; r; t += 12, r--)
                    n.references.push({
                        referenceType: (128 & e[t]) >>> 7,
                        referencedSize: 2147483647 & i.getUint32(t),
                        subsegmentDuration: i.getUint32(t + 4),
                        startsWithSap: !!(128 & e[t + 8]),
                        sapType: (112 & e[t + 8]) >>> 4,
                        sapDeltaTime: 268435455 & i.getUint32(t + 8),
                    });
                return n;
            };
        },
        function (e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 });
            var i = function (e) {
                    return e instanceof Uint8Array ? e : new Uint8Array((e && e.buffer) || e, (e && e.byteOffset) || 0, (e && e.byteLength) || 0);
                },
                n = function (e) {
                    if (!e) return "";
                    e = Array.prototype.slice.call(e);
                    var t = String.fromCharCode.apply(null, i(e));
                    try {
                        return decodeURIComponent(escape(t));
                    } catch (e) {}
                    return t;
                },
                r = function (e, t) {
                    void 0 === t && (t = 0);
                    var n = ((e = i(e))[t + 6] << 21) | (e[t + 7] << 14) | (e[t + 8] << 7) | e[t + 9];
                    return (16 & e[t + 5]) >> 4 ? n + 20 : n + 10;
                },
                s = function e(t, s) {
                    return void 0 === s && (s = 0), (t = i(t)).length - s < 10 || "ID3" !== n(t.subarray(s, s + 3)) ? s : e(t, (s += r(t, s)));
                },
                a = {
                    aac: function (e) {
                        var t = s(e);
                        return e.length >= t + 2 && 255 == (255 & e[t]) && 224 == (224 & e[t + 1]) && 16 == (22 & e[t + 1]);
                    },
                    mp3: function (e) {
                        var t = s(e);
                        return e.length >= t + 2 && 255 == (255 & e[t]) && 224 == (224 & e[t + 1]) && 2 == (6 & e[t + 1]);
                    },
                    webm: function (e) {
                        return e.length >= 4 && 26 == (255 & e[0]) && 69 == (255 & e[1]) && 223 == (255 & e[2]) && 163 == (255 & e[3]);
                    },
                    mp4: function (e) {
                        return e.length >= 8 && /^(f|s)typ$/.test(n(e.subarray(4, 8))) && !/^ftyp3g$/.test(n(e.subarray(4, 10)));
                    },
                    "3gp": function (e) {
                        return e.length >= 10 && /^ftyp3g$/.test(n(e.subarray(4, 10)));
                    },
                    ts: function (e) {
                        if (e.length < 189 && e.length >= 1) return 71 === e[0];
                        for (var t = 0; t + 188 < e.length && t < 188; ) {
                            if (71 === e[t] && 71 === e[t + 188]) return !0;
                            t += 1;
                        }
                        return !1;
                    },
                    flac: function (e) {
                        return e.length >= 4 && /^fLaC$/.test(n(e.subarray(0, 4)));
                    },
                    ogg: function (e) {
                        return e.length >= 4 && /^OggS$/.test(n(e.subarray(0, 4)));
                    },
                },
                o = Object.keys(a)
                    .filter(function (e) {
                        return "ts" !== e;
                    })
                    .concat("ts");
            o.forEach(function (e) {
                var t = a[e];
                a[e] = function (e) {
                    return t(i(e));
                };
            });
            (t.detectContainerForBytes = function (e) {
                e = i(e);
                for (var t = 0; t < o.length; t++) {
                    var n = o[t];
                    if (a[n](e)) return n;
                }
                return "";
            }),
                (t.getId3Offset = s),
                (t.id3Size = r),
                (t.isLikely = a),
                (t.isLikelyFmp4MediaSegment = function (e) {
                    e = i(e);
                    for (var t = 0; t < e.length; ) {
                        var r = ((e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3]) >>> 0;
                        if ("moof" === n(e.subarray(t + 4, t + 8))) return !0;
                        0 === r || r + t > e.length ? (t = e.length) : (t += r);
                    }
                    return !1;
                });
        },
        function (e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 });
            var i = function (e) {
                return e instanceof Uint8Array ? e : new Uint8Array((e && e.buffer) || e, (e && e.byteOffset) || 0, (e && e.byteLength) || 0);
            };
            (t.bytesToString = function (e) {
                if (!e) return "";
                e = Array.prototype.slice.call(e);
                var t = String.fromCharCode.apply(null, i(e));
                try {
                    return decodeURIComponent(escape(t));
                } catch (e) {}
                return t;
            }),
                (t.concatTypedArrays = function () {
                    for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++) t[n] = arguments[n];
                    var r = t.reduce(function (e, t) {
                            return (e += (t && (t.byteLength || t.length)) || 0);
                        }, 0),
                        s = new Uint8Array(r),
                        a = 0;
                    return (
                        t.forEach(function (e) {
                            (e = i(e)), s.set(e, a), (a += e.byteLength);
                        }),
                        s
                    );
                }),
                (t.isTypedArray = function (e) {
                    return ArrayBuffer.isView(e);
                }),
                (t.stringToBytes = function (e, t) {
                    void 0 === t && (t = !1);
                    return (
                        "string" != typeof e && e && "function" == typeof e.toString && (e = e.toString()),
                        "string" != typeof e
                            ? []
                            : (t || (e = unescape(encodeURIComponent(e))),
                              e.split("").map(function (e) {
                                  return 255 & e.charCodeAt(0);
                              }))
                    );
                }),
                (t.toUint8 = i);
        },
        function (e, t, i) {
            "use strict";
            var n = i(103),
                r = i(147).handleRollover,
                s = {};
            (s.ts = i(149)), (s.aac = i(150));
            var a = i(104).ONE_SECOND_IN_TS,
                o = 188,
                l = 71,
                u = function (e, t, i) {
                    for (var n, r, a, u, c = 0, d = o, h = !1; d <= e.byteLength; )
                        if (e[c] !== l || (e[d] !== l && d !== e.byteLength)) c++, d++;
                        else {
                            switch (((n = e.subarray(c, d)), s.ts.parseType(n, t.pid))) {
                                case "pes":
                                    (r = s.ts.parsePesType(n, t.table)), (a = s.ts.parsePayloadUnitStartIndicator(n)), "audio" === r && a && (u = s.ts.parsePesTime(n)) && ((u.type = "audio"), i.audio.push(u), (h = !0));
                            }
                            if (h) break;
                            (c += o), (d += o);
                        }
                    for (c = (d = e.byteLength) - o, h = !1; c >= 0; )
                        if (e[c] !== l || (e[d] !== l && d !== e.byteLength)) c--, d--;
                        else {
                            switch (((n = e.subarray(c, d)), s.ts.parseType(n, t.pid))) {
                                case "pes":
                                    (r = s.ts.parsePesType(n, t.table)), (a = s.ts.parsePayloadUnitStartIndicator(n)), "audio" === r && a && (u = s.ts.parsePesTime(n)) && ((u.type = "audio"), i.audio.push(u), (h = !0));
                            }
                            if (h) break;
                            (c -= o), (d -= o);
                        }
                },
                c = function (e, t, i) {
                    for (var n, r, a, u, c, d, h, p = 0, f = o, m = !1, g = { data: [], size: 0 }; f < e.byteLength; )
                        if (e[p] !== l || e[f] !== l) p++, f++;
                        else {
                            switch (((n = e.subarray(p, f)), s.ts.parseType(n, t.pid))) {
                                case "pes":
                                    if (
                                        ((r = s.ts.parsePesType(n, t.table)),
                                        (a = s.ts.parsePayloadUnitStartIndicator(n)),
                                        "video" === r && (a && !m && (u = s.ts.parsePesTime(n)) && ((u.type = "video"), i.video.push(u), (m = !0)), !i.firstKeyFrame))
                                    ) {
                                        if (a && 0 !== g.size) {
                                            for (c = new Uint8Array(g.size), d = 0; g.data.length; ) (h = g.data.shift()), c.set(h, d), (d += h.byteLength);
                                            if (s.ts.videoPacketContainsKeyFrame(c)) {
                                                var v = s.ts.parsePesTime(c);
                                                v
                                                    ? ((i.firstKeyFrame = v), (i.firstKeyFrame.type = "video"))
                                                    : console.warn(
                                                          "Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself."
                                                      );
                                            }
                                            g.size = 0;
                                        }
                                        g.data.push(n), (g.size += n.byteLength);
                                    }
                            }
                            if (m && i.firstKeyFrame) break;
                            (p += o), (f += o);
                        }
                    for (p = (f = e.byteLength) - o, m = !1; p >= 0; )
                        if (e[p] !== l || e[f] !== l) p--, f--;
                        else {
                            switch (((n = e.subarray(p, f)), s.ts.parseType(n, t.pid))) {
                                case "pes":
                                    (r = s.ts.parsePesType(n, t.table)), (a = s.ts.parsePayloadUnitStartIndicator(n)), "video" === r && a && (u = s.ts.parsePesTime(n)) && ((u.type = "video"), i.video.push(u), (m = !0));
                            }
                            if (m) break;
                            (p -= o), (f -= o);
                        }
                },
                d = function (e) {
                    var t = { pid: null, table: null },
                        i = {};
                    for (var r in ((function (e, t) {
                        for (var i, n = 0, r = o; r < e.byteLength; )
                            if (e[n] !== l || e[r] !== l) n++, r++;
                            else {
                                switch (((i = e.subarray(n, r)), s.ts.parseType(i, t.pid))) {
                                    case "pat":
                                        t.pid || (t.pid = s.ts.parsePat(i));
                                        break;
                                    case "pmt":
                                        t.table || (t.table = s.ts.parsePmt(i));
                                }
                                if (t.pid && t.table) return;
                                (n += o), (r += o);
                            }
                    })(e, t),
                    t.table)) {
                        if (t.table.hasOwnProperty(r))
                            switch (t.table[r]) {
                                case n.H264_STREAM_TYPE:
                                    (i.video = []), c(e, t, i), 0 === i.video.length && delete i.video;
                                    break;
                                case n.ADTS_STREAM_TYPE:
                                    (i.audio = []), u(e, t, i), 0 === i.audio.length && delete i.audio;
                            }
                    }
                    return i;
                };
            e.exports = {
                inspect: function (e, t) {
                    var i;
                    return (i = s.aac.isLikelyAacData(e)
                        ? (function (e) {
                              for (var t, i = !1, n = 0, r = null, o = null, l = 0, u = 0; e.length - u >= 3; ) {
                                  switch (s.aac.parseType(e, u)) {
                                      case "timed-metadata":
                                          if (e.length - u < 10) {
                                              i = !0;
                                              break;
                                          }
                                          if ((l = s.aac.parseId3TagSize(e, u)) > e.length) {
                                              i = !0;
                                              break;
                                          }
                                          null === o && ((t = e.subarray(u, u + l)), (o = s.aac.parseAacTimestamp(t))), (u += l);
                                          break;
                                      case "audio":
                                          if (e.length - u < 7) {
                                              i = !0;
                                              break;
                                          }
                                          if ((l = s.aac.parseAdtsSize(e, u)) > e.length) {
                                              i = !0;
                                              break;
                                          }
                                          null === r && ((t = e.subarray(u, u + l)), (r = s.aac.parseSampleRate(t))), n++, (u += l);
                                          break;
                                      default:
                                          u++;
                                  }
                                  if (i) return null;
                              }
                              if (null === r || null === o) return null;
                              var c = a / r;
                              return {
                                  audio: [
                                      { type: "audio", dts: o, pts: o },
                                      { type: "audio", dts: o + 1024 * n * c, pts: o + 1024 * n * c },
                                  ],
                              };
                          })(e)
                        : d(e)) &&
                        (i.audio || i.video)
                        ? ((function (e, t) {
                              if (e.audio && e.audio.length) {
                                  var i = t;
                                  void 0 === i && (i = e.audio[0].dts),
                                      e.audio.forEach(function (e) {
                                          (e.dts = r(e.dts, i)), (e.pts = r(e.pts, i)), (e.dtsTime = e.dts / a), (e.ptsTime = e.pts / a);
                                      });
                              }
                              if (e.video && e.video.length) {
                                  var n = t;
                                  if (
                                      (void 0 === n && (n = e.video[0].dts),
                                      e.video.forEach(function (e) {
                                          (e.dts = r(e.dts, n)), (e.pts = r(e.pts, n)), (e.dtsTime = e.dts / a), (e.ptsTime = e.pts / a);
                                      }),
                                      e.firstKeyFrame)
                                  ) {
                                      var s = e.firstKeyFrame;
                                      (s.dts = r(s.dts, n)), (s.pts = r(s.pts, n)), (s.dtsTime = s.dts / a), (s.ptsTime = s.dts / a);
                                  }
                              }
                          })(i, t),
                          i)
                        : null;
                },
                parseAudioPes_: u,
            };
        },
        function (e, t, i) {
            "use strict";
            var n = i(148),
                r = "shared",
                s = function (e, t) {
                    var i = 1;
                    for (e > t && (i = -1); Math.abs(t - e) > 4294967296; ) e += 8589934592 * i;
                    return e;
                },
                a = function (e) {
                    var t, i;
                    a.prototype.init.call(this),
                        (this.type_ = e || r),
                        (this.push = function (e) {
                            (this.type_ !== r && e.type !== this.type_) || (void 0 === i && (i = e.dts), (e.dts = s(e.dts, i)), (e.pts = s(e.pts, i)), (t = e.dts), this.trigger("data", e));
                        }),
                        (this.flush = function () {
                            (i = t), this.trigger("done");
                        }),
                        (this.endTimeline = function () {
                            this.flush(), this.trigger("endedtimeline");
                        }),
                        (this.discontinuity = function () {
                            (i = void 0), (t = void 0);
                        }),
                        (this.reset = function () {
                            this.discontinuity(), this.trigger("reset");
                        });
                };
            (a.prototype = new n()), (e.exports = { TimestampRolloverStream: a, handleRollover: s });
        },
        function (e) {
            "use strict";
            var t = function () {
                this.init = function () {
                    var e = {};
                    (this.on = function (t, i) {
                        e[t] || (e[t] = []), (e[t] = e[t].concat(i));
                    }),
                        (this.off = function (t, i) {
                            var n;
                            return !!e[t] && ((n = e[t].indexOf(i)), (e[t] = e[t].slice()), e[t].splice(n, 1), n > -1);
                        }),
                        (this.trigger = function (t) {
                            var i, n, r, s;
                            if ((i = e[t]))
                                if (2 === arguments.length) for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                                else {
                                    for (s = [], n = arguments.length, n = 1; n < arguments.length; ++n) s.push(arguments[n]);
                                    for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, s);
                                }
                        }),
                        (this.dispose = function () {
                            e = {};
                        });
                };
            };
            (t.prototype.pipe = function (e) {
                return (
                    this.on("data", function (t) {
                        e.push(t);
                    }),
                    this.on("done", function (t) {
                        e.flush(t);
                    }),
                    this.on("partialdone", function (t) {
                        e.partialFlush(t);
                    }),
                    this.on("endedtimeline", function (t) {
                        e.endTimeline(t);
                    }),
                    this.on("reset", function (t) {
                        e.reset(t);
                    }),
                    e
                );
            }),
                (t.prototype.push = function (e) {
                    this.trigger("data", e);
                }),
                (t.prototype.flush = function (e) {
                    this.trigger("done", e);
                }),
                (t.prototype.partialFlush = function (e) {
                    this.trigger("partialdone", e);
                }),
                (t.prototype.endTimeline = function (e) {
                    this.trigger("endedtimeline", e);
                }),
                (t.prototype.reset = function (e) {
                    this.trigger("reset", e);
                }),
                (e.exports = t);
        },
        function (e, t, i) {
            "use strict";
            var n = i(103),
                r = function (e) {
                    var t = 31 & e[1];
                    return (t <<= 8), (t |= e[2]);
                },
                s = function (e) {
                    return !!(64 & e[1]);
                },
                a = function (e) {
                    var t = 0;
                    return (48 & e[3]) >>> 4 > 1 && (t += e[4] + 1), t;
                },
                o = function (e) {
                    switch (e) {
                        case 5:
                            return "slice_layer_without_partitioning_rbsp_idr";
                        case 6:
                            return "sei_rbsp";
                        case 7:
                            return "seq_parameter_set_rbsp";
                        case 8:
                            return "pic_parameter_set_rbsp";
                        case 9:
                            return "access_unit_delimiter_rbsp";
                        default:
                            return null;
                    }
                };
            e.exports = {
                parseType: function (e, t) {
                    var i = r(e);
                    return 0 === i ? "pat" : i === t ? "pmt" : t ? "pes" : null;
                },
                parsePat: function (e) {
                    var t = s(e),
                        i = 4 + a(e);
                    return t && (i += e[i] + 1), ((31 & e[i + 10]) << 8) | e[i + 11];
                },
                parsePmt: function (e) {
                    var t = {},
                        i = s(e),
                        n = 4 + a(e);
                    if ((i && (n += e[n] + 1), 1 & e[n + 5])) {
                        var r;
                        r = 3 + (((15 & e[n + 1]) << 8) | e[n + 2]) - 4;
                        for (var o = 12 + (((15 & e[n + 10]) << 8) | e[n + 11]); o < r; ) {
                            var l = n + o;
                            (t[((31 & e[l + 1]) << 8) | e[l + 2]] = e[l]), (o += 5 + (((15 & e[l + 3]) << 8) | e[l + 4]));
                        }
                        return t;
                    }
                },
                parsePayloadUnitStartIndicator: s,
                parsePesType: function (e, t) {
                    switch (t[r(e)]) {
                        case n.H264_STREAM_TYPE:
                            return "video";
                        case n.ADTS_STREAM_TYPE:
                            return "audio";
                        case n.METADATA_STREAM_TYPE:
                            return "timed-metadata";
                        default:
                            return null;
                    }
                },
                parsePesTime: function (e) {
                    if (!s(e)) return null;
                    var t = 4 + a(e);
                    if (t >= e.byteLength) return null;
                    var i,
                        n = null;
                    return (
                        192 & (i = e[t + 7]) &&
                            (((n = {}).pts = ((14 & e[t + 9]) << 27) | ((255 & e[t + 10]) << 20) | ((254 & e[t + 11]) << 12) | ((255 & e[t + 12]) << 5) | ((254 & e[t + 13]) >>> 3)),
                            (n.pts *= 4),
                            (n.pts += (6 & e[t + 13]) >>> 1),
                            (n.dts = n.pts),
                            64 & i && ((n.dts = ((14 & e[t + 14]) << 27) | ((255 & e[t + 15]) << 20) | ((254 & e[t + 16]) << 12) | ((255 & e[t + 17]) << 5) | ((254 & e[t + 18]) >>> 3)), (n.dts *= 4), (n.dts += (6 & e[t + 18]) >>> 1))),
                        n
                    );
                },
                videoPacketContainsKeyFrame: function (e) {
                    for (var t = 4 + a(e), i = e.subarray(t), n = 0, r = 0, s = !1; r < i.byteLength - 3; r++)
                        if (1 === i[r + 2]) {
                            n = r + 5;
                            break;
                        }
                    for (; n < i.byteLength; )
                        switch (i[n]) {
                            case 0:
                                if (0 !== i[n - 1]) {
                                    n += 2;
                                    break;
                                }
                                if (0 !== i[n - 2]) {
                                    n++;
                                    break;
                                }
                                r + 3 !== n - 2 && "slice_layer_without_partitioning_rbsp_idr" === o(31 & i[r + 3]) && (s = !0);
                                do {
                                    n++;
                                } while (1 !== i[n] && n < i.length);
                                (r = n - 2), (n += 3);
                                break;
                            case 1:
                                if (0 !== i[n - 1] || 0 !== i[n - 2]) {
                                    n += 3;
                                    break;
                                }
                                "slice_layer_without_partitioning_rbsp_idr" === o(31 & i[r + 3]) && (s = !0), (r = n - 2), (n += 3);
                                break;
                            default:
                                n += 3;
                        }
                    return (i = i.subarray(r)), (n -= r), (r = 0), i && i.byteLength > 3 && "slice_layer_without_partitioning_rbsp_idr" === o(31 & i[r + 3]) && (s = !0), s;
                },
            };
        },
        function (e) {
            "use strict";
            var t = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350],
                i = function (e, t) {
                    var i = (e[t + 6] << 21) | (e[t + 7] << 14) | (e[t + 8] << 7) | e[t + 9];
                    return (i = i >= 0 ? i : 0), (16 & e[t + 5]) >> 4 ? i + 20 : i + 10;
                },
                n = function (e, t) {
                    return e.length - t < 10 || e[t] !== "I".charCodeAt(0) || e[t + 1] !== "D".charCodeAt(0) || e[t + 2] !== "3".charCodeAt(0) ? t : ((t += i(e, t)), n(e, t));
                },
                r = function (e) {
                    return (e[0] << 21) | (e[1] << 14) | (e[2] << 7) | e[3];
                };
            e.exports = {
                isLikelyAacData: function (e) {
                    var t = n(e, 0);
                    return e.length >= t + 2 && 255 == (255 & e[t]) && 240 == (240 & e[t + 1]) && 16 == (22 & e[t + 1]);
                },
                parseId3TagSize: i,
                parseAdtsSize: function (e, t) {
                    var i = (224 & e[t + 5]) >> 5,
                        n = e[t + 4] << 3;
                    return (6144 & e[t + 3]) | n | i;
                },
                parseType: function (e, t) {
                    return e[t] === "I".charCodeAt(0) && e[t + 1] === "D".charCodeAt(0) && e[t + 2] === "3".charCodeAt(0) ? "timed-metadata" : !0 & e[t] && 240 == (240 & e[t + 1]) ? "audio" : null;
                },
                parseSampleRate: function (e) {
                    for (var i = 0; i + 5 < e.length; ) {
                        if (255 === e[i] && 240 == (246 & e[i + 1])) return t[(60 & e[i + 2]) >>> 2];
                        i++;
                    }
                    return null;
                },
                parseAacTimestamp: function (e) {
                    var t, i, n;
                    (t = 10), 64 & e[5] && ((t += 4), (t += r(e.subarray(10, 14))));
                    do {
                        if ((i = r(e.subarray(t + 4, t + 8))) < 1) return null;
                        if ("PRIV" === String.fromCharCode(e[t], e[t + 1], e[t + 2], e[t + 3])) {
                            n = e.subarray(t + 10, t + i + 10);
                            for (var s = 0; s < n.byteLength; s++)
                                if (0 === n[s]) {
                                    if (
                                        "com.apple.streaming.transportStreamTimestamp" ===
                                        unescape(
                                            (function (e, t, i) {
                                                var n,
                                                    r = "";
                                                for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                                                return r;
                                            })(n, 0, s)
                                        )
                                    ) {
                                        var a = n.subarray(s + 1),
                                            o = ((1 & a[3]) << 30) | (a[4] << 22) | (a[5] << 14) | (a[6] << 6) | (a[7] >>> 2);
                                        return (o *= 4), (o += 3 & a[7]);
                                    }
                                    break;
                                }
                        }
                        (t += 10), (t += i);
                    } while (t < e.byteLength);
                    return null;
                },
            };
        },
        function (e, t, i) {
            "use strict";
            var n,
                r,
                s,
                a,
                o,
                l,
                u = i(88).toUnsigned,
                c = i(88).toHexString,
                d = i(152),
                h = i(105),
                p = i(153),
                f = i(154),
                m = i(156);
            (n = function (e) {
                return d(e, ["moov", "trak"]).reduce(function (e, t) {
                    var i, n, r, s, a;
                    return (i = d(t, ["tkhd"])[0])
                        ? ((n = i[0]),
                          (s = u((i[(r = 0 === n ? 12 : 20)] << 24) | (i[r + 1] << 16) | (i[r + 2] << 8) | i[r + 3])),
                          (a = d(t, ["mdia", "mdhd"])[0]) ? ((r = 0 === (n = a[0]) ? 12 : 20), (e[s] = u((a[r] << 24) | (a[r + 1] << 16) | (a[r + 2] << 8) | a[r + 3])), e) : null)
                        : null;
                }, {});
            }),
                (r = function (e, t) {
                    var i, n, r;
                    return (
                        (i = d(t, ["moof", "traf"])),
                        (n = [].concat.apply(
                            [],
                            i.map(function (t) {
                                return d(t, ["tfhd"]).map(function (i) {
                                    var n, r;
                                    return (
                                        (n = u((i[4] << 24) | (i[5] << 16) | (i[6] << 8) | i[7])),
                                        (r = e[n] || 9e4),
                                        (d(t, ["tfdt"]).map(function (e) {
                                            var t, i;
                                            return (t = e[0]), (i = u((e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7])), 1 === t && ((i *= Math.pow(2, 32)), (i += u((e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11]))), i;
                                        })[0] || 1 / 0) / r
                                    );
                                });
                            })
                        )),
                        (r = Math.min.apply(null, n)),
                        isFinite(r) ? r : 0
                    );
                }),
                (s = function (e, t) {
                    var i,
                        n = d(t, ["moof", "traf"]),
                        r = 0,
                        s = 0;
                    if (n && n.length) {
                        var a = d(n[0], ["tfhd"])[0],
                            o = d(n[0], ["trun"])[0],
                            l = d(n[0], ["tfdt"])[0];
                        if (a) i = p(a).trackId;
                        if (l) r = m(l).baseMediaDecodeTime;
                        if (o) {
                            var u = f(o);
                            u.samples && u.samples.length && (s = u.samples[0].compositionTimeOffset || 0);
                        }
                    }
                    return (r + s) / (e[i] || 9e4);
                }),
                (a = function (e) {
                    var t = d(e, ["moov", "trak"]),
                        i = [];
                    return (
                        t.forEach(function (e) {
                            var t = d(e, ["mdia", "hdlr"]),
                                n = d(e, ["tkhd"]);
                            t.forEach(function (e, t) {
                                var r,
                                    s,
                                    a = h(e.subarray(8, 12)),
                                    o = n[t];
                                "vide" === a && ((s = 0 === (r = new DataView(o.buffer, o.byteOffset, o.byteLength)).getUint8(0) ? r.getUint32(12) : r.getUint32(20)), i.push(s));
                            });
                        }),
                        i
                    );
                }),
                (l = function (e) {
                    var t = 0 === e[0] ? 12 : 20;
                    return u((e[t] << 24) | (e[t + 1] << 16) | (e[t + 2] << 8) | e[t + 3]);
                }),
                (o = function (e) {
                    var t = d(e, ["moov", "trak"]),
                        i = [];
                    return (
                        t.forEach(function (e) {
                            var t,
                                n,
                                r = {},
                                s = d(e, ["tkhd"])[0];
                            s && ((n = (t = new DataView(s.buffer, s.byteOffset, s.byteLength)).getUint8(0)), (r.id = 0 === n ? t.getUint32(12) : t.getUint32(20)));
                            var a = d(e, ["mdia", "hdlr"])[0];
                            if (a) {
                                var o = h(a.subarray(8, 12));
                                r.type = "vide" === o ? "video" : "soun" === o ? "audio" : o;
                            }
                            var u = d(e, ["mdia", "minf", "stbl", "stsd"])[0];
                            if (u) {
                                var p = u.subarray(8);
                                r.codec = h(p.subarray(4, 8));
                                var f,
                                    m = d(p, [r.codec])[0];
                                m &&
                                    (/^[a-z]vc[1-9]$/i.test(r.codec)
                                        ? ((f = m.subarray(78)), "avcC" === h(f.subarray(4, 8)) && f.length > 11 ? ((r.codec += "."), (r.codec += c(f[9])), (r.codec += c(f[10])), (r.codec += c(f[11]))) : (r.codec = "avc1.4d400d"))
                                        : /^mp4[a,v]$/i.test(r.codec) &&
                                          ((f = m.subarray(28)),
                                          "esds" === h(f.subarray(4, 8)) && f.length > 20 && 0 !== f[19] ? ((r.codec += "." + c(f[19])), (r.codec += "." + c((f[20] >>> 2) & 63).replace(/^0/, ""))) : (r.codec = "mp4a.40.2")));
                            }
                            var g = d(e, ["mdia", "mdhd"])[0];
                            g && (r.timescale = l(g)), i.push(r);
                        }),
                        i
                    );
                }),
                (e.exports = { findBox: d, parseType: h, timescale: n, startTime: r, compositionStartTime: s, videoTrackIds: a, tracks: o, getTimescaleFromMediaHeader: l });
        },
        function (e, t, i) {
            var n = i(88).toUnsigned,
                r = i(105),
                s = function (e, t) {
                    var i,
                        a,
                        o,
                        l,
                        u,
                        c = [];
                    if (!t.length) return null;
                    for (i = 0; i < e.byteLength; )
                        (a = n((e[i] << 24) | (e[i + 1] << 16) | (e[i + 2] << 8) | e[i + 3])),
                            (o = r(e.subarray(i + 4, i + 8))),
                            (l = a > 1 ? i + a : e.byteLength),
                            o === t[0] && (1 === t.length ? c.push(e.subarray(i + 8, l)) : (u = s(e.subarray(i + 8, l), t.slice(1))).length && (c = c.concat(u))),
                            (i = l);
                    return c;
                };
            e.exports = s;
        },
        function (e) {
            e.exports = function (e) {
                var t,
                    i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                    n = { version: e[0], flags: new Uint8Array(e.subarray(1, 4)), trackId: i.getUint32(4) },
                    r = 1 & n.flags[2],
                    s = 2 & n.flags[2],
                    a = 8 & n.flags[2],
                    o = 16 & n.flags[2],
                    l = 32 & n.flags[2],
                    u = 65536 & n.flags[0],
                    c = 131072 & n.flags[0];
                return (
                    (t = 8),
                    r && ((t += 4), (n.baseDataOffset = i.getUint32(12)), (t += 4)),
                    s && ((n.sampleDescriptionIndex = i.getUint32(t)), (t += 4)),
                    a && ((n.defaultSampleDuration = i.getUint32(t)), (t += 4)),
                    o && ((n.defaultSampleSize = i.getUint32(t)), (t += 4)),
                    l && (n.defaultSampleFlags = i.getUint32(t)),
                    u && (n.durationIsEmpty = !0),
                    !r && c && (n.baseDataOffsetIsMoof = !0),
                    n
                );
            };
        },
        function (e, t, i) {
            var n = i(155);
            e.exports = function (e) {
                var t,
                    i = { version: e[0], flags: new Uint8Array(e.subarray(1, 4)), samples: [] },
                    r = new DataView(e.buffer, e.byteOffset, e.byteLength),
                    s = 1 & i.flags[2],
                    a = 4 & i.flags[2],
                    o = 1 & i.flags[1],
                    l = 2 & i.flags[1],
                    u = 4 & i.flags[1],
                    c = 8 & i.flags[1],
                    d = r.getUint32(4),
                    h = 8;
                for (
                    s && ((i.dataOffset = r.getInt32(h)), (h += 4)),
                        a &&
                            d &&
                            ((t = { flags: n(e.subarray(h, h + 4)) }),
                            (h += 4),
                            o && ((t.duration = r.getUint32(h)), (h += 4)),
                            l && ((t.size = r.getUint32(h)), (h += 4)),
                            c && (1 === i.version ? (t.compositionTimeOffset = r.getInt32(h)) : (t.compositionTimeOffset = r.getUint32(h)), (h += 4)),
                            i.samples.push(t),
                            d--);
                    d--;

                )
                    (t = {}),
                        o && ((t.duration = r.getUint32(h)), (h += 4)),
                        l && ((t.size = r.getUint32(h)), (h += 4)),
                        u && ((t.flags = n(e.subarray(h, h + 4))), (h += 4)),
                        c && (1 === i.version ? (t.compositionTimeOffset = r.getInt32(h)) : (t.compositionTimeOffset = r.getUint32(h)), (h += 4)),
                        i.samples.push(t);
                return i;
            };
        },
        function (e) {
            e.exports = function (e) {
                return {
                    isLeading: (12 & e[0]) >>> 2,
                    dependsOn: 3 & e[0],
                    isDependedOn: (192 & e[1]) >>> 6,
                    hasRedundancy: (48 & e[1]) >>> 4,
                    paddingValue: (14 & e[1]) >>> 1,
                    isNonSyncSample: 1 & e[1],
                    degradationPriority: (e[2] << 8) | e[3],
                };
            };
        },
        function (e, t, i) {
            var n = i(88).toUnsigned;
            e.exports = function (e) {
                var t = { version: e[0], flags: new Uint8Array(e.subarray(1, 4)), baseMediaDecodeTime: n((e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7]) };
                return 1 === t.version && ((t.baseMediaDecodeTime *= Math.pow(2, 32)), (t.baseMediaDecodeTime += n((e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11]))), t;
            };
        },
        function (e, t, i) {
            "use strict";
            function n(e) {
                return e && "object" == typeof e && "default" in e ? e : { default: e };
            }
            Object.defineProperty(t, "__esModule", { value: !0 });
            var r = n(i(85)),
                s = {
                    mp4: /^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v)/,
                    webm: /^(vp0?[89]|av0?1|opus|vorbis)/,
                    ogg: /^(vp0?[89]|theora|flac|opus|vorbis)/,
                    video: /^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,
                    audio: /^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3)/,
                    muxerVideo: /^(avc0?1)/,
                    muxerAudio: /^(mp4a)/,
                },
                a = function (e) {
                    return e
                        ? e.replace(/avc1\.(\d+)\.(\d+)/i, function (e, t, i) {
                              return "avc1." + ("00" + Number(t).toString(16)).slice(-2) + "00" + ("00" + Number(i).toString(16)).slice(-2);
                          })
                        : e;
                },
                o = function (e) {
                    return e.map(a);
                },
                l = function (e) {
                    void 0 === e && (e = "");
                    var t = e.split(","),
                        i = {};
                    return (
                        t.forEach(function (e) {
                            (e = e.trim()),
                                ["video", "audio"].forEach(function (t) {
                                    var n = s[t].exec(e.toLowerCase());
                                    if (n && !(n.length <= 1)) {
                                        var r = e.substring(0, n[1].length),
                                            a = e.replace(r, "");
                                        i[t] = { type: r, details: a };
                                    }
                                });
                        }),
                        i
                    );
                },
                u = function (e) {
                    return void 0 === e && (e = ""), s.audio.test(e.trim().toLowerCase());
                },
                c = function (e) {
                    if (e && "string" == typeof e) {
                        var t = e
                                .toLowerCase()
                                .split(",")
                                .map(function (e) {
                                    return a(e.trim());
                                }),
                            i = "video";
                        1 === t.length && u(t[0]) && (i = "audio");
                        var n = "mp4";
                        return (
                            t.every(function (e) {
                                return s.mp4.test(e);
                            })
                                ? (n = "mp4")
                                : t.every(function (e) {
                                      return s.webm.test(e);
                                  })
                                ? (n = "webm")
                                : t.every(function (e) {
                                      return s.ogg.test(e);
                                  }) && (n = "ogg"),
                            i + "/" + n + ';codecs="' + e + '"'
                        );
                    }
                };
            (t.DEFAULT_AUDIO_CODEC = "mp4a.40.2"),
                (t.DEFAULT_VIDEO_CODEC = "avc1.4d400d"),
                (t.browserSupportsCodec = function (e) {
                    return void 0 === e && (e = ""), (r.default.MediaSource && r.default.MediaSource.isTypeSupported && r.default.MediaSource.isTypeSupported(c(e))) || !1;
                }),
                (t.codecsFromDefault = function (e, t) {
                    if (!e.mediaGroups.AUDIO || !t) return null;
                    var i = e.mediaGroups.AUDIO[t];
                    if (!i) return null;
                    for (var n in i) {
                        var r = i[n];
                        if (r.default && r.playlists) return l(r.playlists[0].attributes.CODECS);
                    }
                    return null;
                }),
                (t.getMimeForCodec = c),
                (t.isAudioCodec = u),
                (t.isVideoCodec = function (e) {
                    return void 0 === e && (e = ""), s.video.test(e.trim().toLowerCase());
                }),
                (t.mapLegacyAvcCodecs = function (e) {
                    return e.replace(/avc1\.(\d+)\.(\d+)/i, function (e) {
                        return o([e])[0];
                    });
                }),
                (t.muxerSupportsCodec = function (e) {
                    return (
                        void 0 === e && (e = ""),
                        e
                            .toLowerCase()
                            .split(",")
                            .every(function (e) {
                                return (e = e.trim()), s.muxerVideo.test(e) || s.muxerAudio.test(e);
                            })
                    );
                }),
                (t.parseCodecs = l),
                (t.translateLegacyCodec = a),
                (t.translateLegacyCodecs = o);
        },
        function (e, t, i) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }), (t.default = void 0);
            var n,
                r = (n = i(159)) && n.__esModule ? n : { default: n };
            var s = function () {
                var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    t = { selector: "#html-rotate", rotate: -90, updateOnResize: !0, fitParentHeight: !1 };
                e = Object.assign(t, e);
                var i = (0, r.default)(e.selector);
                if (!(i instanceof HTMLElement)) return !1;
                var n = document.createElement("div");
                for (n.style.display = "inline-block"; i.childNodes.length > 0; ) n.appendChild(i.childNodes[0]);
                i.appendChild(n), a();
                var s = a.bind(this);
                function a() {
                    var t = i.parentElement;
                    (i.style.position = "relative"),
                        (n.style.position = "absolute"),
                        (n.style.display = "inline-block"),
                        (n.style.transform = "rotate(".concat(o(), "deg)")),
                        e.fitParentHeight ? (n.style.width = t.clientHeight + "px") : (n.style.whiteSpace = "nowrap");
                    var r = n.clientWidth,
                        s = n.clientHeight;
                    (i.style.height = r + "px"), (i.style.width = s + "px"), (n.style.top = (r - s) / 2 + "px"), (n.style.left = (s - r) / 2 + "px");
                }
                function o() {
                    return 90 === e.rotate || -90 === e.rotate ? e.rotate : -90;
                }
                function l() {
                    for (window.removeEventListener("resize", s); n.childNodes.length > 0; ) i.appendChild(n.childNodes[0]);
                    n.remove(), (i.style.height = ""), (i.style.width = "");
                }
                return window.addEventListener("resize", s), { update: a.bind(this), destroy: l.bind(this) };
            };
            t.default = s;
        },
        function (e, t) {
            "use strict";
            Object.defineProperty(t, "__esModule", { value: !0 }),
                (t.default = function (e) {
                    if (e instanceof HTMLElement) return e;
                    if ("string" == typeof e) return document.querySelector(e);
                    return !1;
                });
        },
        ,
        function (e, t, i) {
            "use strict";
            i.r(t);
            var n = i(85),
                r = i.n(n),
                s = i(97),
                a = i.n(s),
                o = i(90),
                l = i.n(o),
                u = i(91),
                c = i.n(u),
                d = (i(119), i(121), i(98)),
                h = i.n(d),
                p = i(122),
                f = i.n(p),
                m = i(123),
                g = i.n(m),
                v = i(124),
                y = i.n(v),
                _ = i(127),
                b = i.n(_),
                T = i(131),
                S = i.n(T),
                w = i(133),
                k = i.n(w),
                C = i(100),
                E = i.n(C),
                x = i(135),
                A = i.n(x),
                I = i(101),
                P = i.n(I),
                O = (function (e) {
                    function t() {
                        var t;
                        return ((t = e.call(this) || this).buffer = ""), t;
                    }
                    return (
                        h()(t, e),
                        (t.prototype.push = function (e) {
                            var t;
                            for (this.buffer += e, t = this.buffer.indexOf("\n"); t > -1; t = this.buffer.indexOf("\n")) this.trigger("data", this.buffer.substring(0, t)), (this.buffer = this.buffer.substring(t + 1));
                        }),
                        t
                    );
                })(A.a),
                L = function (e) {
                    for (var t, i = e.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')), n = {}, r = i.length; r--; )
                        "" !== i[r] && (((t = /([^=]*)=(.*)/.exec(i[r]).slice(1))[0] = t[0].replace(/^\s+|\s+$/g, "")), (t[1] = t[1].replace(/^\s+|\s+$/g, "")), (t[1] = t[1].replace(/^['"](.*)['"]$/g, "$1")), (n[t[0]] = t[1]));
                    return n;
                },
                D = (function (e) {
                    function t() {
                        var t;
                        return ((t = e.call(this) || this).customParsers = []), (t.tagMappers = []), t;
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.push = function (e) {
                            var t,
                                i,
                                n = this;
                            0 !== (e = e.trim()).length &&
                                ("#" === e[0]
                                    ? this.tagMappers
                                          .reduce(
                                              function (t, i) {
                                                  var n = i(e);
                                                  return n === e ? t : t.concat([n]);
                                              },
                                              [e]
                                          )
                                          .forEach(function (e) {
                                              for (var r = 0; r < n.customParsers.length; r++) if (n.customParsers[r].call(n, e)) return;
                                              if (0 === e.indexOf("#EXT"))
                                                  if (((e = e.replace("\r", "")), (t = /^#EXTM3U/.exec(e)))) n.trigger("data", { type: "tag", tagType: "m3u" });
                                                  else {
                                                      if ((t = /^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(e)))
                                                          return (i = { type: "tag", tagType: "inf" }), t[1] && (i.duration = parseFloat(t[1])), t[2] && (i.title = t[2]), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(e))) return (i = { type: "tag", tagType: "targetduration" }), t[1] && (i.duration = parseInt(t[1], 10)), void n.trigger("data", i);
                                                      if ((t = /^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(e))) return (i = { type: "tag", tagType: "totalduration" }), t[1] && (i.duration = parseInt(t[1], 10)), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-VERSION:?([0-9.]*)?/.exec(e))) return (i = { type: "tag", tagType: "version" }), t[1] && (i.version = parseInt(t[1], 10)), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(e))) return (i = { type: "tag", tagType: "media-sequence" }), t[1] && (i.number = parseInt(t[1], 10)), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(e)))
                                                          return (i = { type: "tag", tagType: "discontinuity-sequence" }), t[1] && (i.number = parseInt(t[1], 10)), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(e))) return (i = { type: "tag", tagType: "playlist-type" }), t[1] && (i.playlistType = t[1]), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(e)))
                                                          return (i = { type: "tag", tagType: "byterange" }), t[1] && (i.length = parseInt(t[1], 10)), t[2] && (i.offset = parseInt(t[2], 10)), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(e))) return (i = { type: "tag", tagType: "allow-cache" }), t[1] && (i.allowed = !/NO/.test(t[1])), void n.trigger("data", i);
                                                      if ((t = /^#EXT-X-MAP:?(.*)$/.exec(e))) {
                                                          if (((i = { type: "tag", tagType: "map" }), t[1])) {
                                                              var s = L(t[1]);
                                                              if ((s.URI && (i.uri = s.URI), s.BYTERANGE)) {
                                                                  var a = s.BYTERANGE.split("@"),
                                                                      o = a[0],
                                                                      l = a[1];
                                                                  (i.byterange = {}), o && (i.byterange.length = parseInt(o, 10)), l && (i.byterange.offset = parseInt(l, 10));
                                                              }
                                                          }
                                                          n.trigger("data", i);
                                                      } else if ((t = /^#EXT-X-STREAM-INF:?(.*)$/.exec(e))) {
                                                          if (((i = { type: "tag", tagType: "stream-inf" }), t[1])) {
                                                              if (((i.attributes = L(t[1])), i.attributes.RESOLUTION)) {
                                                                  var u = i.attributes.RESOLUTION.split("x"),
                                                                      c = {};
                                                                  u[0] && (c.width = parseInt(u[0], 10)), u[1] && (c.height = parseInt(u[1], 10)), (i.attributes.RESOLUTION = c);
                                                              }
                                                              i.attributes.BANDWIDTH && (i.attributes.BANDWIDTH = parseInt(i.attributes.BANDWIDTH, 10)),
                                                                  i.attributes["PROGRAM-ID"] && (i.attributes["PROGRAM-ID"] = parseInt(i.attributes["PROGRAM-ID"], 10));
                                                          }
                                                          n.trigger("data", i);
                                                      } else {
                                                          if ((t = /^#EXT-X-MEDIA:?(.*)$/.exec(e))) return (i = { type: "tag", tagType: "media" }), t[1] && (i.attributes = L(t[1])), void n.trigger("data", i);
                                                          if ((t = /^#EXT-X-ENDLIST/.exec(e))) n.trigger("data", { type: "tag", tagType: "endlist" });
                                                          else if ((t = /^#EXT-X-DISCONTINUITY/.exec(e))) n.trigger("data", { type: "tag", tagType: "discontinuity" });
                                                          else {
                                                              if ((t = /^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(e)))
                                                                  return (i = { type: "tag", tagType: "program-date-time" }), t[1] && ((i.dateTimeString = t[1]), (i.dateTimeObject = new Date(t[1]))), void n.trigger("data", i);
                                                              if ((t = /^#EXT-X-KEY:?(.*)$/.exec(e)))
                                                                  return (
                                                                      (i = { type: "tag", tagType: "key" }),
                                                                      t[1] &&
                                                                          ((i.attributes = L(t[1])),
                                                                          i.attributes.IV &&
                                                                              ("0x" === i.attributes.IV.substring(0, 2).toLowerCase() && (i.attributes.IV = i.attributes.IV.substring(2)),
                                                                              (i.attributes.IV = i.attributes.IV.match(/.{8}/g)),
                                                                              (i.attributes.IV[0] = parseInt(i.attributes.IV[0], 16)),
                                                                              (i.attributes.IV[1] = parseInt(i.attributes.IV[1], 16)),
                                                                              (i.attributes.IV[2] = parseInt(i.attributes.IV[2], 16)),
                                                                              (i.attributes.IV[3] = parseInt(i.attributes.IV[3], 16)),
                                                                              (i.attributes.IV = new Uint32Array(i.attributes.IV)))),
                                                                      void n.trigger("data", i)
                                                                  );
                                                              if ((t = /^#EXT-X-START:?(.*)$/.exec(e)))
                                                                  return (
                                                                      (i = { type: "tag", tagType: "start" }),
                                                                      t[1] && ((i.attributes = L(t[1])), (i.attributes["TIME-OFFSET"] = parseFloat(i.attributes["TIME-OFFSET"])), (i.attributes.PRECISE = /YES/.test(i.attributes.PRECISE))),
                                                                      void n.trigger("data", i)
                                                                  );
                                                              if ((t = /^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(e))) return (i = { type: "tag", tagType: "cue-out-cont" }), t[1] ? (i.data = t[1]) : (i.data = ""), void n.trigger("data", i);
                                                              if ((t = /^#EXT-X-CUE-OUT:?(.*)?$/.exec(e))) return (i = { type: "tag", tagType: "cue-out" }), t[1] ? (i.data = t[1]) : (i.data = ""), void n.trigger("data", i);
                                                              if ((t = /^#EXT-X-CUE-IN:?(.*)?$/.exec(e))) return (i = { type: "tag", tagType: "cue-in" }), t[1] ? (i.data = t[1]) : (i.data = ""), void n.trigger("data", i);
                                                              n.trigger("data", { type: "tag", data: e.slice(4) });
                                                          }
                                                      }
                                                  }
                                              else n.trigger("data", { type: "comment", text: e.slice(1) });
                                          })
                                    : this.trigger("data", { type: "uri", uri: e }));
                        }),
                        (i.addParser = function (e) {
                            var t = this,
                                i = e.expression,
                                n = e.customType,
                                r = e.dataParser,
                                s = e.segment;
                            "function" != typeof r &&
                                (r = function (e) {
                                    return e;
                                }),
                                this.customParsers.push(function (e) {
                                    if (i.exec(e)) return t.trigger("data", { type: "custom", data: r(e), customType: n, segment: s }), !0;
                                });
                        }),
                        (i.addTagMapper = function (e) {
                            var t = e.expression,
                                i = e.map;
                            this.tagMappers.push(function (e) {
                                return t.test(e) ? i(e) : e;
                            });
                        }),
                        t
                    );
                })(A.a),
                R = (function (e) {
                    function t() {
                        var t;
                        ((t = e.call(this) || this).lineStream = new O()), (t.parseStream = new D()), t.lineStream.pipe(t.parseStream);
                        var i,
                            n,
                            r = c()(t),
                            s = [],
                            a = {},
                            o = function () {},
                            u = { AUDIO: {}, VIDEO: {}, "CLOSED-CAPTIONS": {}, SUBTITLES: {} },
                            d = 0;
                        t.manifest = { allowCache: !0, discontinuityStarts: [], segments: [] };
                        var h = 0;
                        return (
                            t.parseStream.on("data", function (e) {
                                var t, c;
                                ({
                                    tag: function () {
                                        ((
                                            {
                                                "allow-cache": function () {
                                                    (this.manifest.allowCache = e.allowed), "allowed" in e || (this.trigger("info", { message: "defaulting allowCache to YES" }), (this.manifest.allowCache = !0));
                                                },
                                                byterange: function () {
                                                    var t = {};
                                                    "length" in e && ((a.byterange = t), (t.length = e.length), "offset" in e || (e.offset = h)), "offset" in e && ((a.byterange = t), (t.offset = e.offset)), (h = t.offset + t.length);
                                                },
                                                endlist: function () {
                                                    this.manifest.endList = !0;
                                                },
                                                inf: function () {
                                                    "mediaSequence" in this.manifest || ((this.manifest.mediaSequence = 0), this.trigger("info", { message: "defaulting media sequence to zero" })),
                                                        "discontinuitySequence" in this.manifest || ((this.manifest.discontinuitySequence = 0), this.trigger("info", { message: "defaulting discontinuity sequence to zero" })),
                                                        e.duration > 0 && (a.duration = e.duration),
                                                        0 === e.duration && ((a.duration = 0.01), this.trigger("info", { message: "updating zero segment duration to a small value" })),
                                                        (this.manifest.segments = s);
                                                },
                                                key: function () {
                                                    if (e.attributes)
                                                        if ("NONE" !== e.attributes.METHOD)
                                                            if (e.attributes.URI) {
                                                                if ("urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed" === e.attributes.KEYFORMAT) {
                                                                    return -1 === ["SAMPLE-AES", "SAMPLE-AES-CTR", "SAMPLE-AES-CENC"].indexOf(e.attributes.METHOD)
                                                                        ? void this.trigger("warn", { message: "invalid key method provided for Widevine" })
                                                                        : ("SAMPLE-AES-CENC" === e.attributes.METHOD && this.trigger("warn", { message: "SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead" }),
                                                                          "data:text/plain;base64," !== e.attributes.URI.substring(0, 23)
                                                                              ? void this.trigger("warn", { message: "invalid key URI provided for Widevine" })
                                                                              : e.attributes.KEYID && "0x" === e.attributes.KEYID.substring(0, 2)
                                                                              ? void (this.manifest.contentProtection = {
                                                                                    "com.widevine.alpha": {
                                                                                        attributes: { schemeIdUri: e.attributes.KEYFORMAT, keyId: e.attributes.KEYID.substring(2) },
                                                                                        pssh: P()(e.attributes.URI.split(",")[1]),
                                                                                    },
                                                                                })
                                                                              : void this.trigger("warn", { message: "invalid key ID provided for Widevine" }));
                                                                }
                                                                e.attributes.METHOD || this.trigger("warn", { message: "defaulting key method to AES-128" }),
                                                                    (n = { method: e.attributes.METHOD || "AES-128", uri: e.attributes.URI }),
                                                                    void 0 !== e.attributes.IV && (n.iv = e.attributes.IV);
                                                            } else this.trigger("warn", { message: "ignoring key declaration without URI" });
                                                        else n = null;
                                                    else this.trigger("warn", { message: "ignoring key declaration without attribute list" });
                                                },
                                                "media-sequence": function () {
                                                    isFinite(e.number) ? (this.manifest.mediaSequence = e.number) : this.trigger("warn", { message: "ignoring invalid media sequence: " + e.number });
                                                },
                                                "discontinuity-sequence": function () {
                                                    isFinite(e.number) ? ((this.manifest.discontinuitySequence = e.number), (d = e.number)) : this.trigger("warn", { message: "ignoring invalid discontinuity sequence: " + e.number });
                                                },
                                                "playlist-type": function () {
                                                    /VOD|EVENT/.test(e.playlistType) ? (this.manifest.playlistType = e.playlistType) : this.trigger("warn", { message: "ignoring unknown playlist type: " + e.playlist });
                                                },
                                                map: function () {
                                                    (i = {}), e.uri && (i.uri = e.uri), e.byterange && (i.byterange = e.byterange);
                                                },
                                                "stream-inf": function () {
                                                    (this.manifest.playlists = s),
                                                        (this.manifest.mediaGroups = this.manifest.mediaGroups || u),
                                                        e.attributes ? (a.attributes || (a.attributes = {}), l()(a.attributes, e.attributes)) : this.trigger("warn", { message: "ignoring empty stream-inf attributes" });
                                                },
                                                media: function () {
                                                    if (((this.manifest.mediaGroups = this.manifest.mediaGroups || u), e.attributes && e.attributes.TYPE && e.attributes["GROUP-ID"] && e.attributes.NAME)) {
                                                        var i = this.manifest.mediaGroups[e.attributes.TYPE];
                                                        (i[e.attributes["GROUP-ID"]] = i[e.attributes["GROUP-ID"]] || {}),
                                                            (t = i[e.attributes["GROUP-ID"]]),
                                                            (c = { default: /yes/i.test(e.attributes.DEFAULT) }).default ? (c.autoselect = !0) : (c.autoselect = /yes/i.test(e.attributes.AUTOSELECT)),
                                                            e.attributes.LANGUAGE && (c.language = e.attributes.LANGUAGE),
                                                            e.attributes.URI && (c.uri = e.attributes.URI),
                                                            e.attributes["INSTREAM-ID"] && (c.instreamId = e.attributes["INSTREAM-ID"]),
                                                            e.attributes.CHARACTERISTICS && (c.characteristics = e.attributes.CHARACTERISTICS),
                                                            e.attributes.FORCED && (c.forced = /yes/i.test(e.attributes.FORCED)),
                                                            (t[e.attributes.NAME] = c);
                                                    } else this.trigger("warn", { message: "ignoring incomplete or missing media group" });
                                                },
                                                discontinuity: function () {
                                                    (d += 1), (a.discontinuity = !0), this.manifest.discontinuityStarts.push(s.length);
                                                },
                                                "program-date-time": function () {
                                                    void 0 === this.manifest.dateTimeString && ((this.manifest.dateTimeString = e.dateTimeString), (this.manifest.dateTimeObject = e.dateTimeObject)),
                                                        (a.dateTimeString = e.dateTimeString),
                                                        (a.dateTimeObject = e.dateTimeObject);
                                                },
                                                targetduration: function () {
                                                    !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", { message: "ignoring invalid target duration: " + e.duration }) : (this.manifest.targetDuration = e.duration);
                                                },
                                                totalduration: function () {
                                                    !isFinite(e.duration) || e.duration < 0 ? this.trigger("warn", { message: "ignoring invalid total duration: " + e.duration }) : (this.manifest.totalDuration = e.duration);
                                                },
                                                start: function () {
                                                    e.attributes && !isNaN(e.attributes["TIME-OFFSET"])
                                                        ? (this.manifest.start = { timeOffset: e.attributes["TIME-OFFSET"], precise: e.attributes.PRECISE })
                                                        : this.trigger("warn", { message: "ignoring start declaration without appropriate attribute list" });
                                                },
                                                "cue-out": function () {
                                                    a.cueOut = e.data;
                                                },
                                                "cue-out-cont": function () {
                                                    a.cueOutCont = e.data;
                                                },
                                                "cue-in": function () {
                                                    a.cueIn = e.data;
                                                },
                                            }[e.tagType] || o
                                        ).call(r));
                                    },
                                    uri: function () {
                                        (a.uri = e.uri),
                                            s.push(a),
                                            this.manifest.targetDuration && !("duration" in a) && (this.trigger("warn", { message: "defaulting segment duration to the target duration" }), (a.duration = this.manifest.targetDuration)),
                                            n && (a.key = n),
                                            (a.timeline = d),
                                            i && (a.map = i),
                                            (a = {});
                                    },
                                    comment: function () {},
                                    custom: function () {
                                        e.segment ? ((a.custom = a.custom || {}), (a.custom[e.customType] = e.data)) : ((this.manifest.custom = this.manifest.custom || {}), (this.manifest.custom[e.customType] = e.data));
                                    },
                                }[e.type].call(r));
                            }),
                            t
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.push = function (e) {
                            this.lineStream.push(e);
                        }),
                        (i.end = function () {
                            this.lineStream.push("\n");
                        }),
                        (i.addParser = function (e) {
                            this.parseStream.addParser(e);
                        }),
                        (i.addTagMapper = function (e) {
                            this.parseStream.addTagMapper(e);
                        }),
                        t
                    );
                })(A.a),
                M = i(140),
                N = i(141),
                U = function (e) {
                    return !!e && "object" == typeof e;
                },
                j = function e() {
                    for (var t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                    return i.reduce(function (t, i) {
                        return (
                            Object.keys(i).forEach(function (n) {
                                Array.isArray(t[n]) && Array.isArray(i[n]) ? (t[n] = t[n].concat(i[n])) : U(t[n]) && U(i[n]) ? (t[n] = e(t[n], i[n])) : (t[n] = i[n]);
                            }),
                            t
                        );
                    }, {});
                },
                B = function (e) {
                    return e.reduce(function (e, t) {
                        return e.concat(t);
                    }, []);
                },
                F = function (e) {
                    if (!e.length) return [];
                    for (var t = [], i = 0; i < e.length; i++) t.push(e[i]);
                    return t;
                },
                H = "INVALID_NUMBER_OF_PERIOD",
                q = "DASH_EMPTY_MANIFEST",
                V = "DASH_INVALID_XML",
                $ = "NO_BASE_URL",
                z = "SEGMENT_TIME_UNSPECIFIED",
                W = "UNSUPPORTED_UTC_TIMING_SCHEME",
                G = function (e) {
                    var t = e.baseUrl,
                        i = void 0 === t ? "" : t,
                        n = e.source,
                        r = void 0 === n ? "" : n,
                        s = e.range,
                        a = void 0 === s ? "" : s,
                        o = e.indexRange,
                        l = void 0 === o ? "" : o,
                        u = { uri: r, resolvedUri: E()(i || "", r) };
                    if (a || l) {
                        var c = (a || l).split("-"),
                            d = parseInt(c[0], 10),
                            h = parseInt(c[1], 10);
                        u.byterange = { length: h - d + 1, offset: d };
                    }
                    return u;
                },
                Y = {
                    static: function (e) {
                        var t = e.duration,
                            i = e.timescale,
                            n = void 0 === i ? 1 : i,
                            r = e.sourceDuration;
                        return { start: 0, end: Math.ceil(r / (t / n)) };
                    },
                    dynamic: function (e) {
                        var t = e.NOW,
                            i = e.clientOffset,
                            n = e.availabilityStartTime,
                            r = e.timescale,
                            s = void 0 === r ? 1 : r,
                            a = e.duration,
                            o = e.start,
                            l = void 0 === o ? 0 : o,
                            u = e.minimumUpdatePeriod,
                            c = void 0 === u ? 0 : u,
                            d = e.timeShiftBufferDepth,
                            h = void 0 === d ? 1 / 0 : d,
                            p = (t + i) / 1e3,
                            f = n + l,
                            m = p + c - f,
                            g = Math.ceil((m * s) / a),
                            v = Math.floor(((p - f - h) * s) / a),
                            y = Math.floor(((p - f) * s) / a);
                        return { start: Math.max(0, v), end: Math.min(g, y) };
                    },
                },
                X = function (e) {
                    var t = e.type,
                        i = void 0 === t ? "static" : t,
                        n = e.duration,
                        r = e.timescale,
                        s = void 0 === r ? 1 : r,
                        a = e.sourceDuration,
                        o = Y[i](e),
                        l = (function (e, t) {
                            for (var i = [], n = e; n < t; n++) i.push(n);
                            return i;
                        })(o.start, o.end).map(
                            (function (e) {
                                return function (t, i) {
                                    var n = e.duration,
                                        r = e.timescale,
                                        s = void 0 === r ? 1 : r,
                                        a = e.periodIndex,
                                        o = e.startNumber;
                                    return { number: (void 0 === o ? 1 : o) + t, duration: n / s, timeline: a, time: i * n };
                                };
                            })(e)
                        );
                    if ("static" === i) {
                        var u = l.length - 1;
                        l[u].duration = a - (n / s) * u;
                    }
                    return l;
                },
                K = function (e) {
                    var t = e.baseUrl,
                        i = e.initialization,
                        n = void 0 === i ? {} : i,
                        r = e.sourceDuration,
                        s = e.indexRange,
                        a = void 0 === s ? "" : s,
                        o = e.duration;
                    if (!t) throw new Error($);
                    var l = G({ baseUrl: t, source: n.sourceURL, range: n.range }),
                        u = G({ baseUrl: t, source: t, indexRange: a });
                    if (((u.map = l), o)) {
                        var c = X(e);
                        c.length && ((u.duration = c[0].duration), (u.timeline = c[0].timeline));
                    } else r && ((u.duration = r), (u.timeline = 0));
                    return (u.number = 0), [u];
                },
                Q = function (e, t, i) {
                    for (
                        var n = e.sidx.map ? e.sidx.map : null,
                            r = e.sidx.duration,
                            s = e.timeline || 0,
                            a = e.sidx.byterange,
                            o = a.offset + a.length,
                            l = t.timescale,
                            u = t.references.filter(function (e) {
                                return 1 !== e.referenceType;
                            }),
                            c = [],
                            d = o + t.firstOffset,
                            h = 0;
                        h < u.length;
                        h++
                    ) {
                        var p = t.references[h],
                            f = p.referencedSize,
                            m = p.subsegmentDuration,
                            g = K({ baseUrl: i, timescale: l, timeline: s, periodIndex: s, duration: m, sourceDuration: r, indexRange: d + "-" + (d + f - 1) })[0];
                        n && (g.map = n), c.push(g), (d += f);
                    }
                    return (e.segments = c), e;
                },
                J = function (e) {
                    var t;
                    return ((t = e.reduce(function (e, t) {
                        var i,
                            n = t.attributes.id + (t.attributes.lang || "");
                        return (
                            e[n]
                                ? (t.segments[0] && (t.segments[0].discontinuity = !0), (i = e[n].segments).push.apply(i, t.segments), t.attributes.contentProtection && (e[n].attributes.contentProtection = t.attributes.contentProtection))
                                : (e[n] = t),
                            e
                        );
                    }, {})),
                    Object.keys(t).map(function (e) {
                        return t[e];
                    })).map(function (e) {
                        var t, i;
                        return (
                            (e.discontinuityStarts =
                                ((t = e.segments),
                                (i = "discontinuity"),
                                t.reduce(function (e, t, n) {
                                    return t[i] && e.push(n), e;
                                }, []))),
                            e
                        );
                    });
                },
                Z = function (e, t) {
                    if ((void 0 === t && (t = {}), !Object.keys(t).length)) return e;
                    for (var i in e) {
                        var n = e[i];
                        if (n.sidx) {
                            var r = n.sidx.uri + "-" + ((a = n.sidx.byterange), (o = void 0), (o = a.offset + a.length - 1), a.offset + "-" + o),
                                s = t[r] && t[r].sidx;
                            n.sidx && s && Q(n, s, n.sidx.resolvedUri);
                        }
                    }
                    var a, o;
                    return e;
                },
                ee = function (e) {
                    var t,
                        i = e.attributes,
                        n = e.segments,
                        r = e.sidx,
                        s = {
                            attributes: ((t = { NAME: i.id, BANDWIDTH: i.bandwidth, CODECS: i.codecs }), (t["PROGRAM-ID"] = 1), t),
                            uri: "",
                            endList: "static" === (i.type || "static"),
                            timeline: i.periodIndex,
                            resolvedUri: "",
                            targetDuration: i.duration,
                            segments: n,
                            mediaSequence: n.length ? n[0].number : 1,
                        };
                    return i.contentProtection && (s.contentProtection = i.contentProtection), r && (s.sidx = r), s;
                },
                te = function (e) {
                    var t,
                        i = e.attributes,
                        n = e.segments;
                    void 0 === n && ((n = [{ uri: i.baseUrl, timeline: i.periodIndex, resolvedUri: i.baseUrl || "", duration: i.sourceDuration, number: 0 }]), (i.duration = i.sourceDuration));
                    var r = (((t = { NAME: i.id, BANDWIDTH: i.bandwidth })["PROGRAM-ID"] = 1), t);
                    return (
                        i.codecs && (r.CODECS = i.codecs),
                        { attributes: r, uri: "", endList: "static" === (i.type || "static"), timeline: i.periodIndex, resolvedUri: i.baseUrl || "", targetDuration: i.duration, segments: n, mediaSequence: n.length ? n[0].number : 1 }
                    );
                },
                ie = function (e) {
                    var t,
                        i = e.attributes,
                        n = e.segments,
                        r = e.sidx,
                        s = {
                            attributes: ((t = { NAME: i.id, AUDIO: "audio", SUBTITLES: "subs", RESOLUTION: { width: i.width, height: i.height }, CODECS: i.codecs, BANDWIDTH: i.bandwidth }), (t["PROGRAM-ID"] = 1), t),
                            uri: "",
                            endList: "static" === (i.type || "static"),
                            timeline: i.periodIndex,
                            resolvedUri: "",
                            targetDuration: i.duration,
                            segments: n,
                            mediaSequence: n.length ? n[0].number : 1,
                        };
                    return i.contentProtection && (s.contentProtection = i.contentProtection), r && (s.sidx = r), s;
                },
                ne = function (e, t, i) {
                    var n;
                    if ((void 0 === i && (i = {}), !e.length)) return {};
                    var r = e[0].attributes,
                        s = r.sourceDuration,
                        a = r.type,
                        o = void 0 === a ? "static" : a,
                        l = r.suggestedPresentationDelay,
                        u = r.minimumUpdatePeriod,
                        c = J(
                            e.filter(function (e) {
                                var t = e.attributes;
                                return "video/mp4" === t.mimeType || "video" === t.contentType;
                            })
                        ).map(ie),
                        d = J(
                            e.filter(function (e) {
                                var t = e.attributes;
                                return "audio/mp4" === t.mimeType || "audio" === t.contentType;
                            })
                        ),
                        h = e.filter(function (e) {
                            var t = e.attributes;
                            return "text/vtt" === t.mimeType || "text" === t.contentType;
                        }),
                        p = { allowCache: !0, discontinuityStarts: [], segments: [], endList: !0, mediaGroups: ((n = { AUDIO: {}, VIDEO: {} }), (n["CLOSED-CAPTIONS"] = {}), (n.SUBTITLES = {}), n), uri: "", duration: s, playlists: Z(c, i) };
                    return (
                        u >= 0 && (p.minimumUpdatePeriod = 1e3 * u),
                        t && (p.locations = t),
                        "dynamic" === o && (p.suggestedPresentationDelay = l),
                        d.length &&
                            (p.mediaGroups.AUDIO.audio = (function (e, t) {
                                var i;
                                void 0 === t && (t = {});
                                var n = e.reduce(function (e, n) {
                                    var r = (n.attributes.role && n.attributes.role.value) || "",
                                        s = n.attributes.lang || "",
                                        a = "main";
                                    if (s) {
                                        var o = r ? " (" + r + ")" : "";
                                        a = "" + n.attributes.lang + o;
                                    }
                                    return (
                                        (e[a] && e[a].playlists[0].attributes.BANDWIDTH > n.attributes.bandwidth) ||
                                            ((e[a] = { language: s, autoselect: !0, default: "main" === r, playlists: Z([ee(n)], t), uri: "" }), void 0 === i && "main" === r && ((i = n).default = !0)),
                                        e
                                    );
                                }, {});
                                return i || (n[Object.keys(n)[0]].default = !0), n;
                            })(d, i)),
                        h.length &&
                            (p.mediaGroups.SUBTITLES.subs = (function (e, t) {
                                return (
                                    void 0 === t && (t = {}),
                                    e.reduce(function (e, i) {
                                        var n = i.attributes.lang || "text";
                                        return e[n] || (e[n] = { language: n, default: !1, autoselect: !1, playlists: Z([te(i)], t), uri: "" }), e;
                                    }, {})
                                );
                            })(h, i)),
                        p
                    );
                },
                re = function (e, t, i) {
                    var n = e.NOW,
                        r = e.clientOffset,
                        s = e.availabilityStartTime,
                        a = e.timescale,
                        o = void 0 === a ? 1 : a,
                        l = e.start,
                        u = void 0 === l ? 0 : l,
                        c = e.minimumUpdatePeriod,
                        d = (n + r) / 1e3 + (void 0 === c ? 0 : c) - (s + u);
                    return Math.ceil((d * o - t) / i);
                },
                se = function (e, t) {
                    for (
                        var i = e.type,
                            n = void 0 === i ? "static" : i,
                            r = e.minimumUpdatePeriod,
                            s = void 0 === r ? 0 : r,
                            a = e.media,
                            o = void 0 === a ? "" : a,
                            l = e.sourceDuration,
                            u = e.timescale,
                            c = void 0 === u ? 1 : u,
                            d = e.startNumber,
                            h = void 0 === d ? 1 : d,
                            p = e.periodIndex,
                            f = [],
                            m = -1,
                            g = 0;
                        g < t.length;
                        g++
                    ) {
                        var v = t[g],
                            y = v.d,
                            _ = v.r || 0,
                            b = v.t || 0;
                        m < 0 && (m = b), b && b > m && (m = b);
                        var T = void 0;
                        if (_ < 0) {
                            var S = g + 1;
                            T = S === t.length ? ("dynamic" === n && s > 0 && o.indexOf("$Number$") > 0 ? re(e, m, y) : (l * c - m) / y) : (t[S].t - m) / y;
                        } else T = _ + 1;
                        for (var w = h + f.length + T, k = h + f.length; k < w; ) f.push({ number: k, duration: y / c, time: m, timeline: p }), (m += y), k++;
                    }
                    return f;
                },
                ae = /\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,
                oe = function (e, t) {
                    return e.replace(
                        ae,
                        (function (e) {
                            return function (t, i, n, r) {
                                if ("$$" === t) return "$";
                                if (void 0 === e[i]) return t;
                                var s = "" + e[i];
                                return "RepresentationID" === i ? s : ((r = n ? parseInt(r, 10) : 1), s.length >= r ? s : "" + new Array(r - s.length + 1).join("0") + s);
                            };
                        })(t)
                    );
                },
                le = function (e, t) {
                    var i = { RepresentationID: e.id, Bandwidth: e.bandwidth || 0 },
                        n = e.initialization,
                        r = void 0 === n ? { sourceURL: "", range: "" } : n,
                        s = G({ baseUrl: e.baseUrl, source: oe(r.sourceURL, i), range: r.range });
                    return (function (e, t) {
                        return e.duration || t ? (e.duration ? X(e) : se(e, t)) : [{ number: e.startNumber || 1, duration: e.sourceDuration, time: 0, timeline: e.periodIndex }];
                    })(e, t).map(function (t) {
                        (i.Number = t.number), (i.Time = t.time);
                        var n = oe(e.media || "", i);
                        return { uri: n, timeline: t.timeline, duration: t.duration, resolvedUri: E()(e.baseUrl || "", n), map: s, number: t.number };
                    });
                },
                ue = function (e, t) {
                    var i = e.duration,
                        n = e.segmentUrls,
                        r = void 0 === n ? [] : n;
                    if ((!i && !t) || (i && t)) throw new Error(z);
                    var s,
                        a = r.map(function (t) {
                            return (function (e, t) {
                                var i = e.baseUrl,
                                    n = e.initialization,
                                    r = void 0 === n ? {} : n,
                                    s = G({ baseUrl: i, source: r.sourceURL, range: r.range }),
                                    a = G({ baseUrl: i, source: t.media, range: t.mediaRange });
                                return (a.map = s), a;
                            })(e, t);
                        });
                    return (
                        i && (s = X(e)),
                        t && (s = se(e, t)),
                        s
                            .map(function (e, t) {
                                if (a[t]) {
                                    var i = a[t];
                                    return (i.timeline = e.timeline), (i.duration = e.duration), (i.number = e.number), i;
                                }
                            })
                            .filter(function (e) {
                                return e;
                            })
                    );
                },
                ce = function (e) {
                    var t,
                        i,
                        n = e.attributes,
                        r = e.segmentInfo;
                    r.template ? ((i = le), (t = j(n, r.template))) : r.base ? ((i = K), (t = j(n, r.base))) : r.list && ((i = ue), (t = j(n, r.list)));
                    var s = { attributes: n };
                    if (!i) return s;
                    var a = i(t, r.timeline);
                    if (t.duration) {
                        var o = t,
                            l = o.duration,
                            u = o.timescale,
                            c = void 0 === u ? 1 : u;
                        t.duration = l / c;
                    } else
                        a.length
                            ? (t.duration = a.reduce(function (e, t) {
                                  return Math.max(e, Math.ceil(t.duration));
                              }, 0))
                            : (t.duration = 0);
                    return (s.attributes = t), (s.segments = a), r.base && t.indexRange && ((s.sidx = a[0]), (s.segments = [])), s;
                },
                de = function (e, t) {
                    return F(e.childNodes).filter(function (e) {
                        return e.tagName === t;
                    });
                },
                he = function (e) {
                    return e.textContent.trim();
                },
                pe = function (e) {
                    var t = /P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(e);
                    if (!t) return 0;
                    var i = t.slice(1),
                        n = i[0],
                        r = i[1],
                        s = i[2],
                        a = i[3],
                        o = i[4],
                        l = i[5];
                    return 31536e3 * parseFloat(n || 0) + 2592e3 * parseFloat(r || 0) + 86400 * parseFloat(s || 0) + 3600 * parseFloat(a || 0) + 60 * parseFloat(o || 0) + parseFloat(l || 0);
                },
                fe = {
                    mediaPresentationDuration: function (e) {
                        return pe(e);
                    },
                    availabilityStartTime: function (e) {
                        return /^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test((t = e)) && (t += "Z"), Date.parse(t) / 1e3;
                        var t;
                    },
                    minimumUpdatePeriod: function (e) {
                        return pe(e);
                    },
                    suggestedPresentationDelay: function (e) {
                        return pe(e);
                    },
                    type: function (e) {
                        return e;
                    },
                    timeShiftBufferDepth: function (e) {
                        return pe(e);
                    },
                    start: function (e) {
                        return pe(e);
                    },
                    width: function (e) {
                        return parseInt(e, 10);
                    },
                    height: function (e) {
                        return parseInt(e, 10);
                    },
                    bandwidth: function (e) {
                        return parseInt(e, 10);
                    },
                    startNumber: function (e) {
                        return parseInt(e, 10);
                    },
                    timescale: function (e) {
                        return parseInt(e, 10);
                    },
                    duration: function (e) {
                        var t = parseInt(e, 10);
                        return isNaN(t) ? pe(e) : t;
                    },
                    d: function (e) {
                        return parseInt(e, 10);
                    },
                    t: function (e) {
                        return parseInt(e, 10);
                    },
                    r: function (e) {
                        return parseInt(e, 10);
                    },
                    DEFAULT: function (e) {
                        return e;
                    },
                },
                me = function (e) {
                    return e && e.attributes
                        ? F(e.attributes).reduce(function (e, t) {
                              var i = fe[t.name] || fe.DEFAULT;
                              return (e[t.name] = i(t.value)), e;
                          }, {})
                        : {};
                },
                ge = {
                    "urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b": "org.w3.clearkey",
                    "urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed": "com.widevine.alpha",
                    "urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95": "com.microsoft.playready",
                    "urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb": "com.adobe.primetime",
                },
                ve = function (e, t) {
                    return t.length
                        ? B(
                              e.map(function (e) {
                                  return t.map(function (t) {
                                      return E()(e, he(t));
                                  });
                              })
                          )
                        : e;
                },
                ye = function (e) {
                    var t = de(e, "SegmentTemplate")[0],
                        i = de(e, "SegmentList")[0],
                        n =
                            i &&
                            de(i, "SegmentURL").map(function (e) {
                                return j({ tag: "SegmentURL" }, me(e));
                            }),
                        r = de(e, "SegmentBase")[0],
                        s = i || t,
                        a = s && de(s, "SegmentTimeline")[0],
                        o = i || r || t,
                        l = o && de(o, "Initialization")[0],
                        u = t && me(t);
                    u && l ? (u.initialization = l && me(l)) : u && u.initialization && (u.initialization = { sourceURL: u.initialization });
                    var c = {
                        template: u,
                        timeline:
                            a &&
                            de(a, "S").map(function (e) {
                                return me(e);
                            }),
                        list: i && j(me(i), { segmentUrls: n, initialization: me(l) }),
                        base: r && j(me(r), { initialization: me(l) }),
                    };
                    return (
                        Object.keys(c).forEach(function (e) {
                            c[e] || delete c[e];
                        }),
                        c
                    );
                },
                _e = function (e, t, i) {
                    return function (n) {
                        var r = me(n),
                            s = ve(t, de(n, "BaseURL")),
                            a = de(n, "Role")[0],
                            o = { role: me(a) },
                            l = j(e, r, o),
                            u = de(n, "ContentProtection").reduce(function (e, t) {
                                var i = me(t),
                                    n = ge[i.schemeIdUri];
                                if (n) {
                                    e[n] = { attributes: i };
                                    var r = de(t, "cenc:pssh")[0];
                                    if (r) {
                                        var s = he(r),
                                            a = s && P()(s);
                                        e[n].pssh = a;
                                    }
                                }
                                return e;
                            }, {});
                        Object.keys(u).length && (l = j(l, { contentProtection: u }));
                        var c = ye(n),
                            d = de(n, "Representation"),
                            h = j(i, c);
                        return B(
                            d.map(
                                (function (e, t, i) {
                                    return function (n) {
                                        var r = de(n, "BaseURL"),
                                            s = ve(t, r),
                                            a = j(e, me(n)),
                                            o = ye(n);
                                        return s.map(function (e) {
                                            return { segmentInfo: j(i, o), attributes: j(a, { baseUrl: e }) };
                                        });
                                    };
                                })(l, s, h)
                            )
                        );
                    };
                },
                be = function (e, t) {
                    return function (i, n) {
                        var s = ve(t, de(i, "BaseURL")),
                            a = me(i),
                            o = parseInt(a.id, 10),
                            l = r.a.isNaN(o) ? n : o,
                            u = j(e, { periodIndex: l }),
                            c = de(i, "AdaptationSet"),
                            d = ye(i);
                        return B(c.map(_e(u, s, d)));
                    };
                },
                Te = function (e) {
                    if ("" === e) throw new Error(q);
                    var t = new N.DOMParser().parseFromString(e, "application/xml"),
                        i = t && "MPD" === t.documentElement.tagName ? t.documentElement : null;
                    if (!i || (i && i.getElementsByTagName("parsererror").length > 0)) throw new Error(V);
                    return i;
                },
                Se = function (e, t) {
                    void 0 === t && (t = {});
                    var i = (function (e, t) {
                            void 0 === t && (t = {});
                            var i = t,
                                n = i.manifestUri,
                                r = void 0 === n ? "" : n,
                                s = i.NOW,
                                a = void 0 === s ? Date.now() : s,
                                o = i.clientOffset,
                                l = void 0 === o ? 0 : o,
                                u = de(e, "Period");
                            if (!u.length) throw new Error(H);
                            var c = de(e, "Location"),
                                d = me(e),
                                h = ve([r], de(e, "BaseURL"));
                            return (d.sourceDuration = d.mediaPresentationDuration || 0), (d.NOW = a), (d.clientOffset = l), c.length && (d.locations = c.map(he)), { locations: d.locations, representationInfo: B(u.map(be(d, h))) };
                        })(Te(e), t),
                        n = i.representationInfo.map(ce);
                    return ne(n, i.locations, t.sidxMapping);
                },
                we = function (e) {
                    return (function (e) {
                        var t = de(e, "UTCTiming")[0];
                        if (!t) return null;
                        var i = me(t);
                        switch (i.schemeIdUri) {
                            case "urn:mpeg:dash:utc:http-head:2014":
                            case "urn:mpeg:dash:utc:http-head:2012":
                                i.method = "HEAD";
                                break;
                            case "urn:mpeg:dash:utc:http-xsdate:2014":
                            case "urn:mpeg:dash:utc:http-iso:2014":
                            case "urn:mpeg:dash:utc:http-xsdate:2012":
                            case "urn:mpeg:dash:utc:http-iso:2012":
                                i.method = "GET";
                                break;
                            case "urn:mpeg:dash:utc:direct:2014":
                            case "urn:mpeg:dash:utc:direct:2012":
                                (i.method = "DIRECT"), (i.value = Date.parse(i.value));
                                break;
                            case "urn:mpeg:dash:utc:http-ntp:2014":
                            case "urn:mpeg:dash:utc:ntp:2014":
                            case "urn:mpeg:dash:utc:sntp:2014":
                            default:
                                throw new Error(W);
                        }
                        return i;
                    })(Te(e));
                },
                ke = i(143),
                Ce = i.n(ke),
                Ee = i(144),
                xe = i(145),
                Ae = i(146),
                Ie = i.n(Ae),
                Pe = i(104),
                Oe = i(151),
                Le = i.n(Oe),
                De = i(157),
                Re = "7.10.2",
                Me = [];
            var Ne = (function e(t) {
                    var i,
                        n = "info",
                        s = function () {
                            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                            i("log", n, t);
                        };
                    return (
                        (i = (function (e, t) {
                            return function (i, n, s) {
                                var a = t.levels[n],
                                    o = new RegExp("^(" + a + ")$");
                                if (("log" !== i && s.unshift(i.toUpperCase() + ":"), s.unshift(e + ":"), Me)) {
                                    Me.push([].concat(s));
                                    var l = Me.length - 1e3;
                                    Me.splice(0, l > 0 ? l : 0);
                                }
                                if (r.a.console) {
                                    var u = r.a.console[i];
                                    u || "debug" !== i || (u = r.a.console.info || r.a.console.log), u && a && o.test(i) && u[Array.isArray(s) ? "apply" : "call"](r.a.console, s);
                                }
                            };
                        })(t, s)),
                        (s.createLogger = function (i) {
                            return e(t + ": " + i);
                        }),
                        (s.levels = { all: "debug|log|warn|error", off: "", debug: "debug|log|warn|error", info: "log|warn|error", warn: "warn|error", error: "error", DEFAULT: n }),
                        (s.level = function (e) {
                            if ("string" == typeof e) {
                                if (!s.levels.hasOwnProperty(e)) throw new Error('"' + e + '" in not a valid log level');
                                n = e;
                            }
                            return n;
                        }),
                        ((s.history = function () {
                            return Me ? [].concat(Me) : [];
                        }).filter = function (e) {
                            return (Me || []).filter(function (t) {
                                return new RegExp(".*" + e + ".*").test(t[0]);
                            });
                        }),
                        (s.history.clear = function () {
                            Me && (Me.length = 0);
                        }),
                        (s.history.disable = function () {
                            null !== Me && ((Me.length = 0), (Me = null));
                        }),
                        (s.history.enable = function () {
                            null === Me && (Me = []);
                        }),
                        (s.error = function () {
                            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                            return i("error", n, t);
                        }),
                        (s.warn = function () {
                            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                            return i("warn", n, t);
                        }),
                        (s.debug = function () {
                            for (var e = arguments.length, t = new Array(e), r = 0; r < e; r++) t[r] = arguments[r];
                            return i("debug", n, t);
                        }),
                        s
                    );
                })("VIDEOJS"),
                Ue = Ne.createLogger,
                je = Object.prototype.toString,
                Be = function (e) {
                    return qe(e) ? Object.keys(e) : [];
                };
            function Fe(e, t) {
                Be(e).forEach(function (i) {
                    return t(e[i], i);
                });
            }
            function He(e) {
                for (var t = arguments.length, i = new Array(t > 1 ? t - 1 : 0), n = 1; n < t; n++) i[n - 1] = arguments[n];
                return Object.assign
                    ? l.a.apply(void 0, [e].concat(i))
                    : (i.forEach(function (t) {
                          t &&
                              Fe(t, function (t, i) {
                                  e[i] = t;
                              });
                      }),
                      e);
            }
            function qe(e) {
                return !!e && "object" == typeof e;
            }
            function Ve(e) {
                return qe(e) && "[object Object]" === je.call(e) && e.constructor === Object;
            }
            function $e(e, t) {
                if (!e || !t) return "";
                if ("function" == typeof r.a.getComputedStyle) {
                    var i = r.a.getComputedStyle(e);
                    return i ? i.getPropertyValue(t) || i[t] : "";
                }
                return "";
            }
            function ze(e) {
                return "string" == typeof e && Boolean(e.trim());
            }
            function We(e) {
                if (e.indexOf(" ") >= 0) throw new Error("class has illegal whitespace characters");
            }
            function Ge() {
                return a.a === r.a.document;
            }
            function Ye(e) {
                return qe(e) && 1 === e.nodeType;
            }
            function Xe() {
                try {
                    return r.a.parent !== r.a.self;
                } catch (e) {
                    return !0;
                }
            }
            function Ke(e) {
                return function (t, i) {
                    if (!ze(t)) return a.a[e](null);
                    ze(i) && (i = a.a.querySelector(i));
                    var n = Ye(i) ? i : a.a;
                    return n[e] && n[e](t);
                };
            }
            function Qe(e, t, i, n) {
                void 0 === e && (e = "div"), void 0 === t && (t = {}), void 0 === i && (i = {});
                var r = a.a.createElement(e);
                return (
                    Object.getOwnPropertyNames(t).forEach(function (e) {
                        var i = t[e];
                        -1 !== e.indexOf("aria-") || "role" === e || "type" === e
                            ? (Ne.warn("Setting attributes in the second argument of createEl()\nhas been deprecated. Use the third argument instead.\ncreateEl(type, properties, attributes). Attempting to set " + e + " to " + i + "."),
                              r.setAttribute(e, i))
                            : "textContent" === e
                            ? Je(r, i)
                            : r[e] !== i && (r[e] = i);
                    }),
                    Object.getOwnPropertyNames(i).forEach(function (e) {
                        r.setAttribute(e, i[e]);
                    }),
                    n && vt(r, n),
                    r
                );
            }
            function Je(e, t) {
                return void 0 === e.textContent ? (e.innerText = t) : (e.textContent = t), e;
            }
            function Ze(e, t) {
                t.firstChild ? t.insertBefore(e, t.firstChild) : t.appendChild(e);
            }
            function et(e, t) {
                return We(t), e.classList ? e.classList.contains(t) : ((i = t), new RegExp("(^|\\s)" + i + "($|\\s)")).test(e.className);
                var i;
            }
            function tt(e, t) {
                return e.classList ? e.classList.add(t) : et(e, t) || (e.className = (e.className + " " + t).trim()), e;
            }
            function it(e, t) {
                return (
                    e.classList
                        ? e.classList.remove(t)
                        : (We(t),
                          (e.className = e.className
                              .split(/\s+/)
                              .filter(function (e) {
                                  return e !== t;
                              })
                              .join(" "))),
                    e
                );
            }
            function nt(e, t, i) {
                var n = et(e, t);
                if (("function" == typeof i && (i = i(e, t)), "boolean" != typeof i && (i = !n), i !== n)) return i ? tt(e, t) : it(e, t), e;
            }
            function rt(e, t) {
                Object.getOwnPropertyNames(t).forEach(function (i) {
                    var n = t[i];
                    null == n || !1 === n ? e.removeAttribute(i) : e.setAttribute(i, !0 === n ? "" : n);
                });
            }
            function st(e) {
                var t = {},
                    i = ",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";
                if (e && e.attributes && e.attributes.length > 0)
                    for (var n = e.attributes, r = n.length - 1; r >= 0; r--) {
                        var s = n[r].name,
                            a = n[r].value;
                        ("boolean" != typeof e[s] && -1 === i.indexOf("," + s + ",")) || (a = null !== a), (t[s] = a);
                    }
                return t;
            }
            function at(e, t) {
                return e.getAttribute(t);
            }
            function ot(e, t, i) {
                e.setAttribute(t, i);
            }
            function lt(e, t) {
                e.removeAttribute(t);
            }
            function ut() {
                a.a.body.focus(),
                    (a.a.onselectstart = function () {
                        return !1;
                    });
            }
            function ct() {
                a.a.onselectstart = function () {
                    return !0;
                };
            }
            function dt(e) {
                if (e && e.getBoundingClientRect && e.parentNode) {
                    var t = e.getBoundingClientRect(),
                        i = {};
                    return (
                        ["bottom", "height", "left", "right", "top", "width"].forEach(function (e) {
                            void 0 !== t[e] && (i[e] = t[e]);
                        }),
                        i.height || (i.height = parseFloat($e(e, "height"))),
                        i.width || (i.width = parseFloat($e(e, "width"))),
                        i
                    );
                }
            }
            function ht(e) {
                if (!e || (e && !e.offsetParent)) return { left: 0, top: 0, width: 0, height: 0 };
                var t = e.offsetWidth,
                    i = e.offsetHeight,
                    n = 0,
                    r = 0;
                do {
                    (n += e.offsetLeft), (r += e.offsetTop), (e = e.offsetParent);
                } while (e);
                return { left: n, top: r, width: t, height: i };
            }
            function pt(e, t) {
                var i = {},
                    n = ht(t.target),
                    r = ht(e),
                    s = r.width,
                    a = r.height,
                    o = t.offsetY - (r.top - n.top),
                    l = t.offsetX - (r.left - n.left);
                return t.changedTouches && ((l = t.changedTouches[0].pageX - r.left), (o = t.changedTouches[0].pageY + r.top)), (i.y = 1 - Math.max(0, Math.min(1, o / a))), (i.x = Math.max(0, Math.min(1, l / s))), i;
            }
            function ft(e) {
                return qe(e) && 3 === e.nodeType;
            }
            function mt(e) {
                for (; e.firstChild; ) e.removeChild(e.firstChild);
                return e;
            }
            function gt(e) {
                return (
                    "function" == typeof e && (e = e()),
                    (Array.isArray(e) ? e : [e])
                        .map(function (e) {
                            return "function" == typeof e && (e = e()), Ye(e) || ft(e) ? e : "string" == typeof e && /\S/.test(e) ? a.a.createTextNode(e) : void 0;
                        })
                        .filter(function (e) {
                            return e;
                        })
                );
            }
            function vt(e, t) {
                return (
                    gt(t).forEach(function (t) {
                        return e.appendChild(t);
                    }),
                    e
                );
            }
            function yt(e, t) {
                return vt(mt(e), t);
            }
            function _t(e) {
                return (void 0 === e.button && void 0 === e.buttons) || (0 === e.button && void 0 === e.buttons) || ("mouseup" === e.type && 0 === e.button && 0 === e.buttons) || (0 === e.button && 1 === e.buttons);
            }
            var bt,
                Tt = Ke("querySelector"),
                St = Ke("querySelectorAll"),
                wt = Object.freeze({
                    __proto__: null,
                    isReal: Ge,
                    isEl: Ye,
                    isInFrame: Xe,
                    createEl: Qe,
                    textContent: Je,
                    prependTo: Ze,
                    hasClass: et,
                    addClass: tt,
                    removeClass: it,
                    toggleClass: nt,
                    setAttributes: rt,
                    getAttributes: st,
                    getAttribute: at,
                    setAttribute: ot,
                    removeAttribute: lt,
                    blockTextSelection: ut,
                    unblockTextSelection: ct,
                    getBoundingClientRect: dt,
                    findPosition: ht,
                    getPointerPosition: pt,
                    isTextNode: ft,
                    emptyEl: mt,
                    normalizeContent: gt,
                    appendContent: vt,
                    insertContent: yt,
                    isSingleLeftClick: _t,
                    $: Tt,
                    $$: St,
                }),
                kt = !1,
                Ct = function () {
                    if (Ge() && !1 !== bt.options.autoSetup) {
                        var e = Array.prototype.slice.call(a.a.getElementsByTagName("video")),
                            t = Array.prototype.slice.call(a.a.getElementsByTagName("audio")),
                            i = Array.prototype.slice.call(a.a.getElementsByTagName("video-js")),
                            n = e.concat(t, i);
                        if (n && n.length > 0)
                            for (var r = 0, s = n.length; r < s; r++) {
                                var o = n[r];
                                if (!o || !o.getAttribute) {
                                    Et(1);
                                    break;
                                }
                                void 0 === o.player && null !== o.getAttribute("data-setup") && bt(o);
                            }
                        else kt || Et(1);
                    }
                };
            function Et(e, t) {
                t && (bt = t), r.a.setTimeout(Ct, e);
            }
            function xt() {
                (kt = !0), r.a.removeEventListener("load", xt);
            }
            Ge() && ("complete" === a.a.readyState ? xt() : r.a.addEventListener("load", xt));
            var At,
                It = function (e) {
                    var t = a.a.createElement("style");
                    return (t.className = e), t;
                },
                Pt = function (e, t) {
                    e.styleSheet ? (e.styleSheet.cssText = t) : (e.textContent = t);
                },
                Ot = 3;
            function Lt() {
                return Ot++;
            }
            r.a.WeakMap ||
                (At = (function () {
                    function e() {
                        (this.vdata = "vdata" + Math.floor((r.a.performance && r.a.performance.now()) || Date.now())), (this.data = {});
                    }
                    var t = e.prototype;
                    return (
                        (t.set = function (e, t) {
                            var i = e[this.vdata] || Lt();
                            return e[this.vdata] || (e[this.vdata] = i), (this.data[i] = t), this;
                        }),
                        (t.get = function (e) {
                            var t = e[this.vdata];
                            if (t) return this.data[t];
                            Ne("We have no data for this element", e);
                        }),
                        (t.has = function (e) {
                            return e[this.vdata] in this.data;
                        }),
                        (t.delete = function (e) {
                            var t = e[this.vdata];
                            t && (delete this.data[t], delete e[this.vdata]);
                        }),
                        e
                    );
                })());
            var Dt,
                Rt = r.a.WeakMap ? new WeakMap() : new At();
            function Mt(e, t) {
                if (Rt.has(e)) {
                    var i = Rt.get(e);
                    0 === i.handlers[t].length && (delete i.handlers[t], e.removeEventListener ? e.removeEventListener(t, i.dispatcher, !1) : e.detachEvent && e.detachEvent("on" + t, i.dispatcher)),
                        Object.getOwnPropertyNames(i.handlers).length <= 0 && (delete i.handlers, delete i.dispatcher, delete i.disabled),
                        0 === Object.getOwnPropertyNames(i).length && Rt.delete(e);
                }
            }
            function Nt(e, t, i, n) {
                i.forEach(function (i) {
                    e(t, i, n);
                });
            }
            function Ut(e) {
                if (e.fixed_) return e;
                function t() {
                    return !0;
                }
                function i() {
                    return !1;
                }
                if (!e || !e.isPropagationStopped) {
                    var n = e || r.a.event;
                    for (var s in ((e = {}), n)) "layerX" !== s && "layerY" !== s && "keyLocation" !== s && "webkitMovementX" !== s && "webkitMovementY" !== s && (("returnValue" === s && n.preventDefault) || (e[s] = n[s]));
                    if (
                        (e.target || (e.target = e.srcElement || a.a),
                        e.relatedTarget || (e.relatedTarget = e.fromElement === e.target ? e.toElement : e.fromElement),
                        (e.preventDefault = function () {
                            n.preventDefault && n.preventDefault(), (e.returnValue = !1), (n.returnValue = !1), (e.defaultPrevented = !0);
                        }),
                        (e.defaultPrevented = !1),
                        (e.stopPropagation = function () {
                            n.stopPropagation && n.stopPropagation(), (e.cancelBubble = !0), (n.cancelBubble = !0), (e.isPropagationStopped = t);
                        }),
                        (e.isPropagationStopped = i),
                        (e.stopImmediatePropagation = function () {
                            n.stopImmediatePropagation && n.stopImmediatePropagation(), (e.isImmediatePropagationStopped = t), e.stopPropagation();
                        }),
                        (e.isImmediatePropagationStopped = i),
                        null !== e.clientX && void 0 !== e.clientX)
                    ) {
                        var o = a.a.documentElement,
                            l = a.a.body;
                        (e.pageX = e.clientX + ((o && o.scrollLeft) || (l && l.scrollLeft) || 0) - ((o && o.clientLeft) || (l && l.clientLeft) || 0)),
                            (e.pageY = e.clientY + ((o && o.scrollTop) || (l && l.scrollTop) || 0) - ((o && o.clientTop) || (l && l.clientTop) || 0));
                    }
                    (e.which = e.charCode || e.keyCode), null !== e.button && void 0 !== e.button && (e.button = 1 & e.button ? 0 : 4 & e.button ? 1 : 2 & e.button ? 2 : 0);
                }
                return (e.fixed_ = !0), e;
            }
            var jt = ["touchstart", "touchmove"];
            function Bt(e, t, i) {
                if (Array.isArray(t)) return Nt(Bt, e, t, i);
                Rt.has(e) || Rt.set(e, {});
                var n = Rt.get(e);
                if (
                    (n.handlers || (n.handlers = {}),
                    n.handlers[t] || (n.handlers[t] = []),
                    i.guid || (i.guid = Lt()),
                    n.handlers[t].push(i),
                    n.dispatcher ||
                        ((n.disabled = !1),
                        (n.dispatcher = function (t, i) {
                            if (!n.disabled) {
                                t = Ut(t);
                                var r = n.handlers[t.type];
                                if (r)
                                    for (var s = r.slice(0), a = 0, o = s.length; a < o && !t.isImmediatePropagationStopped(); a++)
                                        try {
                                            s[a].call(e, t, i);
                                        } catch (e) {
                                            Ne.error(e);
                                        }
                            }
                        })),
                    1 === n.handlers[t].length)
                )
                    if (e.addEventListener) {
                        var s = !1;
                        (function () {
                            if ("boolean" != typeof Dt) {
                                Dt = !1;
                                try {
                                    var e = Object.defineProperty({}, "passive", {
                                        get: function () {
                                            Dt = !0;
                                        },
                                    });
                                    r.a.addEventListener("test", null, e), r.a.removeEventListener("test", null, e);
                                } catch (e) {}
                            }
                            return Dt;
                        })() &&
                            jt.indexOf(t) > -1 &&
                            (s = { passive: !0 }),
                            e.addEventListener(t, n.dispatcher, s);
                    } else e.attachEvent && e.attachEvent("on" + t, n.dispatcher);
            }
            function Ft(e, t, i) {
                if (Rt.has(e)) {
                    var n = Rt.get(e);
                    if (n.handlers) {
                        if (Array.isArray(t)) return Nt(Ft, e, t, i);
                        var r = function (e, t) {
                            (n.handlers[t] = []), Mt(e, t);
                        };
                        if (void 0 !== t) {
                            var s = n.handlers[t];
                            if (s)
                                if (i) {
                                    if (i.guid) for (var a = 0; a < s.length; a++) s[a].guid === i.guid && s.splice(a--, 1);
                                    Mt(e, t);
                                } else r(e, t);
                        } else for (var o in n.handlers) Object.prototype.hasOwnProperty.call(n.handlers || {}, o) && r(e, o);
                    }
                }
            }
            function Ht(e, t, i) {
                var n = Rt.has(e) ? Rt.get(e) : {},
                    r = e.parentNode || e.ownerDocument;
                if (("string" == typeof t ? (t = { type: t, target: e }) : t.target || (t.target = e), (t = Ut(t)), n.dispatcher && n.dispatcher.call(e, t, i), r && !t.isPropagationStopped() && !0 === t.bubbles)) Ht.call(null, r, t, i);
                else if (!r && !t.defaultPrevented && t.target && t.target[t.type]) {
                    Rt.has(t.target) || Rt.set(t.target, {});
                    var s = Rt.get(t.target);
                    t.target[t.type] && ((s.disabled = !0), "function" == typeof t.target[t.type] && t.target[t.type](), (s.disabled = !1));
                }
                return !t.defaultPrevented;
            }
            function qt(e, t, i) {
                if (Array.isArray(t)) return Nt(qt, e, t, i);
                var n = function n() {
                    Ft(e, t, n), i.apply(this, arguments);
                };
                (n.guid = i.guid = i.guid || Lt()), Bt(e, t, n);
            }
            function Vt(e, t, i) {
                var n = function n() {
                    Ft(e, t, n), i.apply(this, arguments);
                };
                (n.guid = i.guid = i.guid || Lt()), Bt(e, t, n);
            }
            var $t,
                zt = Object.freeze({ __proto__: null, fixEvent: Ut, on: Bt, off: Ft, trigger: Ht, one: qt, any: Vt }),
                Wt = 30,
                Gt = function (e, t, i) {
                    t.guid || (t.guid = Lt());
                    var n = t.bind(e);
                    return (n.guid = i ? i + "_" + t.guid : t.guid), n;
                },
                Yt = function (e, t) {
                    var i = r.a.performance.now();
                    return function () {
                        var n = r.a.performance.now();
                        n - i >= t && (e.apply(void 0, arguments), (i = n));
                    };
                },
                Xt = function () {};
            (Xt.prototype.allowedEvents_ = {}),
                (Xt.prototype.on = function (e, t) {
                    var i = this.addEventListener;
                    (this.addEventListener = function () {}), Bt(this, e, t), (this.addEventListener = i);
                }),
                (Xt.prototype.addEventListener = Xt.prototype.on),
                (Xt.prototype.off = function (e, t) {
                    Ft(this, e, t);
                }),
                (Xt.prototype.removeEventListener = Xt.prototype.off),
                (Xt.prototype.one = function (e, t) {
                    var i = this.addEventListener;
                    (this.addEventListener = function () {}), qt(this, e, t), (this.addEventListener = i);
                }),
                (Xt.prototype.any = function (e, t) {
                    var i = this.addEventListener;
                    (this.addEventListener = function () {}), Vt(this, e, t), (this.addEventListener = i);
                }),
                (Xt.prototype.trigger = function (e) {
                    var t = e.type || e;
                    "string" == typeof e && (e = { type: t }), (e = Ut(e)), this.allowedEvents_[t] && this["on" + t] && this["on" + t](e), Ht(this, e);
                }),
                (Xt.prototype.dispatchEvent = Xt.prototype.trigger),
                (Xt.prototype.queueTrigger = function (e) {
                    var t = this;
                    $t || ($t = new Map());
                    var i = e.type || e,
                        n = $t.get(this);
                    n || ((n = new Map()), $t.set(this, n));
                    var s = n.get(i);
                    n.delete(i), r.a.clearTimeout(s);
                    var a = r.a.setTimeout(function () {
                        0 === n.size && ((n = null), $t.delete(t)), t.trigger(e);
                    }, 0);
                    n.set(i, a);
                });
            var Kt = function (e) {
                    return (
                        e instanceof Xt ||
                        (!!e.eventBusEl_ &&
                            ["on", "one", "off", "trigger"].every(function (t) {
                                return "function" == typeof e[t];
                            }))
                    );
                },
                Qt = function (e) {
                    return ("string" == typeof e && /\S/.test(e)) || (Array.isArray(e) && !!e.length);
                },
                Jt = function (e) {
                    if (!e.nodeName && !Kt(e)) throw new Error("Invalid target; must be a DOM node or evented object.");
                },
                Zt = function (e) {
                    if (!Qt(e)) throw new Error("Invalid event type; must be a non-empty string or array.");
                },
                ei = function (e) {
                    if ("function" != typeof e) throw new Error("Invalid listener; must be a function.");
                },
                ti = function (e, t) {
                    var i,
                        n,
                        r,
                        s = t.length < 3 || t[0] === e || t[0] === e.eventBusEl_;
                    return s ? ((i = e.eventBusEl_), t.length >= 3 && t.shift(), (n = t[0]), (r = t[1])) : ((i = t[0]), (n = t[1]), (r = t[2])), Jt(i), Zt(n), ei(r), { isTargetingSelf: s, target: i, type: n, listener: (r = Gt(e, r)) };
                },
                ii = function (e, t, i, n) {
                    Jt(e), e.nodeName ? zt[t](e, i, n) : e[t](i, n);
                },
                ni = {
                    on: function () {
                        for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                        var r = ti(this, i),
                            s = r.isTargetingSelf,
                            a = r.target,
                            o = r.type,
                            l = r.listener;
                        if ((ii(a, "on", o, l), !s)) {
                            var u = function () {
                                return e.off(a, o, l);
                            };
                            u.guid = l.guid;
                            var c = function () {
                                return e.off("dispose", u);
                            };
                            (c.guid = l.guid), ii(this, "on", "dispose", u), ii(a, "on", "dispose", c);
                        }
                    },
                    one: function () {
                        for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                        var r = ti(this, i),
                            s = r.isTargetingSelf,
                            a = r.target,
                            o = r.type,
                            l = r.listener;
                        if (s) ii(a, "one", o, l);
                        else {
                            var u = function t() {
                                e.off(a, o, t);
                                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                                l.apply(null, n);
                            };
                            (u.guid = l.guid), ii(a, "one", o, u);
                        }
                    },
                    any: function () {
                        for (var e = this, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                        var r = ti(this, i),
                            s = r.isTargetingSelf,
                            a = r.target,
                            o = r.type,
                            l = r.listener;
                        if (s) ii(a, "any", o, l);
                        else {
                            var u = function t() {
                                e.off(a, o, t);
                                for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                                l.apply(null, n);
                            };
                            (u.guid = l.guid), ii(a, "any", o, u);
                        }
                    },
                    off: function (e, t, i) {
                        if (!e || Qt(e)) Ft(this.eventBusEl_, e, t);
                        else {
                            var n = e,
                                r = t;
                            Jt(n), Zt(r), ei(i), (i = Gt(this, i)), this.off("dispose", i), n.nodeName ? (Ft(n, r, i), Ft(n, "dispose", i)) : Kt(n) && (n.off(r, i), n.off("dispose", i));
                        }
                    },
                    trigger: function (e, t) {
                        return Ht(this.eventBusEl_, e, t);
                    },
                };
            function ri(e, t) {
                void 0 === t && (t = {});
                var i = t.eventBusKey;
                if (i) {
                    if (!e[i].nodeName) throw new Error('The eventBusKey "' + i + '" does not refer to an element.');
                    e.eventBusEl_ = e[i];
                } else e.eventBusEl_ = Qe("span", { className: "vjs-event-bus" });
                return (
                    He(e, ni),
                    e.eventedCallbacks &&
                        e.eventedCallbacks.forEach(function (e) {
                            e();
                        }),
                    e.on("dispose", function () {
                        e.off(),
                            r.a.setTimeout(function () {
                                e.eventBusEl_ = null;
                            }, 0);
                    }),
                    e
                );
            }
            var si = {
                state: {},
                setState: function (e) {
                    var t,
                        i = this;
                    return (
                        "function" == typeof e && (e = e()),
                        Fe(e, function (e, n) {
                            i.state[n] !== e && ((t = t || {})[n] = { from: i.state[n], to: e }), (i.state[n] = e);
                        }),
                        t && Kt(this) && this.trigger({ changes: t, type: "statechanged" }),
                        t
                    );
                },
            };
            function ai(e, t) {
                return He(e, si), (e.state = He({}, e.state, t)), "function" == typeof e.handleStateChanged && Kt(e) && e.on("statechanged", e.handleStateChanged), e;
            }
            var oi = function (e) {
                    return "string" != typeof e
                        ? e
                        : e.replace(/./, function (e) {
                              return e.toLowerCase();
                          });
                },
                li = function (e) {
                    return "string" != typeof e
                        ? e
                        : e.replace(/./, function (e) {
                              return e.toUpperCase();
                          });
                };
            function ui() {
                for (var e = {}, t = arguments.length, i = new Array(t), n = 0; n < t; n++) i[n] = arguments[n];
                return (
                    i.forEach(function (t) {
                        t &&
                            Fe(t, function (t, i) {
                                Ve(t) ? (Ve(e[i]) || (e[i] = {}), (e[i] = ui(e[i], t))) : (e[i] = t);
                            });
                    }),
                    e
                );
            }
            var ci = (function () {
                    function e() {
                        this.map_ = {};
                    }
                    var t = e.prototype;
                    return (
                        (t.has = function (e) {
                            return e in this.map_;
                        }),
                        (t.delete = function (e) {
                            var t = this.has(e);
                            return delete this.map_[e], t;
                        }),
                        (t.set = function (e, t) {
                            return (this.set_[e] = t), this;
                        }),
                        (t.forEach = function (e, t) {
                            for (var i in this.map_) e.call(t, this.map_[i], i, this);
                        }),
                        e
                    );
                })(),
                di = r.a.Map ? r.a.Map : ci,
                hi = (function () {
                    function e() {
                        this.set_ = {};
                    }
                    var t = e.prototype;
                    return (
                        (t.has = function (e) {
                            return e in this.set_;
                        }),
                        (t.delete = function (e) {
                            var t = this.has(e);
                            return delete this.set_[e], t;
                        }),
                        (t.add = function (e) {
                            return (this.set_[e] = 1), this;
                        }),
                        (t.forEach = function (e, t) {
                            for (var i in this.set_) e.call(t, i, i, this);
                        }),
                        e
                    );
                })(),
                pi = r.a.Set ? r.a.Set : hi,
                fi = (function () {
                    function e(e, t, i) {
                        if (
                            (!e && this.play ? (this.player_ = e = this) : (this.player_ = e),
                            (this.isDisposed_ = !1),
                            (this.parentComponent_ = null),
                            (this.options_ = ui({}, this.options_)),
                            (t = this.options_ = ui(this.options_, t)),
                            (this.id_ = t.id || (t.el && t.el.id)),
                            !this.id_)
                        ) {
                            var n = (e && e.id && e.id()) || "no_player";
                            this.id_ = n + "_component_" + Lt();
                        }
                        (this.name_ = t.name || null),
                            t.el ? (this.el_ = t.el) : !1 !== t.createEl && (this.el_ = this.createEl()),
                            !1 !== t.evented && ri(this, { eventBusKey: this.el_ ? "el_" : null }),
                            ai(this, this.constructor.defaultState),
                            (this.children_ = []),
                            (this.childIndex_ = {}),
                            (this.childNameIndex_ = {}),
                            (this.setTimeoutIds_ = new pi()),
                            (this.setIntervalIds_ = new pi()),
                            (this.rafIds_ = new pi()),
                            (this.namedRafs_ = new di()),
                            (this.clearingTimersOnDispose_ = !1),
                            !1 !== t.initChildren && this.initChildren(),
                            this.ready(i),
                            !1 !== t.reportTouchActivity && this.enableTouchActivity();
                    }
                    var t = e.prototype;
                    return (
                        (t.dispose = function () {
                            if (!this.isDisposed_) {
                                if ((this.trigger({ type: "dispose", bubbles: !1 }), (this.isDisposed_ = !0), this.children_)) for (var e = this.children_.length - 1; e >= 0; e--) this.children_[e].dispose && this.children_[e].dispose();
                                (this.children_ = null),
                                    (this.childIndex_ = null),
                                    (this.childNameIndex_ = null),
                                    (this.parentComponent_ = null),
                                    this.el_ && (this.el_.parentNode && this.el_.parentNode.removeChild(this.el_), Rt.has(this.el_) && Rt.delete(this.el_), (this.el_ = null)),
                                    (this.player_ = null);
                            }
                        }),
                        (t.isDisposed = function () {
                            return Boolean(this.isDisposed_);
                        }),
                        (t.player = function () {
                            return this.player_;
                        }),
                        (t.options = function (e) {
                            return e ? ((this.options_ = ui(this.options_, e)), this.options_) : this.options_;
                        }),
                        (t.el = function () {
                            return this.el_;
                        }),
                        (t.createEl = function (e, t, i) {
                            return Qe(e, t, i);
                        }),
                        (t.localize = function (e, t, i) {
                            void 0 === i && (i = e);
                            var n = this.player_.language && this.player_.language(),
                                r = this.player_.languages && this.player_.languages(),
                                s = r && r[n],
                                a = n && n.split("-")[0],
                                o = r && r[a],
                                l = i;
                            return (
                                s && s[e] ? (l = s[e]) : o && o[e] && (l = o[e]),
                                t &&
                                    (l = l.replace(/\{(\d+)\}/g, function (e, i) {
                                        var n = t[i - 1],
                                            r = n;
                                        return void 0 === n && (r = e), r;
                                    })),
                                l
                            );
                        }),
                        (t.contentEl = function () {
                            return this.contentEl_ || this.el_;
                        }),
                        (t.id = function () {
                            return this.id_;
                        }),
                        (t.name = function () {
                            return this.name_;
                        }),
                        (t.children = function () {
                            return this.children_;
                        }),
                        (t.getChildById = function (e) {
                            return this.childIndex_[e];
                        }),
                        (t.getChild = function (e) {
                            if (e) return this.childNameIndex_[e];
                        }),
                        (t.getDescendant = function () {
                            for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                            t = t.reduce(function (e, t) {
                                return e.concat(t);
                            }, []);
                            for (var n = this, r = 0; r < t.length; r++) if (!(n = n.getChild(t[r])) || !n.getChild) return;
                            return n;
                        }),
                        (t.addChild = function (t, i, n) {
                            var r, s;
                            if ((void 0 === i && (i = {}), void 0 === n && (n = this.children_.length), "string" == typeof t)) {
                                s = li(t);
                                var a = i.componentClass || s;
                                i.name = s;
                                var o = e.getComponent(a);
                                if (!o) throw new Error("Component " + a + " does not exist");
                                if ("function" != typeof o) return null;
                                r = new o(this.player_ || this, i);
                            } else r = t;
                            if (
                                (r.parentComponent_ && r.parentComponent_.removeChild(r),
                                this.children_.splice(n, 0, r),
                                (r.parentComponent_ = this),
                                "function" == typeof r.id && (this.childIndex_[r.id()] = r),
                                (s = s || (r.name && li(r.name()))) && ((this.childNameIndex_[s] = r), (this.childNameIndex_[oi(s)] = r)),
                                "function" == typeof r.el && r.el())
                            ) {
                                var l = null;
                                this.children_[n + 1] && (this.children_[n + 1].el_ ? (l = this.children_[n + 1].el_) : Ye(this.children_[n + 1]) && (l = this.children_[n + 1])), this.contentEl().insertBefore(r.el(), l);
                            }
                            return r;
                        }),
                        (t.removeChild = function (e) {
                            if (("string" == typeof e && (e = this.getChild(e)), e && this.children_)) {
                                for (var t = !1, i = this.children_.length - 1; i >= 0; i--)
                                    if (this.children_[i] === e) {
                                        (t = !0), this.children_.splice(i, 1);
                                        break;
                                    }
                                if (t) {
                                    (e.parentComponent_ = null), (this.childIndex_[e.id()] = null), (this.childNameIndex_[li(e.name())] = null), (this.childNameIndex_[oi(e.name())] = null);
                                    var n = e.el();
                                    n && n.parentNode === this.contentEl() && this.contentEl().removeChild(e.el());
                                }
                            }
                        }),
                        (t.initChildren = function () {
                            var t = this,
                                i = this.options_.children;
                            if (i) {
                                var n,
                                    r = this.options_,
                                    s = e.getComponent("Tech");
                                (n = Array.isArray(i) ? i : Object.keys(i))
                                    .concat(
                                        Object.keys(this.options_).filter(function (e) {
                                            return !n.some(function (t) {
                                                return "string" == typeof t ? e === t : e === t.name;
                                            });
                                        })
                                    )
                                    .map(function (e) {
                                        var n, r;
                                        return "string" == typeof e ? (r = i[(n = e)] || t.options_[n] || {}) : ((n = e.name), (r = e)), { name: n, opts: r };
                                    })
                                    .filter(function (t) {
                                        var i = e.getComponent(t.opts.componentClass || li(t.name));
                                        return i && !s.isTech(i);
                                    })
                                    .forEach(function (e) {
                                        var i = e.name,
                                            n = e.opts;
                                        if ((void 0 !== r[i] && (n = r[i]), !1 !== n)) {
                                            !0 === n && (n = {}), (n.playerOptions = t.options_.playerOptions);
                                            var s = t.addChild(i, n);
                                            s && (t[i] = s);
                                        }
                                    });
                            }
                        }),
                        (t.buildCSSClass = function () {
                            return "";
                        }),
                        (t.ready = function (e, t) {
                            if ((void 0 === t && (t = !1), e)) return this.isReady_ ? void (t ? e.call(this) : this.setTimeout(e, 1)) : ((this.readyQueue_ = this.readyQueue_ || []), void this.readyQueue_.push(e));
                        }),
                        (t.triggerReady = function () {
                            (this.isReady_ = !0),
                                this.setTimeout(function () {
                                    var e = this.readyQueue_;
                                    (this.readyQueue_ = []),
                                        e &&
                                            e.length > 0 &&
                                            e.forEach(function (e) {
                                                e.call(this);
                                            }, this),
                                        this.trigger("ready");
                                }, 1);
                        }),
                        (t.$ = function (e, t) {
                            return Tt(e, t || this.contentEl());
                        }),
                        (t.$$ = function (e, t) {
                            return St(e, t || this.contentEl());
                        }),
                        (t.hasClass = function (e) {
                            return et(this.el_, e);
                        }),
                        (t.addClass = function (e) {
                            tt(this.el_, e);
                        }),
                        (t.removeClass = function (e) {
                            it(this.el_, e);
                        }),
                        (t.toggleClass = function (e, t) {
                            nt(this.el_, e, t);
                        }),
                        (t.show = function () {
                            this.removeClass("vjs-hidden");
                        }),
                        (t.hide = function () {
                            this.addClass("vjs-hidden");
                        }),
                        (t.lockShowing = function () {
                            this.addClass("vjs-lock-showing");
                        }),
                        (t.unlockShowing = function () {
                            this.removeClass("vjs-lock-showing");
                        }),
                        (t.getAttribute = function (e) {
                            return at(this.el_, e);
                        }),
                        (t.setAttribute = function (e, t) {
                            ot(this.el_, e, t);
                        }),
                        (t.removeAttribute = function (e) {
                            lt(this.el_, e);
                        }),
                        (t.width = function (e, t) {
                            return this.dimension("width", e, t);
                        }),
                        (t.height = function (e, t) {
                            return this.dimension("height", e, t);
                        }),
                        (t.dimensions = function (e, t) {
                            this.width(e, !0), this.height(t);
                        }),
                        (t.dimension = function (e, t, i) {
                            if (void 0 !== t)
                                return (
                                    (null !== t && t == t) || (t = 0),
                                    -1 !== ("" + t).indexOf("%") || -1 !== ("" + t).indexOf("px") ? (this.el_.style[e] = t) : (this.el_.style[e] = "auto" === t ? "" : t + "px"),
                                    void (i || this.trigger("componentresize"))
                                );
                            if (!this.el_) return 0;
                            var n = this.el_.style[e],
                                r = n.indexOf("px");
                            return -1 !== r ? parseInt(n.slice(0, r), 10) : parseInt(this.el_["offset" + li(e)], 10);
                        }),
                        (t.currentDimension = function (e) {
                            var t = 0;
                            if ("width" !== e && "height" !== e) throw new Error("currentDimension only accepts width or height value");
                            if (((t = $e(this.el_, e)), 0 === (t = parseFloat(t)) || isNaN(t))) {
                                var i = "offset" + li(e);
                                t = this.el_[i];
                            }
                            return t;
                        }),
                        (t.currentDimensions = function () {
                            return { width: this.currentDimension("width"), height: this.currentDimension("height") };
                        }),
                        (t.currentWidth = function () {
                            return this.currentDimension("width");
                        }),
                        (t.currentHeight = function () {
                            return this.currentDimension("height");
                        }),
                        (t.focus = function () {
                            this.el_.focus();
                        }),
                        (t.blur = function () {
                            this.el_.blur();
                        }),
                        (t.handleKeyDown = function (e) {
                            this.player_ && (e.stopPropagation(), this.player_.handleKeyDown(e));
                        }),
                        (t.handleKeyPress = function (e) {
                            this.handleKeyDown(e);
                        }),
                        (t.emitTapEvents = function () {
                            var e,
                                t = 0,
                                i = null;
                            this.on("touchstart", function (n) {
                                1 === n.touches.length && ((i = { pageX: n.touches[0].pageX, pageY: n.touches[0].pageY }), (t = r.a.performance.now()), (e = !0));
                            }),
                                this.on("touchmove", function (t) {
                                    if (t.touches.length > 1) e = !1;
                                    else if (i) {
                                        var n = t.touches[0].pageX - i.pageX,
                                            r = t.touches[0].pageY - i.pageY;
                                        Math.sqrt(n * n + r * r) > 10 && (e = !1);
                                    }
                                });
                            var n = function () {
                                e = !1;
                            };
                            this.on("touchleave", n),
                                this.on("touchcancel", n),
                                this.on("touchend", function (n) {
                                    ((i = null), !0 === e) && r.a.performance.now() - t < 200 && (n.preventDefault(), this.trigger("tap"));
                                });
                        }),
                        (t.enableTouchActivity = function () {
                            if (this.player() && this.player().reportUserActivity) {
                                var e,
                                    t = Gt(this.player(), this.player().reportUserActivity);
                                this.on("touchstart", function () {
                                    t(), this.clearInterval(e), (e = this.setInterval(t, 250));
                                });
                                var i = function () {
                                    t(), this.clearInterval(e);
                                };
                                this.on("touchmove", t), this.on("touchend", i), this.on("touchcancel", i);
                            }
                        }),
                        (t.setTimeout = function (e, t) {
                            var i,
                                n = this;
                            return (
                                (e = Gt(this, e)),
                                this.clearTimersOnDispose_(),
                                (i = r.a.setTimeout(function () {
                                    n.setTimeoutIds_.has(i) && n.setTimeoutIds_.delete(i), e();
                                }, t)),
                                this.setTimeoutIds_.add(i),
                                i
                            );
                        }),
                        (t.clearTimeout = function (e) {
                            return this.setTimeoutIds_.has(e) && (this.setTimeoutIds_.delete(e), r.a.clearTimeout(e)), e;
                        }),
                        (t.setInterval = function (e, t) {
                            (e = Gt(this, e)), this.clearTimersOnDispose_();
                            var i = r.a.setInterval(e, t);
                            return this.setIntervalIds_.add(i), i;
                        }),
                        (t.clearInterval = function (e) {
                            return this.setIntervalIds_.has(e) && (this.setIntervalIds_.delete(e), r.a.clearInterval(e)), e;
                        }),
                        (t.requestAnimationFrame = function (e) {
                            var t,
                                i = this;
                            return this.supportsRaf_
                                ? (this.clearTimersOnDispose_(),
                                  (e = Gt(this, e)),
                                  (t = r.a.requestAnimationFrame(function () {
                                      i.rafIds_.has(t) && i.rafIds_.delete(t), e();
                                  })),
                                  this.rafIds_.add(t),
                                  t)
                                : this.setTimeout(e, 1e3 / 60);
                        }),
                        (t.requestNamedAnimationFrame = function (e, t) {
                            var i = this;
                            if (!this.namedRafs_.has(e)) {
                                this.clearTimersOnDispose_(), (t = Gt(this, t));
                                var n = this.requestAnimationFrame(function () {
                                    t(), i.namedRafs_.has(e) && i.namedRafs_.delete(e);
                                });
                                return this.namedRafs_.set(e, n), e;
                            }
                        }),
                        (t.cancelNamedAnimationFrame = function (e) {
                            this.namedRafs_.has(e) && (this.cancelAnimationFrame(this.namedRafs_.get(e)), this.namedRafs_.delete(e));
                        }),
                        (t.cancelAnimationFrame = function (e) {
                            return this.supportsRaf_ ? (this.rafIds_.has(e) && (this.rafIds_.delete(e), r.a.cancelAnimationFrame(e)), e) : this.clearTimeout(e);
                        }),
                        (t.clearTimersOnDispose_ = function () {
                            var e = this;
                            this.clearingTimersOnDispose_ ||
                                ((this.clearingTimersOnDispose_ = !0),
                                this.one("dispose", function () {
                                    [
                                        ["namedRafs_", "cancelNamedAnimationFrame"],
                                        ["rafIds_", "cancelAnimationFrame"],
                                        ["setTimeoutIds_", "clearTimeout"],
                                        ["setIntervalIds_", "clearInterval"],
                                    ].forEach(function (t) {
                                        var i = t[0],
                                            n = t[1];
                                        e[i].forEach(function (t, i) {
                                            return e[n](i);
                                        });
                                    }),
                                        (e.clearingTimersOnDispose_ = !1);
                                }));
                        }),
                        (e.registerComponent = function (t, i) {
                            if ("string" != typeof t || !t) throw new Error('Illegal component name, "' + t + '"; must be a non-empty string.');
                            var n,
                                r = e.getComponent("Tech"),
                                s = r && r.isTech(i),
                                a = e === i || e.prototype.isPrototypeOf(i.prototype);
                            if (s || !a) throw ((n = s ? "techs must be registered using Tech.registerTech()" : "must be a Component subclass"), new Error('Illegal component, "' + t + '"; ' + n + "."));
                            (t = li(t)), e.components_ || (e.components_ = {});
                            var o = e.getComponent("Player");
                            if ("Player" === t && o && o.players) {
                                var l = o.players,
                                    u = Object.keys(l);
                                if (
                                    l &&
                                    u.length > 0 &&
                                    u
                                        .map(function (e) {
                                            return l[e];
                                        })
                                        .every(Boolean)
                                )
                                    throw new Error("Can not register Player component after player has been created.");
                            }
                            return (e.components_[t] = i), (e.components_[oi(t)] = i), i;
                        }),
                        (e.getComponent = function (t) {
                            if (t && e.components_) return e.components_[t];
                        }),
                        e
                    );
                })();
            (fi.prototype.supportsRaf_ = "function" == typeof r.a.requestAnimationFrame && "function" == typeof r.a.cancelAnimationFrame), fi.registerComponent("Component", fi);
            var mi,
                gi = (r.a.navigator && r.a.navigator.userAgent) || "",
                vi = /AppleWebKit\/([\d.]+)/i.exec(gi),
                yi = vi ? parseFloat(vi.pop()) : null,
                _i = /iPod/i.test(gi),
                bi = (mi = gi.match(/OS (\d+)_/i)) && mi[1] ? mi[1] : null,
                Ti = /Android/i.test(gi),
                Si = (function () {
                    var e = gi.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);
                    if (!e) return null;
                    var t = e[1] && parseFloat(e[1]),
                        i = e[2] && parseFloat(e[2]);
                    return t && i ? parseFloat(e[1] + "." + e[2]) : t || null;
                })(),
                wi = Ti && Si < 5 && yi < 537,
                ki = /Firefox/i.test(gi),
                Ci = /Edg/i.test(gi),
                Ei = !Ci && (/Chrome/i.test(gi) || /CriOS/i.test(gi)),
                xi = (function () {
                    var e = gi.match(/(Chrome|CriOS)\/(\d+)/);
                    return e && e[2] ? parseFloat(e[2]) : null;
                })(),
                Ai = (function () {
                    var e = /MSIE\s(\d+)\.\d/.exec(gi),
                        t = e && parseFloat(e[1]);
                    return !t && /Trident\/7.0/i.test(gi) && /rv:11.0/.test(gi) && (t = 11), t;
                })(),
                Ii = /Safari/i.test(gi) && !Ei && !Ti && !Ci,
                Pi = /Windows/i.test(gi),
                Oi = Ge() && ("ontouchstart" in r.a || r.a.navigator.maxTouchPoints || (r.a.DocumentTouch && r.a.document instanceof r.a.DocumentTouch)),
                Li = /iPad/i.test(gi) || (Ii && Oi && !/iPhone/i.test(gi)),
                Di = /iPhone/i.test(gi) && !Li,
                Ri = Di || Li || _i,
                Mi = (Ii || Ri) && !Ei,
                Ni = Object.freeze({
                    __proto__: null,
                    IS_IPOD: _i,
                    IOS_VERSION: bi,
                    IS_ANDROID: Ti,
                    ANDROID_VERSION: Si,
                    IS_NATIVE_ANDROID: wi,
                    IS_FIREFOX: ki,
                    IS_EDGE: Ci,
                    IS_CHROME: Ei,
                    CHROME_VERSION: xi,
                    IE_VERSION: Ai,
                    IS_SAFARI: Ii,
                    IS_WINDOWS: Pi,
                    TOUCH_ENABLED: Oi,
                    IS_IPAD: Li,
                    IS_IPHONE: Di,
                    IS_IOS: Ri,
                    IS_ANY_SAFARI: Mi,
                });
            function Ui(e, t, i, n) {
                return (
                    (function (e, t, i) {
                        if ("number" != typeof t || t < 0 || t > i) throw new Error("Failed to execute '" + e + "' on 'TimeRanges': The index provided (" + t + ") is non-numeric or out of bounds (0-" + i + ").");
                    })(e, n, i.length - 1),
                    i[n][t]
                );
            }
            function ji(e) {
                return void 0 === e || 0 === e.length
                    ? {
                          length: 0,
                          start: function () {
                              throw new Error("This TimeRanges object is empty");
                          },
                          end: function () {
                              throw new Error("This TimeRanges object is empty");
                          },
                      }
                    : { length: e.length, start: Ui.bind(null, "start", 0, e), end: Ui.bind(null, "end", 1, e) };
            }
            function Bi(e, t) {
                return Array.isArray(e) ? ji(e) : void 0 === e || void 0 === t ? ji() : ji([[e, t]]);
            }
            function Fi(e, t) {
                var i,
                    n,
                    r = 0;
                if (!t) return 0;
                (e && e.length) || (e = Bi(0, 0));
                for (var s = 0; s < e.length; s++) (i = e.start(s)), (n = e.end(s)) > t && (n = t), (r += n - i);
                return r / t;
            }
            for (
                var Hi,
                    qi = { prefixed: !0 },
                    Vi = [
                        ["requestFullscreen", "exitFullscreen", "fullscreenElement", "fullscreenEnabled", "fullscreenchange", "fullscreenerror", "fullscreen"],
                        ["webkitRequestFullscreen", "webkitExitFullscreen", "webkitFullscreenElement", "webkitFullscreenEnabled", "webkitfullscreenchange", "webkitfullscreenerror", "-webkit-full-screen"],
                        ["mozRequestFullScreen", "mozCancelFullScreen", "mozFullScreenElement", "mozFullScreenEnabled", "mozfullscreenchange", "mozfullscreenerror", "-moz-full-screen"],
                        ["msRequestFullscreen", "msExitFullscreen", "msFullscreenElement", "msFullscreenEnabled", "MSFullscreenChange", "MSFullscreenError", "-ms-fullscreen"],
                    ],
                    $i = Vi[0],
                    zi = 0;
                zi < Vi.length;
                zi++
            )
                if (Vi[zi][1] in a.a) {
                    Hi = Vi[zi];
                    break;
                }
            if (Hi) {
                for (var Wi = 0; Wi < Hi.length; Wi++) qi[$i[Wi]] = Hi[Wi];
                qi.prefixed = Hi[0] !== $i[0];
            }
            function Gi(e) {
                if (e instanceof Gi) return e;
                "number" == typeof e ? (this.code = e) : "string" == typeof e ? (this.message = e) : qe(e) && ("number" == typeof e.code && (this.code = e.code), He(this, e)),
                    this.message || (this.message = Gi.defaultMessages[this.code] || "");
            }
            (Gi.prototype.code = 0),
                (Gi.prototype.message = ""),
                (Gi.prototype.status = null),
                (Gi.errorTypes = ["MEDIA_ERR_CUSTOM", "MEDIA_ERR_ABORTED", "MEDIA_ERR_NETWORK", "MEDIA_ERR_DECODE", "MEDIA_ERR_SRC_NOT_SUPPORTED", "MEDIA_ERR_ENCRYPTED"]),
                (Gi.defaultMessages = {
                    1: "You aborted the media playback",
                    2: "A network error caused the media download to fail part-way.",
                    3: "The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",
                    4: "The media could not be loaded, either because the server or network failed or because the format is not supported.",
                    5: "The media is encrypted and we do not have the keys to decrypt it.",
                });
            for (var Yi = 0; Yi < Gi.errorTypes.length; Yi++) (Gi[Gi.errorTypes[Yi]] = Yi), (Gi.prototype[Gi.errorTypes[Yi]] = Yi);
            function Xi(e) {
                return null != e && "function" == typeof e.then;
            }
            function Ki(e) {
                Xi(e) && e.then(null, function () {});
            }
            var Qi = function (e) {
                    return ["kind", "label", "language", "id", "inBandMetadataTrackDispatchType", "mode", "src"].reduce(
                        function (t, i) {
                            return e[i] && (t[i] = e[i]), t;
                        },
                        {
                            cues:
                                e.cues &&
                                Array.prototype.map.call(e.cues, function (e) {
                                    return { startTime: e.startTime, endTime: e.endTime, text: e.text, id: e.id };
                                }),
                        }
                    );
                },
                Ji = function (e) {
                    var t = e.$$("track"),
                        i = Array.prototype.map.call(t, function (e) {
                            return e.track;
                        });
                    return Array.prototype.map
                        .call(t, function (e) {
                            var t = Qi(e.track);
                            return e.src && (t.src = e.src), t;
                        })
                        .concat(
                            Array.prototype.filter
                                .call(e.textTracks(), function (e) {
                                    return -1 === i.indexOf(e);
                                })
                                .map(Qi)
                        );
                },
                Zi = function (e, t) {
                    return (
                        e.forEach(function (e) {
                            var i = t.addRemoteTextTrack(e).track;
                            !e.src &&
                                e.cues &&
                                e.cues.forEach(function (e) {
                                    return i.addCue(e);
                                });
                        }),
                        t.textTracks()
                    );
                },
                en = (function (e) {
                    function t(t, i) {
                        var n;
                        return (
                            ((n = e.call(this, t, i) || this).opened_ = n.hasBeenOpened_ = n.hasBeenFilled_ = !1),
                            n.closeable(!n.options_.uncloseable),
                            n.content(n.options_.content),
                            (n.contentEl_ = Qe("div", { className: "vjs-modal-dialog-content" }, { role: "document" })),
                            (n.descEl_ = Qe("p", { className: "vjs-modal-dialog-description vjs-control-text", id: n.el().getAttribute("aria-describedby") })),
                            Je(n.descEl_, n.description()),
                            n.el_.appendChild(n.descEl_),
                            n.el_.appendChild(n.contentEl_),
                            n
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.createEl = function () {
                            return e.prototype.createEl.call(
                                this,
                                "div",
                                { className: this.buildCSSClass(), tabIndex: -1 },
                                { "aria-describedby": this.id() + "_description", "aria-hidden": "true", "aria-label": this.label(), role: "dialog" }
                            );
                        }),
                        (i.dispose = function () {
                            (this.contentEl_ = null), (this.descEl_ = null), (this.previouslyActiveEl_ = null), e.prototype.dispose.call(this);
                        }),
                        (i.buildCSSClass = function () {
                            return "vjs-modal-dialog vjs-hidden " + e.prototype.buildCSSClass.call(this);
                        }),
                        (i.label = function () {
                            return this.localize(this.options_.label || "Modal Window");
                        }),
                        (i.description = function () {
                            var e = this.options_.description || this.localize("This is a modal window.");
                            return this.closeable() && (e += " " + this.localize("This modal can be closed by pressing the Escape key or activating the close button.")), e;
                        }),
                        (i.open = function () {
                            if (!this.opened_) {
                                var e = this.player();
                                this.trigger("beforemodalopen"),
                                    (this.opened_ = !0),
                                    (this.options_.fillAlways || (!this.hasBeenOpened_ && !this.hasBeenFilled_)) && this.fill(),
                                    (this.wasPlaying_ = !e.paused()),
                                    this.options_.pauseOnOpen && this.wasPlaying_ && e.pause(),
                                    this.on("keydown", this.handleKeyDown),
                                    (this.hadControls_ = e.controls()),
                                    e.controls(!1),
                                    this.show(),
                                    this.conditionalFocus_(),
                                    this.el().setAttribute("aria-hidden", "false"),
                                    this.trigger("modalopen"),
                                    (this.hasBeenOpened_ = !0);
                            }
                        }),
                        (i.opened = function (e) {
                            return "boolean" == typeof e && this[e ? "open" : "close"](), this.opened_;
                        }),
                        (i.close = function () {
                            if (this.opened_) {
                                var e = this.player();
                                this.trigger("beforemodalclose"),
                                    (this.opened_ = !1),
                                    this.wasPlaying_ && this.options_.pauseOnOpen && e.play(),
                                    this.off("keydown", this.handleKeyDown),
                                    this.hadControls_ && e.controls(!0),
                                    this.hide(),
                                    this.el().setAttribute("aria-hidden", "true"),
                                    this.trigger("modalclose"),
                                    this.conditionalBlur_(),
                                    this.options_.temporary && this.dispose();
                            }
                        }),
                        (i.closeable = function (e) {
                            if ("boolean" == typeof e) {
                                var t = (this.closeable_ = !!e),
                                    i = this.getChild("closeButton");
                                if (t && !i) {
                                    var n = this.contentEl_;
                                    (this.contentEl_ = this.el_), (i = this.addChild("closeButton", { controlText: "Close Modal Dialog" })), (this.contentEl_ = n), this.on(i, "close", this.close);
                                }
                                !t && i && (this.off(i, "close", this.close), this.removeChild(i), i.dispose());
                            }
                            return this.closeable_;
                        }),
                        (i.fill = function () {
                            this.fillWith(this.content());
                        }),
                        (i.fillWith = function (e) {
                            var t = this.contentEl(),
                                i = t.parentNode,
                                n = t.nextSibling;
                            this.trigger("beforemodalfill"), (this.hasBeenFilled_ = !0), i.removeChild(t), this.empty(), yt(t, e), this.trigger("modalfill"), n ? i.insertBefore(t, n) : i.appendChild(t);
                            var r = this.getChild("closeButton");
                            r && i.appendChild(r.el_);
                        }),
                        (i.empty = function () {
                            this.trigger("beforemodalempty"), mt(this.contentEl()), this.trigger("modalempty");
                        }),
                        (i.content = function (e) {
                            return void 0 !== e && (this.content_ = e), this.content_;
                        }),
                        (i.conditionalFocus_ = function () {
                            var e = a.a.activeElement,
                                t = this.player_.el_;
                            (this.previouslyActiveEl_ = null), (t.contains(e) || t === e) && ((this.previouslyActiveEl_ = e), this.focus());
                        }),
                        (i.conditionalBlur_ = function () {
                            this.previouslyActiveEl_ && (this.previouslyActiveEl_.focus(), (this.previouslyActiveEl_ = null));
                        }),
                        (i.handleKeyDown = function (e) {
                            if ((e.stopPropagation(), g.a.isEventKey(e, "Escape") && this.closeable())) return e.preventDefault(), void this.close();
                            if (g.a.isEventKey(e, "Tab")) {
                                for (var t, i = this.focusableEls_(), n = this.el_.querySelector(":focus"), r = 0; r < i.length; r++)
                                    if (n === i[r]) {
                                        t = r;
                                        break;
                                    }
                                a.a.activeElement === this.el_ && (t = 0), e.shiftKey && 0 === t ? (i[i.length - 1].focus(), e.preventDefault()) : e.shiftKey || t !== i.length - 1 || (i[0].focus(), e.preventDefault());
                            }
                        }),
                        (i.focusableEls_ = function () {
                            var e = this.el_.querySelectorAll("*");
                            return Array.prototype.filter.call(e, function (e) {
                                return (
                                    ((e instanceof r.a.HTMLAnchorElement || e instanceof r.a.HTMLAreaElement) && e.hasAttribute("href")) ||
                                    ((e instanceof r.a.HTMLInputElement || e instanceof r.a.HTMLSelectElement || e instanceof r.a.HTMLTextAreaElement || e instanceof r.a.HTMLButtonElement) && !e.hasAttribute("disabled")) ||
                                    e instanceof r.a.HTMLIFrameElement ||
                                    e instanceof r.a.HTMLObjectElement ||
                                    e instanceof r.a.HTMLEmbedElement ||
                                    (e.hasAttribute("tabindex") && -1 !== e.getAttribute("tabindex")) ||
                                    e.hasAttribute("contenteditable")
                                );
                            });
                        }),
                        t
                    );
                })(fi);
            (en.prototype.options_ = { pauseOnOpen: !0, temporary: !0 }), fi.registerComponent("ModalDialog", en);
            var tn = (function (e) {
                function t(t) {
                    var i;
                    void 0 === t && (t = []),
                        ((i = e.call(this) || this).tracks_ = []),
                        Object.defineProperty(c()(i), "length", {
                            get: function () {
                                return this.tracks_.length;
                            },
                        });
                    for (var n = 0; n < t.length; n++) i.addTrack(t[n]);
                    return i;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.addTrack = function (e) {
                        var t = this.tracks_.length;
                        "" + t in this ||
                            Object.defineProperty(this, t, {
                                get: function () {
                                    return this.tracks_[t];
                                },
                            }),
                            -1 === this.tracks_.indexOf(e) && (this.tracks_.push(e), this.trigger({ track: e, type: "addtrack", target: this }));
                    }),
                    (i.removeTrack = function (e) {
                        for (var t, i = 0, n = this.length; i < n; i++)
                            if (this[i] === e) {
                                (t = this[i]).off && t.off(), this.tracks_.splice(i, 1);
                                break;
                            }
                        t && this.trigger({ track: t, type: "removetrack", target: this });
                    }),
                    (i.getTrackById = function (e) {
                        for (var t = null, i = 0, n = this.length; i < n; i++) {
                            var r = this[i];
                            if (r.id === e) {
                                t = r;
                                break;
                            }
                        }
                        return t;
                    }),
                    t
                );
            })(Xt);
            for (var nn in ((tn.prototype.allowedEvents_ = { change: "change", addtrack: "addtrack", removetrack: "removetrack" }), tn.prototype.allowedEvents_)) tn.prototype["on" + nn] = null;
            var rn = function (e, t) {
                    for (var i = 0; i < e.length; i++) Object.keys(e[i]).length && t.id !== e[i].id && (e[i].enabled = !1);
                },
                sn = (function (e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = []);
                        for (var n = t.length - 1; n >= 0; n--)
                            if (t[n].enabled) {
                                rn(t, t[n]);
                                break;
                            }
                        return ((i = e.call(this, t) || this).changing_ = !1), i;
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.addTrack = function (t) {
                            var i = this;
                            t.enabled && rn(this, t),
                                e.prototype.addTrack.call(this, t),
                                t.addEventListener &&
                                    ((t.enabledChange_ = function () {
                                        i.changing_ || ((i.changing_ = !0), rn(i, t), (i.changing_ = !1), i.trigger("change"));
                                    }),
                                    t.addEventListener("enabledchange", t.enabledChange_));
                        }),
                        (i.removeTrack = function (t) {
                            e.prototype.removeTrack.call(this, t), t.removeEventListener && t.enabledChange_ && (t.removeEventListener("enabledchange", t.enabledChange_), (t.enabledChange_ = null));
                        }),
                        t
                    );
                })(tn),
                an = function (e, t) {
                    for (var i = 0; i < e.length; i++) Object.keys(e[i]).length && t.id !== e[i].id && (e[i].selected = !1);
                },
                on = (function (e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = []);
                        for (var n = t.length - 1; n >= 0; n--)
                            if (t[n].selected) {
                                an(t, t[n]);
                                break;
                            }
                        return (
                            ((i = e.call(this, t) || this).changing_ = !1),
                            Object.defineProperty(c()(i), "selectedIndex", {
                                get: function () {
                                    for (var e = 0; e < this.length; e++) if (this[e].selected) return e;
                                    return -1;
                                },
                                set: function () {},
                            }),
                            i
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.addTrack = function (t) {
                            var i = this;
                            t.selected && an(this, t),
                                e.prototype.addTrack.call(this, t),
                                t.addEventListener &&
                                    ((t.selectedChange_ = function () {
                                        i.changing_ || ((i.changing_ = !0), an(i, t), (i.changing_ = !1), i.trigger("change"));
                                    }),
                                    t.addEventListener("selectedchange", t.selectedChange_));
                        }),
                        (i.removeTrack = function (t) {
                            e.prototype.removeTrack.call(this, t), t.removeEventListener && t.selectedChange_ && (t.removeEventListener("selectedchange", t.selectedChange_), (t.selectedChange_ = null));
                        }),
                        t
                    );
                })(tn),
                ln = (function (e) {
                    function t() {
                        return e.apply(this, arguments) || this;
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.addTrack = function (t) {
                            var i = this;
                            e.prototype.addTrack.call(this, t),
                                this.queueChange_ ||
                                    (this.queueChange_ = function () {
                                        return i.queueTrigger("change");
                                    }),
                                this.triggerSelectedlanguagechange ||
                                    (this.triggerSelectedlanguagechange_ = function () {
                                        return i.trigger("selectedlanguagechange");
                                    }),
                                t.addEventListener("modechange", this.queueChange_);
                            -1 === ["metadata", "chapters"].indexOf(t.kind) && t.addEventListener("modechange", this.triggerSelectedlanguagechange_);
                        }),
                        (i.removeTrack = function (t) {
                            e.prototype.removeTrack.call(this, t),
                                t.removeEventListener &&
                                    (this.queueChange_ && t.removeEventListener("modechange", this.queueChange_), this.selectedlanguagechange_ && t.removeEventListener("modechange", this.triggerSelectedlanguagechange_));
                        }),
                        t
                    );
                })(tn),
                un = (function () {
                    function e(e) {
                        void 0 === e && (e = []),
                            (this.trackElements_ = []),
                            Object.defineProperty(this, "length", {
                                get: function () {
                                    return this.trackElements_.length;
                                },
                            });
                        for (var t = 0, i = e.length; t < i; t++) this.addTrackElement_(e[t]);
                    }
                    var t = e.prototype;
                    return (
                        (t.addTrackElement_ = function (e) {
                            var t = this.trackElements_.length;
                            "" + t in this ||
                                Object.defineProperty(this, t, {
                                    get: function () {
                                        return this.trackElements_[t];
                                    },
                                }),
                                -1 === this.trackElements_.indexOf(e) && this.trackElements_.push(e);
                        }),
                        (t.getTrackElementByTrack_ = function (e) {
                            for (var t, i = 0, n = this.trackElements_.length; i < n; i++)
                                if (e === this.trackElements_[i].track) {
                                    t = this.trackElements_[i];
                                    break;
                                }
                            return t;
                        }),
                        (t.removeTrackElement_ = function (e) {
                            for (var t = 0, i = this.trackElements_.length; t < i; t++)
                                if (e === this.trackElements_[t]) {
                                    this.trackElements_[t].track && "function" == typeof this.trackElements_[t].track.off && this.trackElements_[t].track.off(),
                                        "function" == typeof this.trackElements_[t].off && this.trackElements_[t].off(),
                                        this.trackElements_.splice(t, 1);
                                    break;
                                }
                        }),
                        e
                    );
                })(),
                cn = (function () {
                    function e(t) {
                        e.prototype.setCues_.call(this, t),
                            Object.defineProperty(this, "length", {
                                get: function () {
                                    return this.length_;
                                },
                            });
                    }
                    var t = e.prototype;
                    return (
                        (t.setCues_ = function (e) {
                            var t = this.length || 0,
                                i = 0,
                                n = e.length;
                            (this.cues_ = e), (this.length_ = e.length);
                            var r = function (e) {
                                "" + e in this ||
                                    Object.defineProperty(this, "" + e, {
                                        get: function () {
                                            return this.cues_[e];
                                        },
                                    });
                            };
                            if (t < n) for (i = t; i < n; i++) r.call(this, i);
                        }),
                        (t.getCueById = function (e) {
                            for (var t = null, i = 0, n = this.length; i < n; i++) {
                                var r = this[i];
                                if (r.id === e) {
                                    t = r;
                                    break;
                                }
                            }
                            return t;
                        }),
                        e
                    );
                })(),
                dn = { alternative: "alternative", captions: "captions", main: "main", sign: "sign", subtitles: "subtitles", commentary: "commentary" },
                hn = { alternative: "alternative", descriptions: "descriptions", main: "main", "main-desc": "main-desc", translation: "translation", commentary: "commentary" },
                pn = { subtitles: "subtitles", captions: "captions", descriptions: "descriptions", chapters: "chapters", metadata: "metadata" },
                fn = { disabled: "disabled", hidden: "hidden", showing: "showing" },
                mn = (function (e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = {}), (i = e.call(this) || this);
                        var n = { id: t.id || "vjs_track_" + Lt(), kind: t.kind || "", label: t.label || "", language: t.language || "" },
                            r = function (e) {
                                Object.defineProperty(c()(i), e, {
                                    get: function () {
                                        return n[e];
                                    },
                                    set: function () {},
                                });
                            };
                        for (var s in n) r(s);
                        return i;
                    }
                    return h()(t, e), t;
                })(Xt),
                gn = function (e) {
                    var t = ["protocol", "hostname", "port", "pathname", "search", "hash", "host"],
                        i = a.a.createElement("a");
                    i.href = e;
                    var n,
                        s = "" === i.host && "file:" !== i.protocol;
                    s && (((n = a.a.createElement("div")).innerHTML = '<a href="' + e + '"></a>'), (i = n.firstChild), n.setAttribute("style", "display:none; position:absolute;"), a.a.body.appendChild(n));
                    for (var o = {}, l = 0; l < t.length; l++) o[t[l]] = i[t[l]];
                    return (
                        "http:" === o.protocol && (o.host = o.host.replace(/:80$/, "")), "https:" === o.protocol && (o.host = o.host.replace(/:443$/, "")), o.protocol || (o.protocol = r.a.location.protocol), s && a.a.body.removeChild(n), o
                    );
                },
                vn = function (e) {
                    if (!e.match(/^https?:\/\//)) {
                        var t = a.a.createElement("div");
                        (t.innerHTML = '<a href="' + e + '">x</a>'), (e = t.firstChild.href);
                    }
                    return e;
                },
                yn = function (e) {
                    if ("string" == typeof e) {
                        var t = /^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(e);
                        if (t) return t.pop().toLowerCase();
                    }
                    return "";
                },
                _n = function (e, t) {
                    void 0 === t && (t = r.a.location);
                    var i = gn(e);
                    return (":" === i.protocol ? t.protocol : i.protocol) + i.host !== t.protocol + t.host;
                },
                bn = Object.freeze({ __proto__: null, parseUrl: gn, getAbsoluteURL: vn, getFileExtension: yn, isCrossOrigin: _n }),
                Tn = function (e, t) {
                    var i = new r.a.WebVTT.Parser(r.a, r.a.vttjs, r.a.WebVTT.StringDecoder()),
                        n = [];
                    (i.oncue = function (e) {
                        t.addCue(e);
                    }),
                        (i.onparsingerror = function (e) {
                            n.push(e);
                        }),
                        (i.onflush = function () {
                            t.trigger({ type: "loadeddata", target: t });
                        }),
                        i.parse(e),
                        n.length > 0 &&
                            (r.a.console && r.a.console.groupCollapsed && r.a.console.groupCollapsed("Text Track parsing errors for " + t.src),
                            n.forEach(function (e) {
                                return Ne.error(e);
                            }),
                            r.a.console && r.a.console.groupEnd && r.a.console.groupEnd()),
                        i.flush();
                },
                Sn = function (e, t) {
                    var i = { uri: e },
                        n = _n(e);
                    n && (i.cors = n);
                    var s = "use-credentials" === t.tech_.crossOrigin();
                    s && (i.withCredentials = s),
                        y()(
                            i,
                            Gt(this, function (e, i, n) {
                                if (e) return Ne.error(e, i);
                                (t.loaded_ = !0),
                                    "function" != typeof r.a.WebVTT
                                        ? t.tech_ &&
                                          t.tech_.any(["vttjsloaded", "vttjserror"], function (e) {
                                              if ("vttjserror" !== e.type) return Tn(n, t);
                                              Ne.error("vttjs failed to load, stopping trying to process " + t.src);
                                          })
                                        : Tn(n, t);
                            })
                        );
                },
                wn = (function (e) {
                    function t(t) {
                        var i;
                        if ((void 0 === t && (t = {}), !t.tech)) throw new Error("A tech was not provided.");
                        var n = ui(t, { kind: pn[t.kind] || "subtitles", language: t.language || t.srclang || "" }),
                            r = fn[n.mode] || "disabled",
                            s = n.default;
                        ("metadata" !== n.kind && "chapters" !== n.kind) || (r = "hidden"), ((i = e.call(this, n) || this).tech_ = n.tech), (i.cues_ = []), (i.activeCues_ = []), (i.preload_ = !1 !== i.tech_.preloadTextTracks);
                        var a = new cn(i.cues_),
                            o = new cn(i.activeCues_),
                            l = !1,
                            u = Gt(c()(i), function () {
                                (this.activeCues = this.activeCues), l && (this.trigger("cuechange"), (l = !1));
                            });
                        return (
                            "disabled" !== r &&
                                i.tech_.ready(function () {
                                    i.tech_.on("timeupdate", u);
                                }, !0),
                            Object.defineProperties(c()(i), {
                                default: {
                                    get: function () {
                                        return s;
                                    },
                                    set: function () {},
                                },
                                mode: {
                                    get: function () {
                                        return r;
                                    },
                                    set: function (e) {
                                        var t = this;
                                        fn[e] &&
                                            ((r = e),
                                            this.preload_ || "disabled" === r || 0 !== this.cues.length || Sn(this.src, this),
                                            "disabled" !== r
                                                ? this.tech_.ready(function () {
                                                      t.tech_.on("timeupdate", u);
                                                  }, !0)
                                                : this.tech_.off("timeupdate", u),
                                            this.trigger("modechange"));
                                    },
                                },
                                cues: {
                                    get: function () {
                                        return this.loaded_ ? a : null;
                                    },
                                    set: function () {},
                                },
                                activeCues: {
                                    get: function () {
                                        if (!this.loaded_) return null;
                                        if (0 === this.cues.length) return o;
                                        for (var e = this.tech_.currentTime(), t = [], i = 0, n = this.cues.length; i < n; i++) {
                                            var r = this.cues[i];
                                            ((r.startTime <= e && r.endTime >= e) || (r.startTime === r.endTime && r.startTime <= e && r.startTime + 0.5 >= e)) && t.push(r);
                                        }
                                        if (((l = !1), t.length !== this.activeCues_.length)) l = !0;
                                        else for (var s = 0; s < t.length; s++) -1 === this.activeCues_.indexOf(t[s]) && (l = !0);
                                        return (this.activeCues_ = t), o.setCues_(this.activeCues_), o;
                                    },
                                    set: function () {},
                                },
                            }),
                            n.src ? ((i.src = n.src), i.preload_ || (i.loaded_ = !0), (i.preload_ || s || ("subtitles" !== n.kind && "captions" !== n.kind)) && Sn(i.src, c()(i))) : (i.loaded_ = !0),
                            i
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.addCue = function (e) {
                            var t = e;
                            if (r.a.vttjs && !(e instanceof r.a.vttjs.VTTCue)) {
                                for (var i in ((t = new r.a.vttjs.VTTCue(e.startTime, e.endTime, e.text)), e)) i in t || (t[i] = e[i]);
                                (t.id = e.id), (t.originalCue_ = e);
                            }
                            for (var n = this.tech_.textTracks(), s = 0; s < n.length; s++) n[s] !== this && n[s].removeCue(t);
                            this.cues_.push(t), this.cues.setCues_(this.cues_);
                        }),
                        (i.removeCue = function (e) {
                            for (var t = this.cues_.length; t--; ) {
                                var i = this.cues_[t];
                                if (i === e || (i.originalCue_ && i.originalCue_ === e)) {
                                    this.cues_.splice(t, 1), this.cues.setCues_(this.cues_);
                                    break;
                                }
                            }
                        }),
                        t
                    );
                })(mn);
            wn.prototype.allowedEvents_ = { cuechange: "cuechange" };
            var kn = (function (e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = {});
                        var n = ui(t, { kind: hn[t.kind] || "" });
                        i = e.call(this, n) || this;
                        var r = !1;
                        return (
                            Object.defineProperty(c()(i), "enabled", {
                                get: function () {
                                    return r;
                                },
                                set: function (e) {
                                    "boolean" == typeof e && e !== r && ((r = e), this.trigger("enabledchange"));
                                },
                            }),
                            n.enabled && (i.enabled = n.enabled),
                            (i.loaded_ = !0),
                            i
                        );
                    }
                    return h()(t, e), t;
                })(mn),
                Cn = (function (e) {
                    function t(t) {
                        var i;
                        void 0 === t && (t = {});
                        var n = ui(t, { kind: dn[t.kind] || "" });
                        i = e.call(this, n) || this;
                        var r = !1;
                        return (
                            Object.defineProperty(c()(i), "selected", {
                                get: function () {
                                    return r;
                                },
                                set: function (e) {
                                    "boolean" == typeof e && e !== r && ((r = e), this.trigger("selectedchange"));
                                },
                            }),
                            n.selected && (i.selected = n.selected),
                            i
                        );
                    }
                    return h()(t, e), t;
                })(mn),
                En = (function (e) {
                    function t(t) {
                        var i, n;
                        void 0 === t && (t = {}), (i = e.call(this) || this);
                        var r = new wn(t);
                        return (
                            (i.kind = r.kind),
                            (i.src = r.src),
                            (i.srclang = r.language),
                            (i.label = r.label),
                            (i.default = r.default),
                            Object.defineProperties(c()(i), {
                                readyState: {
                                    get: function () {
                                        return n;
                                    },
                                },
                                track: {
                                    get: function () {
                                        return r;
                                    },
                                },
                            }),
                            (n = 0),
                            r.addEventListener("loadeddata", function () {
                                (n = 2), i.trigger({ type: "load", target: c()(i) });
                            }),
                            i
                        );
                    }
                    return h()(t, e), t;
                })(Xt);
            (En.prototype.allowedEvents_ = { load: "load" }), (En.NONE = 0), (En.LOADING = 1), (En.LOADED = 2), (En.ERROR = 3);
            var xn = { audio: { ListClass: sn, TrackClass: kn, capitalName: "Audio" }, video: { ListClass: on, TrackClass: Cn, capitalName: "Video" }, text: { ListClass: ln, TrackClass: wn, capitalName: "Text" } };
            Object.keys(xn).forEach(function (e) {
                (xn[e].getterName = e + "Tracks"), (xn[e].privateName = e + "Tracks_");
            });
            var An = {
                    remoteText: { ListClass: ln, TrackClass: wn, capitalName: "RemoteText", getterName: "remoteTextTracks", privateName: "remoteTextTracks_" },
                    remoteTextEl: { ListClass: un, TrackClass: En, capitalName: "RemoteTextTrackEls", getterName: "remoteTextTrackEls", privateName: "remoteTextTrackEls_" },
                },
                In = l()({}, xn, An);
            (An.names = Object.keys(An)), (xn.names = Object.keys(xn)), (In.names = [].concat(An.names).concat(xn.names));
            var Pn = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        void 0 === t && (t = {}),
                        void 0 === i && (i = function () {}),
                        (t.reportTouchActivity = !1),
                        ((n = e.call(this, null, t, i) || this).hasStarted_ = !1),
                        n.on("playing", function () {
                            this.hasStarted_ = !0;
                        }),
                        n.on("loadstart", function () {
                            this.hasStarted_ = !1;
                        }),
                        In.names.forEach(function (e) {
                            var i = In[e];
                            t && t[i.getterName] && (n[i.privateName] = t[i.getterName]);
                        }),
                        n.featuresProgressEvents || n.manualProgressOn(),
                        n.featuresTimeupdateEvents || n.manualTimeUpdatesOn(),
                        ["Text", "Audio", "Video"].forEach(function (e) {
                            !1 === t["native" + e + "Tracks"] && (n["featuresNative" + e + "Tracks"] = !1);
                        }),
                        !1 === t.nativeCaptions || !1 === t.nativeTextTracks ? (n.featuresNativeTextTracks = !1) : (!0 !== t.nativeCaptions && !0 !== t.nativeTextTracks) || (n.featuresNativeTextTracks = !0),
                        n.featuresNativeTextTracks || n.emulateTextTracks(),
                        (n.preloadTextTracks = !1 !== t.preloadTextTracks),
                        (n.autoRemoteTextTracks_ = new In.text.ListClass()),
                        n.initTrackListeners(),
                        t.nativeControlsForTouch || n.emitTapEvents(),
                        n.constructor && (n.name_ = n.constructor.name || "Unknown Tech"),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.triggerSourceset = function (e) {
                        var t = this;
                        this.isReady_ ||
                            this.one("ready", function () {
                                return t.setTimeout(function () {
                                    return t.triggerSourceset(e);
                                }, 1);
                            }),
                            this.trigger({ src: e, type: "sourceset" });
                    }),
                    (i.manualProgressOn = function () {
                        this.on("durationchange", this.onDurationChange), (this.manualProgress = !0), this.one("ready", this.trackProgress);
                    }),
                    (i.manualProgressOff = function () {
                        (this.manualProgress = !1), this.stopTrackingProgress(), this.off("durationchange", this.onDurationChange);
                    }),
                    (i.trackProgress = function () {
                        this.stopTrackingProgress(),
                            (this.progressInterval = this.setInterval(
                                Gt(this, function () {
                                    var e = this.bufferedPercent();
                                    this.bufferedPercent_ !== e && this.trigger("progress"), (this.bufferedPercent_ = e), 1 === e && this.stopTrackingProgress();
                                }),
                                500
                            ));
                    }),
                    (i.onDurationChange = function () {
                        this.duration_ = this.duration();
                    }),
                    (i.buffered = function () {
                        return Bi(0, 0);
                    }),
                    (i.bufferedPercent = function () {
                        return Fi(this.buffered(), this.duration_);
                    }),
                    (i.stopTrackingProgress = function () {
                        this.clearInterval(this.progressInterval);
                    }),
                    (i.manualTimeUpdatesOn = function () {
                        (this.manualTimeUpdates = !0), this.on("play", this.trackCurrentTime), this.on("pause", this.stopTrackingCurrentTime);
                    }),
                    (i.manualTimeUpdatesOff = function () {
                        (this.manualTimeUpdates = !1), this.stopTrackingCurrentTime(), this.off("play", this.trackCurrentTime), this.off("pause", this.stopTrackingCurrentTime);
                    }),
                    (i.trackCurrentTime = function () {
                        this.currentTimeInterval && this.stopTrackingCurrentTime(),
                            (this.currentTimeInterval = this.setInterval(function () {
                                this.trigger({ type: "timeupdate", target: this, manuallyTriggered: !0 });
                            }, 250));
                    }),
                    (i.stopTrackingCurrentTime = function () {
                        this.clearInterval(this.currentTimeInterval), this.trigger({ type: "timeupdate", target: this, manuallyTriggered: !0 });
                    }),
                    (i.dispose = function () {
                        this.clearTracks(xn.names), this.manualProgress && this.manualProgressOff(), this.manualTimeUpdates && this.manualTimeUpdatesOff(), e.prototype.dispose.call(this);
                    }),
                    (i.clearTracks = function (e) {
                        var t = this;
                        (e = [].concat(e)).forEach(function (e) {
                            for (var i = t[e + "Tracks"]() || [], n = i.length; n--; ) {
                                var r = i[n];
                                "text" === e && t.removeRemoteTextTrack(r), i.removeTrack(r);
                            }
                        });
                    }),
                    (i.cleanupAutoTextTracks = function () {
                        for (var e = this.autoRemoteTextTracks_ || [], t = e.length; t--; ) {
                            var i = e[t];
                            this.removeRemoteTextTrack(i);
                        }
                    }),
                    (i.reset = function () {}),
                    (i.crossOrigin = function () {}),
                    (i.setCrossOrigin = function () {}),
                    (i.error = function (e) {
                        return void 0 !== e && ((this.error_ = new Gi(e)), this.trigger("error")), this.error_;
                    }),
                    (i.played = function () {
                        return this.hasStarted_ ? Bi(0, 0) : Bi();
                    }),
                    (i.setScrubbing = function () {}),
                    (i.setCurrentTime = function () {
                        this.manualTimeUpdates && this.trigger({ type: "timeupdate", target: this, manuallyTriggered: !0 });
                    }),
                    (i.initTrackListeners = function () {
                        var e = this;
                        xn.names.forEach(function (t) {
                            var i = xn[t],
                                n = function () {
                                    e.trigger(t + "trackchange");
                                },
                                r = e[i.getterName]();
                            r.addEventListener("removetrack", n),
                                r.addEventListener("addtrack", n),
                                e.on("dispose", function () {
                                    r.removeEventListener("removetrack", n), r.removeEventListener("addtrack", n);
                                });
                        });
                    }),
                    (i.addWebVttScript_ = function () {
                        var e = this;
                        if (!r.a.WebVTT)
                            if (a.a.body.contains(this.el())) {
                                if (!this.options_["vtt.js"] && Ve(b.a) && Object.keys(b.a).length > 0) return void this.trigger("vttjsloaded");
                                var t = a.a.createElement("script");
                                (t.src = this.options_["vtt.js"] || "https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js"),
                                    (t.onload = function () {
                                        e.trigger("vttjsloaded");
                                    }),
                                    (t.onerror = function () {
                                        e.trigger("vttjserror");
                                    }),
                                    this.on("dispose", function () {
                                        (t.onload = null), (t.onerror = null);
                                    }),
                                    (r.a.WebVTT = !0),
                                    this.el().parentNode.appendChild(t);
                            } else this.ready(this.addWebVttScript_);
                    }),
                    (i.emulateTextTracks = function () {
                        var e = this,
                            t = this.textTracks(),
                            i = this.remoteTextTracks(),
                            n = function (e) {
                                return t.addTrack(e.track);
                            },
                            r = function (e) {
                                return t.removeTrack(e.track);
                            };
                        i.on("addtrack", n), i.on("removetrack", r), this.addWebVttScript_();
                        var s = function () {
                                return e.trigger("texttrackchange");
                            },
                            a = function () {
                                s();
                                for (var e = 0; e < t.length; e++) {
                                    var i = t[e];
                                    i.removeEventListener("cuechange", s), "showing" === i.mode && i.addEventListener("cuechange", s);
                                }
                            };
                        a(),
                            t.addEventListener("change", a),
                            t.addEventListener("addtrack", a),
                            t.addEventListener("removetrack", a),
                            this.on("dispose", function () {
                                i.off("addtrack", n), i.off("removetrack", r), t.removeEventListener("change", a), t.removeEventListener("addtrack", a), t.removeEventListener("removetrack", a);
                                for (var e = 0; e < t.length; e++) {
                                    t[e].removeEventListener("cuechange", s);
                                }
                            });
                    }),
                    (i.addTextTrack = function (e, t, i) {
                        if (!e) throw new Error("TextTrack kind is required but was not provided");
                        return (function (e, t, i, n, r) {
                            void 0 === r && (r = {});
                            var s = e.textTracks();
                            (r.kind = t), i && (r.label = i), n && (r.language = n), (r.tech = e);
                            var a = new In.text.TrackClass(r);
                            return s.addTrack(a), a;
                        })(this, e, t, i);
                    }),
                    (i.createRemoteTextTrack = function (e) {
                        var t = ui(e, { tech: this });
                        return new An.remoteTextEl.TrackClass(t);
                    }),
                    (i.addRemoteTextTrack = function (e, t) {
                        var i = this;
                        void 0 === e && (e = {});
                        var n = this.createRemoteTextTrack(e);
                        return (
                            !0 !== t && !1 !== t && (Ne.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'), (t = !0)),
                            this.remoteTextTrackEls().addTrackElement_(n),
                            this.remoteTextTracks().addTrack(n.track),
                            !0 !== t &&
                                this.ready(function () {
                                    return i.autoRemoteTextTracks_.addTrack(n.track);
                                }),
                            n
                        );
                    }),
                    (i.removeRemoteTextTrack = function (e) {
                        var t = this.remoteTextTrackEls().getTrackElementByTrack_(e);
                        this.remoteTextTrackEls().removeTrackElement_(t), this.remoteTextTracks().removeTrack(e), this.autoRemoteTextTracks_.removeTrack(e);
                    }),
                    (i.getVideoPlaybackQuality = function () {
                        return {};
                    }),
                    (i.requestPictureInPicture = function () {
                        var e = this.options_.Promise || r.a.Promise;
                        if (e) return e.reject();
                    }),
                    (i.disablePictureInPicture = function () {
                        return !0;
                    }),
                    (i.setDisablePictureInPicture = function () {}),
                    (i.setPoster = function () {}),
                    (i.playsinline = function () {}),
                    (i.setPlaysinline = function () {}),
                    (i.overrideNativeAudioTracks = function () {}),
                    (i.overrideNativeVideoTracks = function () {}),
                    (i.canPlayType = function () {
                        return "";
                    }),
                    (t.canPlayType = function () {
                        return "";
                    }),
                    (t.canPlaySource = function (e) {
                        return t.canPlayType(e.type);
                    }),
                    (t.isTech = function (e) {
                        return e.prototype instanceof t || e instanceof t || e === t;
                    }),
                    (t.registerTech = function (e, i) {
                        if ((t.techs_ || (t.techs_ = {}), !t.isTech(i))) throw new Error("Tech " + e + " must be a Tech");
                        if (!t.canPlayType) throw new Error("Techs must have a static canPlayType method on them");
                        if (!t.canPlaySource) throw new Error("Techs must have a static canPlaySource method on them");
                        return (e = li(e)), (t.techs_[e] = i), (t.techs_[oi(e)] = i), "Tech" !== e && t.defaultTechOrder_.push(e), i;
                    }),
                    (t.getTech = function (e) {
                        if (e)
                            return t.techs_ && t.techs_[e]
                                ? t.techs_[e]
                                : ((e = li(e)),
                                  r.a && r.a.videojs && r.a.videojs[e] ? (Ne.warn("The " + e + " tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"), r.a.videojs[e]) : void 0);
                    }),
                    t
                );
            })(fi);
            In.names.forEach(function (e) {
                var t = In[e];
                Pn.prototype[t.getterName] = function () {
                    return (this[t.privateName] = this[t.privateName] || new t.ListClass()), this[t.privateName];
                };
            }),
                (Pn.prototype.featuresVolumeControl = !0),
                (Pn.prototype.featuresMuteControl = !0),
                (Pn.prototype.featuresFullscreenResize = !1),
                (Pn.prototype.featuresPlaybackRate = !1),
                (Pn.prototype.featuresProgressEvents = !1),
                (Pn.prototype.featuresSourceset = !1),
                (Pn.prototype.featuresTimeupdateEvents = !1),
                (Pn.prototype.featuresNativeTextTracks = !1),
                (Pn.withSourceHandlers = function (e) {
                    (e.registerSourceHandler = function (t, i) {
                        var n = e.sourceHandlers;
                        n || (n = e.sourceHandlers = []), void 0 === i && (i = n.length), n.splice(i, 0, t);
                    }),
                        (e.canPlayType = function (t) {
                            for (var i, n = e.sourceHandlers || [], r = 0; r < n.length; r++) if ((i = n[r].canPlayType(t))) return i;
                            return "";
                        }),
                        (e.selectSourceHandler = function (t, i) {
                            for (var n = e.sourceHandlers || [], r = 0; r < n.length; r++) if (n[r].canHandleSource(t, i)) return n[r];
                            return null;
                        }),
                        (e.canPlaySource = function (t, i) {
                            var n = e.selectSourceHandler(t, i);
                            return n ? n.canHandleSource(t, i) : "";
                        });
                    ["seekable", "seeking", "duration"].forEach(function (e) {
                        var t = this[e];
                        "function" == typeof t &&
                            (this[e] = function () {
                                return this.sourceHandler_ && this.sourceHandler_[e] ? this.sourceHandler_[e].apply(this.sourceHandler_, arguments) : t.apply(this, arguments);
                            });
                    }, e.prototype),
                        (e.prototype.setSource = function (t) {
                            var i = e.selectSourceHandler(t, this.options_);
                            i || (e.nativeSourceHandler ? (i = e.nativeSourceHandler) : Ne.error("No source handler found for the current source.")),
                                this.disposeSourceHandler(),
                                this.off("dispose", this.disposeSourceHandler),
                                i !== e.nativeSourceHandler && (this.currentSource_ = t),
                                (this.sourceHandler_ = i.handleSource(t, this, this.options_)),
                                this.one("dispose", this.disposeSourceHandler);
                        }),
                        (e.prototype.disposeSourceHandler = function () {
                            this.currentSource_ && (this.clearTracks(["audio", "video"]), (this.currentSource_ = null)),
                                this.cleanupAutoTextTracks(),
                                this.sourceHandler_ && (this.sourceHandler_.dispose && this.sourceHandler_.dispose(), (this.sourceHandler_ = null));
                        });
                }),
                fi.registerComponent("Tech", Pn),
                Pn.registerTech("Tech", Pn),
                (Pn.defaultTechOrder_ = []);
            var On = {},
                Ln = {},
                Dn = {};
            function Rn(e, t, i) {
                e.setTimeout(function () {
                    return Fn(t, On[t.type], i, e);
                }, 1);
            }
            function Mn(e, t, i, n) {
                void 0 === n && (n = null);
                var r = "call" + li(i),
                    s = e.reduce(Bn(r), n),
                    a = s === Dn,
                    o = a ? null : t[i](s);
                return (
                    (function (e, t, i, n) {
                        for (var r = e.length - 1; r >= 0; r--) {
                            var s = e[r];
                            s[t] && s[t](n, i);
                        }
                    })(e, i, o, a),
                    o
                );
            }
            var Nn = { buffered: 1, currentTime: 1, duration: 1, muted: 1, played: 1, paused: 1, seekable: 1, volume: 1 },
                Un = { setCurrentTime: 1, setMuted: 1, setVolume: 1 },
                jn = { play: 1, pause: 1 };
            function Bn(e) {
                return function (t, i) {
                    return t === Dn ? Dn : i[e] ? i[e](t) : t;
                };
            }
            function Fn(e, t, i, n, r, s) {
                void 0 === e && (e = {}), void 0 === t && (t = []), void 0 === r && (r = []), void 0 === s && (s = !1);
                var a = t,
                    o = a[0],
                    l = a.slice(1);
                if ("string" == typeof o) Fn(e, On[o], i, n, r, s);
                else if (o) {
                    var u = (function (e, t) {
                        var i = Ln[e.id()],
                            n = null;
                        if (null == i) return (n = t(e)), (Ln[e.id()] = [[t, n]]), n;
                        for (var r = 0; r < i.length; r++) {
                            var s = i[r],
                                a = s[0],
                                o = s[1];
                            a === t && (n = o);
                        }
                        return null === n && ((n = t(e)), i.push([t, n])), n;
                    })(n, o);
                    if (!u.setSource) return r.push(u), Fn(e, l, i, n, r, s);
                    u.setSource(He({}, e), function (t, a) {
                        if (t) return Fn(e, l, i, n, r, s);
                        r.push(u), Fn(a, e.type === a.type ? l : On[a.type], i, n, r, s);
                    });
                } else l.length ? Fn(e, l, i, n, r, s) : s ? i(e, r) : Fn(e, On["*"], i, n, r, !0);
            }
            var Hn = {
                    opus: "video/ogg",
                    ogv: "video/ogg",
                    mp4: "video/mp4",
                    mov: "video/mp4",
                    m4v: "video/mp4",
                    mkv: "video/x-matroska",
                    m4a: "audio/mp4",
                    mp3: "audio/mpeg",
                    aac: "audio/aac",
                    caf: "audio/x-caf",
                    flac: "audio/flac",
                    oga: "audio/ogg",
                    wav: "audio/wav",
                    m3u8: "application/x-mpegURL",
                    jpg: "image/jpeg",
                    jpeg: "image/jpeg",
                    gif: "image/gif",
                    png: "image/png",
                    svg: "image/svg+xml",
                    webp: "image/webp",
                },
                qn = function (e) {
                    void 0 === e && (e = "");
                    var t = yn(e);
                    return Hn[t.toLowerCase()] || "";
                },
                Vn = function e(t) {
                    if (Array.isArray(t)) {
                        var i = [];
                        t.forEach(function (t) {
                            (t = e(t)), Array.isArray(t) ? (i = i.concat(t)) : qe(t) && i.push(t);
                        }),
                            (t = i);
                    } else t = "string" == typeof t && t.trim() ? [$n({ src: t })] : qe(t) && "string" == typeof t.src && t.src && t.src.trim() ? [$n(t)] : [];
                    return t;
                };
            function $n(e) {
                if (!e.type) {
                    var t = qn(e.src);
                    t && (e.type = t);
                }
                return e;
            }
            var zn = (function (e) {
                function t(t, i, n) {
                    var r,
                        s = ui({ createEl: !1 }, i);
                    if (((r = e.call(this, t, s, n) || this), i.playerOptions.sources && 0 !== i.playerOptions.sources.length)) t.src(i.playerOptions.sources);
                    else
                        for (var a = 0, o = i.playerOptions.techOrder; a < o.length; a++) {
                            var l = li(o[a]),
                                u = Pn.getTech(l);
                            if ((l || (u = fi.getComponent(l)), u && u.isSupported())) {
                                t.loadTech_(l);
                                break;
                            }
                        }
                    return r;
                }
                return h()(t, e), t;
            })(fi);
            fi.registerComponent("MediaLoader", zn);
            var Wn = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).emitTapEvents(), n.enable(), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function (t, i, n) {
                        void 0 === t && (t = "div"),
                            void 0 === i && (i = {}),
                            void 0 === n && (n = {}),
                            (i = He({ innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>', className: this.buildCSSClass(), tabIndex: 0 }, i)),
                            "button" === t && Ne.error("Creating a ClickableComponent with an HTML element of " + t + " is not supported; use a Button instead."),
                            (n = He({ role: "button" }, n)),
                            (this.tabIndex_ = i.tabIndex);
                        var r = e.prototype.createEl.call(this, t, i, n);
                        return this.createControlTextEl(r), r;
                    }),
                    (i.dispose = function () {
                        (this.controlTextEl_ = null), e.prototype.dispose.call(this);
                    }),
                    (i.createControlTextEl = function (e) {
                        return (this.controlTextEl_ = Qe("span", { className: "vjs-control-text" }, { "aria-live": "polite" })), e && e.appendChild(this.controlTextEl_), this.controlText(this.controlText_, e), this.controlTextEl_;
                    }),
                    (i.controlText = function (e, t) {
                        if ((void 0 === t && (t = this.el()), void 0 === e)) return this.controlText_ || "Need Text";
                        var i = this.localize(e);
                        (this.controlText_ = e), Je(this.controlTextEl_, i), this.nonIconControl || t.setAttribute("title", i);
                    }),
                    (i.buildCSSClass = function () {
                        return "vjs-control vjs-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.enable = function () {
                        this.enabled_ ||
                            ((this.enabled_ = !0),
                            this.removeClass("vjs-disabled"),
                            this.el_.setAttribute("aria-disabled", "false"),
                            void 0 !== this.tabIndex_ && this.el_.setAttribute("tabIndex", this.tabIndex_),
                            this.on(["tap", "click"], this.handleClick),
                            this.on("keydown", this.handleKeyDown));
                    }),
                    (i.disable = function () {
                        (this.enabled_ = !1),
                            this.addClass("vjs-disabled"),
                            this.el_.setAttribute("aria-disabled", "true"),
                            void 0 !== this.tabIndex_ && this.el_.removeAttribute("tabIndex"),
                            this.off("mouseover", this.handleMouseOver),
                            this.off("mouseout", this.handleMouseOut),
                            this.off(["tap", "click"], this.handleClick),
                            this.off("keydown", this.handleKeyDown);
                    }),
                    (i.handleClick = function (e) {
                        this.options_.clickHandler && this.options_.clickHandler.call(this, arguments);
                    }),
                    (i.handleKeyDown = function (t) {
                        g.a.isEventKey(t, "Space") || g.a.isEventKey(t, "Enter") ? (t.preventDefault(), t.stopPropagation(), this.trigger("click")) : e.prototype.handleKeyDown.call(this, t);
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("ClickableComponent", Wn);
            var Gn = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).update(), t.on("posterchange", Gt(c()(n), n.update)), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.dispose = function () {
                        this.player().off("posterchange", this.update), e.prototype.dispose.call(this);
                    }),
                    (i.createEl = function () {
                        return Qe("div", { className: "vjs-poster", tabIndex: -1 });
                    }),
                    (i.update = function () {
                        var e = this.player().poster();
                        this.setSrc(e), e ? this.show() : this.hide();
                    }),
                    (i.setSrc = function (e) {
                        var t = "";
                        e && (t = 'url("' + e + '")'), (this.el_.style.backgroundImage = t);
                    }),
                    (i.handleClick = function () {
                        if (this.player_.controls()) {
                            var e = this.player_.usingPlugin("eme") && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;
                            !this.player_.tech(!0) || ((Ai || Ci) && e) || this.player_.tech(!0).focus(), this.player_.paused() ? Ki(this.player_.play()) : this.player_.pause();
                        }
                    }),
                    t
                );
            })(Wn);
            fi.registerComponent("PosterImage", Gn);
            var Yn = {
                monospace: "monospace",
                sansSerif: "sans-serif",
                serif: "serif",
                monospaceSansSerif: '"Andale Mono", "Lucida Console", monospace',
                monospaceSerif: '"Courier New", monospace',
                proportionalSansSerif: "sans-serif",
                proportionalSerif: "serif",
                casual: '"Comic Sans MS", Impact, fantasy',
                script: '"Monotype Corsiva", cursive',
                smallcaps: '"Andale Mono", "Lucida Console", monospace, sans-serif',
            };
            function Xn(e, t) {
                var i;
                if (4 === e.length) i = e[1] + e[1] + e[2] + e[2] + e[3] + e[3];
                else {
                    if (7 !== e.length) throw new Error("Invalid color code provided, " + e + "; must be formatted as e.g. #f0e or #f604e2.");
                    i = e.slice(1);
                }
                return "rgba(" + parseInt(i.slice(0, 2), 16) + "," + parseInt(i.slice(2, 4), 16) + "," + parseInt(i.slice(4, 6), 16) + "," + t + ")";
            }
            function Kn(e, t, i) {
                try {
                    e.style[t] = i;
                } catch (e) {
                    return;
                }
            }
            var Qn = (function (e) {
                function t(t, i, n) {
                    var s;
                    s = e.call(this, t, i, n) || this;
                    var a = Gt(c()(s), s.updateDisplay);
                    return (
                        t.on("loadstart", Gt(c()(s), s.toggleDisplay)),
                        t.on("texttrackchange", a),
                        t.on("loadedmetadata", Gt(c()(s), s.preselectTrack)),
                        t.ready(
                            Gt(c()(s), function () {
                                if (t.tech_ && t.tech_.featuresNativeTextTracks) this.hide();
                                else {
                                    t.on("fullscreenchange", a),
                                        t.on("playerresize", a),
                                        r.a.addEventListener("orientationchange", a),
                                        t.on("dispose", function () {
                                            return r.a.removeEventListener("orientationchange", a);
                                        });
                                    for (var e = this.options_.playerOptions.tracks || [], i = 0; i < e.length; i++) this.player_.addRemoteTextTrack(e[i], !0);
                                    this.preselectTrack();
                                }
                            })
                        ),
                        s
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.preselectTrack = function () {
                        for (var e, t, i, n = { captions: 1, subtitles: 1 }, r = this.player_.textTracks(), s = this.player_.cache_.selectedLanguage, a = 0; a < r.length; a++) {
                            var o = r[a];
                            s && s.enabled && s.language && s.language === o.language && o.kind in n
                                ? o.kind === s.kind
                                    ? (i = o)
                                    : i || (i = o)
                                : s && !s.enabled
                                ? ((i = null), (e = null), (t = null))
                                : o.default && ("descriptions" !== o.kind || e ? o.kind in n && !t && (t = o) : (e = o));
                        }
                        i ? (i.mode = "showing") : t ? (t.mode = "showing") : e && (e.mode = "showing");
                    }),
                    (i.toggleDisplay = function () {
                        this.player_.tech_ && this.player_.tech_.featuresNativeTextTracks ? this.hide() : this.show();
                    }),
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-text-track-display" }, { "aria-live": "off", "aria-atomic": "true" });
                    }),
                    (i.clearDisplay = function () {
                        "function" == typeof r.a.WebVTT && r.a.WebVTT.processCues(r.a, [], this.el_);
                    }),
                    (i.updateDisplay = function () {
                        var e = this.player_.textTracks(),
                            t = this.options_.allowMultipleShowingTracks;
                        if ((this.clearDisplay(), t)) {
                            for (var i = [], n = 0; n < e.length; ++n) {
                                var r = e[n];
                                "showing" === r.mode && i.push(r);
                            }
                            this.updateForTrack(i);
                        } else {
                            for (var s = null, a = null, o = e.length; o--; ) {
                                var l = e[o];
                                "showing" === l.mode && ("descriptions" === l.kind ? (s = l) : (a = l));
                            }
                            a
                                ? ("off" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "off"), this.updateForTrack(a))
                                : s && ("assertive" !== this.getAttribute("aria-live") && this.setAttribute("aria-live", "assertive"), this.updateForTrack(s));
                        }
                    }),
                    (i.updateDisplayState = function (e) {
                        for (var t = this.player_.textTrackSettings.getValues(), i = e.activeCues, n = i.length; n--; ) {
                            var s = i[n];
                            if (s) {
                                var a = s.displayState;
                                if (
                                    (t.color && (a.firstChild.style.color = t.color),
                                    t.textOpacity && Kn(a.firstChild, "color", Xn(t.color || "#fff", t.textOpacity)),
                                    t.backgroundColor && (a.firstChild.style.backgroundColor = t.backgroundColor),
                                    t.backgroundOpacity && Kn(a.firstChild, "backgroundColor", Xn(t.backgroundColor || "#000", t.backgroundOpacity)),
                                    t.windowColor && (t.windowOpacity ? Kn(a, "backgroundColor", Xn(t.windowColor, t.windowOpacity)) : (a.style.backgroundColor = t.windowColor)),
                                    t.edgeStyle &&
                                        ("dropshadow" === t.edgeStyle
                                            ? (a.firstChild.style.textShadow = "2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222")
                                            : "raised" === t.edgeStyle
                                            ? (a.firstChild.style.textShadow = "1px 1px #222, 2px 2px #222, 3px 3px #222")
                                            : "depressed" === t.edgeStyle
                                            ? (a.firstChild.style.textShadow = "1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222")
                                            : "uniform" === t.edgeStyle && (a.firstChild.style.textShadow = "0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),
                                    t.fontPercent && 1 !== t.fontPercent)
                                ) {
                                    var o = r.a.parseFloat(a.style.fontSize);
                                    (a.style.fontSize = o * t.fontPercent + "px"), (a.style.height = "auto"), (a.style.top = "auto");
                                }
                                t.fontFamily && "default" !== t.fontFamily && ("small-caps" === t.fontFamily ? (a.firstChild.style.fontVariant = "small-caps") : (a.firstChild.style.fontFamily = Yn[t.fontFamily]));
                            }
                        }
                    }),
                    (i.updateForTrack = function (e) {
                        if (
                            (Array.isArray(e) || (e = [e]),
                            "function" == typeof r.a.WebVTT &&
                                !e.every(function (e) {
                                    return !e.activeCues;
                                }))
                        ) {
                            for (var t = [], i = 0; i < e.length; ++i) for (var n = e[i], s = 0; s < n.activeCues.length; ++s) t.push(n.activeCues[s]);
                            r.a.WebVTT.processCues(r.a, t, this.el_);
                            for (var a = 0; a < e.length; ++a) {
                                for (var o = e[a], l = 0; l < o.activeCues.length; ++l) {
                                    var u = o.activeCues[l].displayState;
                                    tt(u, "vjs-text-track-cue"), tt(u, "vjs-text-track-cue-" + (o.language ? o.language : a));
                                }
                                this.player_.textTrackSettings && this.updateDisplayState(o);
                            }
                        }
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("TextTrackDisplay", Qn);
            var Jn = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                return (
                    h()(t, e),
                    (t.prototype.createEl = function () {
                        var t = this.player_.isAudio(),
                            i = this.localize(t ? "Audio Player" : "Video Player"),
                            n = Qe("span", { className: "vjs-control-text", innerHTML: this.localize("{1} is loading.", [i]) }),
                            r = e.prototype.createEl.call(this, "div", { className: "vjs-loading-spinner", dir: "ltr" });
                        return r.appendChild(n), r;
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("LoadingSpinner", Jn);
            var Zn = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function (e, t, i) {
                        void 0 === t && (t = {}), void 0 === i && (i = {}), (t = He({ innerHTML: '<span aria-hidden="true" class="vjs-icon-placeholder"></span>', className: this.buildCSSClass() }, t)), (i = He({ type: "button" }, i));
                        var n = fi.prototype.createEl.call(this, "button", t, i);
                        return this.createControlTextEl(n), n;
                    }),
                    (i.addChild = function (e, t) {
                        void 0 === t && (t = {});
                        var i = this.constructor.name;
                        return Ne.warn("Adding an actionable (user controllable) child to a Button (" + i + ") is not supported; use a ClickableComponent instead."), fi.prototype.addChild.call(this, e, t);
                    }),
                    (i.enable = function () {
                        e.prototype.enable.call(this), this.el_.removeAttribute("disabled");
                    }),
                    (i.disable = function () {
                        e.prototype.disable.call(this), this.el_.setAttribute("disabled", "disabled");
                    }),
                    (i.handleKeyDown = function (t) {
                        g.a.isEventKey(t, "Space") || g.a.isEventKey(t, "Enter") ? t.stopPropagation() : e.prototype.handleKeyDown.call(this, t);
                    }),
                    t
                );
            })(Wn);
            fi.registerComponent("Button", Zn);
            var er = (function (e) {
                function t(t, i) {
                    var n;
                    return ((n = e.call(this, t, i) || this).mouseused_ = !1), n.on("mousedown", n.handleMouseDown), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-big-play-button";
                    }),
                    (i.handleClick = function (e) {
                        var t = this.player_.play();
                        if (this.mouseused_ && e.clientX && e.clientY) {
                            var i = this.player_.usingPlugin("eme") && this.player_.eme.sessions && this.player_.eme.sessions.length > 0;
                            return Ki(t), void (!this.player_.tech(!0) || ((Ai || Ci) && i) || this.player_.tech(!0).focus());
                        }
                        var n = this.player_.getChild("controlBar"),
                            r = n && n.getChild("playToggle");
                        if (r) {
                            var s = function () {
                                return r.focus();
                            };
                            Xi(t) ? t.then(s, function () {}) : this.setTimeout(s, 1);
                        } else this.player_.tech(!0).focus();
                    }),
                    (i.handleKeyDown = function (t) {
                        (this.mouseused_ = !1), e.prototype.handleKeyDown.call(this, t);
                    }),
                    (i.handleMouseDown = function () {
                        this.mouseused_ = !0;
                    }),
                    t
                );
            })(Zn);
            (er.prototype.controlText_ = "Play Video"), fi.registerComponent("BigPlayButton", er);
            var tr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).controlText((i && i.controlText) || n.localize("Close")), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-close-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.handleClick = function () {
                        this.trigger({ type: "close", bubbles: !1 });
                    }),
                    (i.handleKeyDown = function (t) {
                        g.a.isEventKey(t, "Esc") ? (t.preventDefault(), t.stopPropagation(), this.trigger("click")) : e.prototype.handleKeyDown.call(this, t);
                    }),
                    t
                );
            })(Zn);
            fi.registerComponent("CloseButton", tr);
            var ir = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        void 0 === i && (i = {}), (n = e.call(this, t, i) || this), (i.replay = void 0 === i.replay || i.replay), n.on(t, "play", n.handlePlay), n.on(t, "pause", n.handlePause), i.replay && n.on(t, "ended", n.handleEnded), n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-play-control " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.handleClick = function () {
                        this.player_.paused() ? this.player_.play() : this.player_.pause();
                    }),
                    (i.handleSeeked = function (e) {
                        this.removeClass("vjs-ended"), this.player_.paused() ? this.handlePause(e) : this.handlePlay(e);
                    }),
                    (i.handlePlay = function () {
                        this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.controlText("Pause");
                    }),
                    (i.handlePause = function () {
                        this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.controlText("Play");
                    }),
                    (i.handleEnded = function () {
                        this.removeClass("vjs-playing"), this.addClass("vjs-ended"), this.controlText("Replay"), this.one(this.player_, "seeked", this.handleSeeked);
                    }),
                    t
                );
            })(Zn);
            (ir.prototype.controlText_ = "Play"), fi.registerComponent("PlayToggle", ir);
            var nr = function (e, t) {
                    e = e < 0 ? 0 : e;
                    var i = Math.floor(e % 60),
                        n = Math.floor((e / 60) % 60),
                        r = Math.floor(e / 3600),
                        s = Math.floor((t / 60) % 60),
                        a = Math.floor(t / 3600);
                    return (isNaN(e) || e === 1 / 0) && (r = n = i = "-"), (r = r > 0 || a > 0 ? r + ":" : "") + (n = ((r || s >= 10) && n < 10 ? "0" + n : n) + ":") + (i = i < 10 ? "0" + i : i);
                },
                rr = nr;
            function sr(e, t) {
                return void 0 === t && (t = e), rr(e, t);
            }
            var ar = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).on(t, ["timeupdate", "ended"], n.updateContent), n.updateTextNode_(), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        var t = this.buildCSSClass(),
                            i = e.prototype.createEl.call(this, "div", { className: t + " vjs-time-control vjs-control", innerHTML: '<span class="vjs-control-text" role="presentation">' + this.localize(this.labelText_) + "Â </span>" });
                        return (this.contentEl_ = Qe("span", { className: t + "-display" }, { "aria-live": "off", role: "presentation" })), i.appendChild(this.contentEl_), i;
                    }),
                    (i.dispose = function () {
                        (this.contentEl_ = null), (this.textNode_ = null), e.prototype.dispose.call(this);
                    }),
                    (i.updateTextNode_ = function (e) {
                        var t = this;
                        void 0 === e && (e = 0),
                            (e = sr(e)),
                            this.formattedTime_ !== e &&
                                ((this.formattedTime_ = e),
                                this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_", function () {
                                    if (t.contentEl_) {
                                        var e = t.textNode_;
                                        (t.textNode_ = a.a.createTextNode(t.formattedTime_)), t.textNode_ && (e ? t.contentEl_.replaceChild(t.textNode_, e) : t.contentEl_.appendChild(t.textNode_));
                                    }
                                }));
                    }),
                    (i.updateContent = function () {}),
                    t
                );
            })(fi);
            (ar.prototype.labelText_ = "Time"), (ar.prototype.controlText_ = "Time"), fi.registerComponent("TimeDisplay", ar);
            var or = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-current-time";
                    }),
                    (i.updateContent = function () {
                        var e;
                        (e = this.player_.ended() ? this.player_.duration() : this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime()), this.updateTextNode_(e);
                    }),
                    t
                );
            })(ar);
            (or.prototype.labelText_ = "Current Time"), (or.prototype.controlText_ = "Current Time"), fi.registerComponent("CurrentTimeDisplay", or);
            var lr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).on(t, "durationchange", n.updateContent), n.on(t, "loadstart", n.updateContent), n.on(t, "loadedmetadata", n.updateContent), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-duration";
                    }),
                    (i.updateContent = function () {
                        var e = this.player_.duration();
                        this.updateTextNode_(e);
                    }),
                    t
                );
            })(ar);
            (lr.prototype.labelText_ = "Duration"), (lr.prototype.controlText_ = "Duration"), fi.registerComponent("DurationDisplay", lr);
            var ur = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                return (
                    h()(t, e),
                    (t.prototype.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-time-control vjs-time-divider", innerHTML: "<div><span>/</span></div>" }, { "aria-hidden": !0 });
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("TimeDivider", ur);
            var cr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).on(t, "durationchange", n.updateContent), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-remaining-time";
                    }),
                    (i.createEl = function () {
                        var t = e.prototype.createEl.call(this);
                        return t.insertBefore(Qe("span", {}, { "aria-hidden": !0 }, "-"), this.contentEl_), t;
                    }),
                    (i.updateContent = function () {
                        var e;
                        "number" == typeof this.player_.duration() && ((e = this.player_.ended() ? 0 : this.player_.remainingTimeDisplay ? this.player_.remainingTimeDisplay() : this.player_.remainingTime()), this.updateTextNode_(e));
                    }),
                    t
                );
            })(ar);
            (cr.prototype.labelText_ = "Remaining Time"), (cr.prototype.controlText_ = "Remaining Time"), fi.registerComponent("RemainingTimeDisplay", cr);
            var dr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).updateShowing(), n.on(n.player(), "durationchange", n.updateShowing), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        var t = e.prototype.createEl.call(this, "div", { className: "vjs-live-control vjs-control" });
                        return (
                            (this.contentEl_ = Qe("div", { className: "vjs-live-display", innerHTML: '<span class="vjs-control-text">' + this.localize("Stream Type") + "Â </span>" + this.localize("LIVE") }, { "aria-live": "off" })),
                            t.appendChild(this.contentEl_),
                            t
                        );
                    }),
                    (i.dispose = function () {
                        (this.contentEl_ = null), e.prototype.dispose.call(this);
                    }),
                    (i.updateShowing = function () {
                        this.player().duration() === 1 / 0 ? this.show() : this.hide();
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("LiveDisplay", dr);
            var hr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).updateLiveEdgeStatus(), n.player_.liveTracker && n.on(n.player_.liveTracker, "liveedgechange", n.updateLiveEdgeStatus), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        var t = e.prototype.createEl.call(this, "button", { className: "vjs-seek-to-live-control vjs-control" });
                        return (this.textEl_ = Qe("span", { className: "vjs-seek-to-live-text", innerHTML: this.localize("LIVE") }, { "aria-hidden": "true" })), t.appendChild(this.textEl_), t;
                    }),
                    (i.updateLiveEdgeStatus = function () {
                        !this.player_.liveTracker || this.player_.liveTracker.atLiveEdge()
                            ? (this.setAttribute("aria-disabled", !0), this.addClass("vjs-at-live-edge"), this.controlText("Seek to live, currently playing live"))
                            : (this.setAttribute("aria-disabled", !1), this.removeClass("vjs-at-live-edge"), this.controlText("Seek to live, currently behind live"));
                    }),
                    (i.handleClick = function () {
                        this.player_.liveTracker.seekToLiveEdge();
                    }),
                    (i.dispose = function () {
                        this.player_.liveTracker && this.off(this.player_.liveTracker, "liveedgechange", this.updateLiveEdgeStatus), (this.textEl_ = null), e.prototype.dispose.call(this);
                    }),
                    t
                );
            })(Zn);
            (hr.prototype.controlText_ = "Seek to live, currently playing live"), fi.registerComponent("SeekToLive", hr);
            var pr = function (e, t, i) {
                    return (e = Number(e)), Math.min(i, Math.max(t, isNaN(e) ? t : e));
                },
                fr = (function (e) {
                    function t(t, i) {
                        var n;
                        return ((n = e.call(this, t, i) || this).bar = n.getChild(n.options_.barName)), n.vertical(!!n.options_.vertical), n.enable(), n;
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.enabled = function () {
                            return this.enabled_;
                        }),
                        (i.enable = function () {
                            this.enabled() ||
                                (this.on("mousedown", this.handleMouseDown),
                                this.on("touchstart", this.handleMouseDown),
                                this.on("keydown", this.handleKeyDown),
                                this.on("click", this.handleClick),
                                this.on(this.player_, "controlsvisible", this.update),
                                this.playerEvent && this.on(this.player_, this.playerEvent, this.update),
                                this.removeClass("disabled"),
                                this.setAttribute("tabindex", 0),
                                (this.enabled_ = !0));
                        }),
                        (i.disable = function () {
                            if (this.enabled()) {
                                var e = this.bar.el_.ownerDocument;
                                this.off("mousedown", this.handleMouseDown),
                                    this.off("touchstart", this.handleMouseDown),
                                    this.off("keydown", this.handleKeyDown),
                                    this.off("click", this.handleClick),
                                    this.off(this.player_, "controlsvisible", this.update),
                                    this.off(e, "mousemove", this.handleMouseMove),
                                    this.off(e, "mouseup", this.handleMouseUp),
                                    this.off(e, "touchmove", this.handleMouseMove),
                                    this.off(e, "touchend", this.handleMouseUp),
                                    this.removeAttribute("tabindex"),
                                    this.addClass("disabled"),
                                    this.playerEvent && this.off(this.player_, this.playerEvent, this.update),
                                    (this.enabled_ = !1);
                            }
                        }),
                        (i.createEl = function (t, i, n) {
                            return (
                                void 0 === i && (i = {}),
                                void 0 === n && (n = {}),
                                (i.className = i.className + " vjs-slider"),
                                (i = He({ tabIndex: 0 }, i)),
                                (n = He({ role: "slider", "aria-valuenow": 0, "aria-valuemin": 0, "aria-valuemax": 100, tabIndex: 0 }, n)),
                                e.prototype.createEl.call(this, t, i, n)
                            );
                        }),
                        (i.handleMouseDown = function (e) {
                            var t = this.bar.el_.ownerDocument;
                            "mousedown" === e.type && e.preventDefault(),
                                "touchstart" !== e.type || Ei || e.preventDefault(),
                                ut(),
                                this.addClass("vjs-sliding"),
                                this.trigger("slideractive"),
                                this.on(t, "mousemove", this.handleMouseMove),
                                this.on(t, "mouseup", this.handleMouseUp),
                                this.on(t, "touchmove", this.handleMouseMove),
                                this.on(t, "touchend", this.handleMouseUp),
                                this.handleMouseMove(e);
                        }),
                        (i.handleMouseMove = function () {}),
                        (i.handleMouseUp = function () {
                            var e = this.bar.el_.ownerDocument;
                            ct(),
                                this.removeClass("vjs-sliding"),
                                this.trigger("sliderinactive"),
                                this.off(e, "mousemove", this.handleMouseMove),
                                this.off(e, "mouseup", this.handleMouseUp),
                                this.off(e, "touchmove", this.handleMouseMove),
                                this.off(e, "touchend", this.handleMouseUp),
                                this.update();
                        }),
                        (i.update = function () {
                            var e = this;
                            if (this.el_ && this.bar) {
                                var t = this.getProgress();
                                return (
                                    t === this.progress_ ||
                                        ((this.progress_ = t),
                                        this.requestNamedAnimationFrame("Slider#update", function () {
                                            var i = e.vertical() ? "height" : "width";
                                            e.bar.el().style[i] = (100 * t).toFixed(2) + "%";
                                        })),
                                    t
                                );
                            }
                        }),
                        (i.getProgress = function () {
                            return Number(pr(this.getPercent(), 0, 1).toFixed(4));
                        }),
                        (i.calculateDistance = function (e) {
                            var t = pt(this.el_, e);
                            return this.vertical() ? t.y : t.x;
                        }),
                        (i.handleKeyDown = function (t) {
                            g.a.isEventKey(t, "Left") || g.a.isEventKey(t, "Down")
                                ? (t.preventDefault(), t.stopPropagation(), this.stepBack())
                                : g.a.isEventKey(t, "Right") || g.a.isEventKey(t, "Up")
                                ? (t.preventDefault(), t.stopPropagation(), this.stepForward())
                                : e.prototype.handleKeyDown.call(this, t);
                        }),
                        (i.handleClick = function (e) {
                            e.stopPropagation(), e.preventDefault();
                        }),
                        (i.vertical = function (e) {
                            if (void 0 === e) return this.vertical_ || !1;
                            (this.vertical_ = !!e), this.vertical_ ? this.addClass("vjs-slider-vertical") : this.addClass("vjs-slider-horizontal");
                        }),
                        t
                    );
                })(fi);
            fi.registerComponent("Slider", fr);
            var mr = function (e, t) {
                    return pr((e / t) * 100, 0, 100).toFixed(2) + "%";
                },
                gr = (function (e) {
                    function t(t, i) {
                        var n;
                        return ((n = e.call(this, t, i) || this).partEls_ = []), n.on(t, "progress", n.update), n;
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.createEl = function () {
                            var t = e.prototype.createEl.call(this, "div", { className: "vjs-load-progress" }),
                                i = Qe("span", { className: "vjs-control-text" }),
                                n = Qe("span", { textContent: this.localize("Loaded") }),
                                r = a.a.createTextNode(": ");
                            return (this.percentageEl_ = Qe("span", { className: "vjs-control-text-loaded-percentage", textContent: "0%" })), t.appendChild(i), i.appendChild(n), i.appendChild(r), i.appendChild(this.percentageEl_), t;
                        }),
                        (i.dispose = function () {
                            (this.partEls_ = null), (this.percentageEl_ = null), e.prototype.dispose.call(this);
                        }),
                        (i.update = function () {
                            var e = this;
                            this.requestNamedAnimationFrame("LoadProgressBar#update", function () {
                                var t = e.player_.liveTracker,
                                    i = e.player_.buffered(),
                                    n = t && t.isLive() ? t.seekableEnd() : e.player_.duration(),
                                    r = e.player_.bufferedEnd(),
                                    s = e.partEls_,
                                    a = mr(r, n);
                                e.percent_ !== a && ((e.el_.style.width = a), Je(e.percentageEl_, a), (e.percent_ = a));
                                for (var o = 0; o < i.length; o++) {
                                    var l = i.start(o),
                                        u = i.end(o),
                                        c = s[o];
                                    c || ((c = e.el_.appendChild(Qe())), (s[o] = c)), (c.dataset.start === l && c.dataset.end === u) || ((c.dataset.start = l), (c.dataset.end = u), (c.style.left = mr(l, r)), (c.style.width = mr(u - l, r)));
                                }
                                for (var d = s.length; d > i.length; d--) e.el_.removeChild(s[d - 1]);
                                s.length = i.length;
                            });
                        }),
                        t
                    );
                })(fi);
            fi.registerComponent("LoadProgressBar", gr);
            var vr = (function (e) {
                function t(t, i) {
                    var n;
                    return ((n = e.call(this, t, i) || this).update = Yt(Gt(c()(n), n.update), Wt)), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-time-tooltip" }, { "aria-hidden": "true" });
                    }),
                    (i.update = function (e, t, i) {
                        var n = ht(this.el_),
                            r = dt(this.player_.el()),
                            s = e.width * t;
                        if (r && n) {
                            var a = e.left - r.left + s,
                                o = e.width - s + (r.right - e.right),
                                l = n.width / 2;
                            a < l ? (l += l - a) : o < l && (l = o), l < 0 ? (l = 0) : l > n.width && (l = n.width), (this.el_.style.right = "-" + l + "px"), this.write(i);
                        }
                    }),
                    (i.write = function (e) {
                        Je(this.el_, e);
                    }),
                    (i.updateTime = function (e, t, i, n) {
                        var r = this;
                        this.requestNamedAnimationFrame("TimeTooltip#updateTime", function () {
                            var s,
                                a = r.player_.duration();
                            if (r.player_.liveTracker && r.player_.liveTracker.isLive()) {
                                var o = r.player_.liveTracker.liveWindow(),
                                    l = o - t * o;
                                s = (l < 1 ? "" : "-") + sr(l, o);
                            } else s = sr(i, a);
                            r.update(e, t, s), n && n();
                        });
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("TimeTooltip", vr);
            var yr = (function (e) {
                function t(t, i) {
                    var n;
                    return ((n = e.call(this, t, i) || this).update = Yt(Gt(c()(n), n.update), Wt)), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-play-progress vjs-slider-bar" }, { "aria-hidden": "true" });
                    }),
                    (i.update = function (e, t) {
                        var i = this.getChild("timeTooltip");
                        if (i) {
                            var n = this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                            i.updateTime(e, t, n);
                        }
                    }),
                    t
                );
            })(fi);
            (yr.prototype.options_ = { children: [] }), Ri || Ti || yr.prototype.options_.children.push("timeTooltip"), fi.registerComponent("PlayProgressBar", yr);
            var _r = (function (e) {
                function t(t, i) {
                    var n;
                    return ((n = e.call(this, t, i) || this).update = Yt(Gt(c()(n), n.update), Wt)), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-mouse-display" });
                    }),
                    (i.update = function (e, t) {
                        var i = this,
                            n = t * this.player_.duration();
                        this.getChild("timeTooltip").updateTime(e, t, n, function () {
                            i.el_.style.left = e.width * t + "px";
                        });
                    }),
                    t
                );
            })(fi);
            (_r.prototype.options_ = { children: ["timeTooltip"] }), fi.registerComponent("MouseTimeDisplay", _r);
            var br = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).setEventHandlers_(), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.setEventHandlers_ = function () {
                        (this.update_ = Gt(this, this.update)),
                            (this.update = Yt(this.update_, Wt)),
                            this.on(this.player_, ["ended", "durationchange", "timeupdate"], this.update),
                            this.player_.liveTracker && this.on(this.player_.liveTracker, "liveedgechange", this.update),
                            (this.updateInterval = null),
                            this.on(this.player_, ["playing"], this.enableInterval_),
                            this.on(this.player_, ["ended", "pause", "waiting"], this.disableInterval_),
                            "hidden" in a.a && "visibilityState" in a.a && this.on(a.a, "visibilitychange", this.toggleVisibility_);
                    }),
                    (i.toggleVisibility_ = function (e) {
                        a.a.hidden ? this.disableInterval_(e) : (this.enableInterval_(), this.update());
                    }),
                    (i.enableInterval_ = function () {
                        this.updateInterval || (this.updateInterval = this.setInterval(this.update, Wt));
                    }),
                    (i.disableInterval_ = function (e) {
                        (this.player_.liveTracker && this.player_.liveTracker.isLive() && e && "ended" !== e.type) || (this.updateInterval && (this.clearInterval(this.updateInterval), (this.updateInterval = null)));
                    }),
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-progress-holder" }, { "aria-label": this.localize("Progress Bar") });
                    }),
                    (i.update = function () {
                        var t = this,
                            i = e.prototype.update.call(this);
                        return (
                            this.requestNamedAnimationFrame("SeekBar#update", function () {
                                var e = t.player_.ended() ? t.player_.duration() : t.getCurrentTime_(),
                                    n = t.player_.liveTracker,
                                    r = t.player_.duration();
                                n && n.isLive() && (r = t.player_.liveTracker.liveCurrentTime()),
                                    t.percent_ !== i && (t.el_.setAttribute("aria-valuenow", (100 * i).toFixed(2)), (t.percent_ = i)),
                                    (t.currentTime_ === e && t.duration_ === r) ||
                                        (t.el_.setAttribute("aria-valuetext", t.localize("progress bar timing: currentTime={1} duration={2}", [sr(e, r), sr(r, r)], "{1} of {2}")), (t.currentTime_ = e), (t.duration_ = r)),
                                    t.bar && t.bar.update(dt(t.el()), t.getProgress());
                            }),
                            i
                        );
                    }),
                    (i.getCurrentTime_ = function () {
                        return this.player_.scrubbing() ? this.player_.getCache().currentTime : this.player_.currentTime();
                    }),
                    (i.getPercent = function () {
                        var e,
                            t = this.getCurrentTime_(),
                            i = this.player_.liveTracker;
                        return i && i.isLive() ? ((e = (t - i.seekableStart()) / i.liveWindow()), i.atLiveEdge() && (e = 1)) : (e = t / this.player_.duration()), e;
                    }),
                    (i.handleMouseDown = function (t) {
                        _t(t) && (t.stopPropagation(), this.player_.scrubbing(!0), (this.videoWasPlaying = !this.player_.paused()), this.player_.pause(), e.prototype.handleMouseDown.call(this, t));
                    }),
                    (i.handleMouseMove = function (e) {
                        if (_t(e)) {
                            var t,
                                i = this.calculateDistance(e),
                                n = this.player_.liveTracker;
                            if (n && n.isLive()) {
                                if (i >= 0.99) return void n.seekToLiveEdge();
                                var r = n.seekableStart(),
                                    s = n.liveCurrentTime();
                                if (((t = r + i * n.liveWindow()) >= s && (t = s), t <= r && (t = r + 0.1), t === 1 / 0)) return;
                            } else (t = i * this.player_.duration()) === this.player_.duration() && (t -= 0.1);
                            this.player_.currentTime(t);
                        }
                    }),
                    (i.enable = function () {
                        e.prototype.enable.call(this);
                        var t = this.getChild("mouseTimeDisplay");
                        t && t.show();
                    }),
                    (i.disable = function () {
                        e.prototype.disable.call(this);
                        var t = this.getChild("mouseTimeDisplay");
                        t && t.hide();
                    }),
                    (i.handleMouseUp = function (t) {
                        e.prototype.handleMouseUp.call(this, t),
                            t && t.stopPropagation(),
                            this.player_.scrubbing(!1),
                            this.player_.trigger({ type: "timeupdate", target: this, manuallyTriggered: !0 }),
                            this.videoWasPlaying ? Ki(this.player_.play()) : this.update_();
                    }),
                    (i.stepForward = function () {
                        this.player_.currentTime(this.player_.currentTime() + 5);
                    }),
                    (i.stepBack = function () {
                        this.player_.currentTime(this.player_.currentTime() - 5);
                    }),
                    (i.handleAction = function () {
                        this.player_.paused() ? this.player_.play() : this.player_.pause();
                    }),
                    (i.handleKeyDown = function (t) {
                        if (g.a.isEventKey(t, "Space") || g.a.isEventKey(t, "Enter")) t.preventDefault(), t.stopPropagation(), this.handleAction(t);
                        else if (g.a.isEventKey(t, "Home")) t.preventDefault(), t.stopPropagation(), this.player_.currentTime(0);
                        else if (g.a.isEventKey(t, "End")) t.preventDefault(), t.stopPropagation(), this.player_.currentTime(this.player_.duration());
                        else if (/^[0-9]$/.test(g()(t))) {
                            t.preventDefault(), t.stopPropagation();
                            var i = (10 * (g.a.codes[g()(t)] - g.a.codes[0])) / 100;
                            this.player_.currentTime(this.player_.duration() * i);
                        } else
                            g.a.isEventKey(t, "PgDn")
                                ? (t.preventDefault(), t.stopPropagation(), this.player_.currentTime(this.player_.currentTime() - 60))
                                : g.a.isEventKey(t, "PgUp")
                                ? (t.preventDefault(), t.stopPropagation(), this.player_.currentTime(this.player_.currentTime() + 60))
                                : e.prototype.handleKeyDown.call(this, t);
                    }),
                    (i.dispose = function () {
                        this.disableInterval_(),
                            this.off(this.player_, ["ended", "durationchange", "timeupdate"], this.update),
                            this.player_.liveTracker && this.on(this.player_.liveTracker, "liveedgechange", this.update),
                            this.off(this.player_, ["playing"], this.enableInterval_),
                            this.off(this.player_, ["ended", "pause", "waiting"], this.disableInterval_),
                            "hidden" in a.a && "visibilityState" in a.a && this.off(a.a, "visibilitychange", this.toggleVisibility_),
                            e.prototype.dispose.call(this);
                    }),
                    t
                );
            })(fr);
            (br.prototype.options_ = { children: ["loadProgressBar", "playProgressBar"], barName: "playProgressBar" }), Ri || Ti || br.prototype.options_.children.splice(1, 0, "mouseTimeDisplay"), fi.registerComponent("SeekBar", br);
            var Tr = (function (e) {
                function t(t, i) {
                    var n;
                    return ((n = e.call(this, t, i) || this).handleMouseMove = Yt(Gt(c()(n), n.handleMouseMove), Wt)), (n.throttledHandleMouseSeek = Yt(Gt(c()(n), n.handleMouseSeek), Wt)), n.enable(), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-progress-control vjs-control" });
                    }),
                    (i.handleMouseMove = function (e) {
                        var t = this.getChild("seekBar");
                        if (t) {
                            var i = t.getChild("playProgressBar"),
                                n = t.getChild("mouseTimeDisplay");
                            if (i || n) {
                                var r = t.el(),
                                    s = ht(r),
                                    a = pt(r, e).x;
                                (a = pr(a, 0, 1)), n && n.update(s, a), i && i.update(s, t.getProgress());
                            }
                        }
                    }),
                    (i.handleMouseSeek = function (e) {
                        var t = this.getChild("seekBar");
                        t && t.handleMouseMove(e);
                    }),
                    (i.enabled = function () {
                        return this.enabled_;
                    }),
                    (i.disable = function () {
                        this.children().forEach(function (e) {
                            return e.disable && e.disable();
                        }),
                            this.enabled() && (this.off(["mousedown", "touchstart"], this.handleMouseDown), this.off(this.el_, "mousemove", this.handleMouseMove), this.handleMouseUp(), this.addClass("disabled"), (this.enabled_ = !1));
                    }),
                    (i.enable = function () {
                        this.children().forEach(function (e) {
                            return e.enable && e.enable();
                        }),
                            this.enabled() || (this.on(["mousedown", "touchstart"], this.handleMouseDown), this.on(this.el_, "mousemove", this.handleMouseMove), this.removeClass("disabled"), (this.enabled_ = !0));
                    }),
                    (i.handleMouseDown = function (e) {
                        var t = this.el_.ownerDocument,
                            i = this.getChild("seekBar");
                        i && i.handleMouseDown(e),
                            this.on(t, "mousemove", this.throttledHandleMouseSeek),
                            this.on(t, "touchmove", this.throttledHandleMouseSeek),
                            this.on(t, "mouseup", this.handleMouseUp),
                            this.on(t, "touchend", this.handleMouseUp);
                    }),
                    (i.handleMouseUp = function (e) {
                        var t = this.el_.ownerDocument,
                            i = this.getChild("seekBar");
                        i && i.handleMouseUp(e),
                            this.off(t, "mousemove", this.throttledHandleMouseSeek),
                            this.off(t, "touchmove", this.throttledHandleMouseSeek),
                            this.off(t, "mouseup", this.handleMouseUp),
                            this.off(t, "touchend", this.handleMouseUp);
                    }),
                    t
                );
            })(fi);
            (Tr.prototype.options_ = { children: ["seekBar"] }), fi.registerComponent("ProgressControl", Tr);
            var Sr = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        (n = e.call(this, t, i) || this).on(t, ["enterpictureinpicture", "leavepictureinpicture"], n.handlePictureInPictureChange),
                        n.on(t, ["disablepictureinpicturechanged", "loadedmetadata"], n.handlePictureInPictureEnabledChange),
                        n.disable(),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-picture-in-picture-control " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.handlePictureInPictureEnabledChange = function () {
                        a.a.pictureInPictureEnabled && !1 === this.player_.disablePictureInPicture() ? this.enable() : this.disable();
                    }),
                    (i.handlePictureInPictureChange = function () {
                        this.player_.isInPictureInPicture() ? this.controlText("Exit Picture-in-Picture") : this.controlText("Picture-in-Picture"), this.handlePictureInPictureEnabledChange();
                    }),
                    (i.handleClick = function () {
                        this.player_.isInPictureInPicture() ? this.player_.exitPictureInPicture() : this.player_.requestPictureInPicture();
                    }),
                    t
                );
            })(Zn);
            (Sr.prototype.controlText_ = "Picture-in-Picture"), fi.registerComponent("PictureInPictureToggle", Sr);
            var wr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).on(t, "fullscreenchange", n.handleFullscreenChange), !1 === a.a[t.fsApi_.fullscreenEnabled] && n.disable(), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-fullscreen-control " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.handleFullscreenChange = function () {
                        this.player_.isFullscreen() ? this.controlText("Non-Fullscreen") : this.controlText("Fullscreen");
                    }),
                    (i.handleClick = function () {
                        this.player_.isFullscreen() ? this.player_.exitFullscreen() : this.player_.requestFullscreen();
                    }),
                    t
                );
            })(Zn);
            (wr.prototype.controlText_ = "Fullscreen"), fi.registerComponent("FullscreenToggle", wr);
            var kr = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                return (
                    h()(t, e),
                    (t.prototype.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-volume-level", innerHTML: '<span class="vjs-control-text"></span>' });
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("VolumeLevel", kr);
            var Cr = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        (n = e.call(this, t, i) || this).on("slideractive", n.updateLastVolume_),
                        n.on(t, "volumechange", n.updateARIAAttributes),
                        t.ready(function () {
                            return n.updateARIAAttributes();
                        }),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-volume-bar vjs-slider-bar" }, { "aria-label": this.localize("Volume Level"), "aria-live": "polite" });
                    }),
                    (i.handleMouseDown = function (t) {
                        _t(t) && e.prototype.handleMouseDown.call(this, t);
                    }),
                    (i.handleMouseMove = function (e) {
                        _t(e) && (this.checkMuted(), this.player_.volume(this.calculateDistance(e)));
                    }),
                    (i.checkMuted = function () {
                        this.player_.muted() && this.player_.muted(!1);
                    }),
                    (i.getPercent = function () {
                        return this.player_.muted() ? 0 : this.player_.volume();
                    }),
                    (i.stepForward = function () {
                        this.checkMuted(), this.player_.volume(this.player_.volume() + 0.1);
                    }),
                    (i.stepBack = function () {
                        this.checkMuted(), this.player_.volume(this.player_.volume() - 0.1);
                    }),
                    (i.updateARIAAttributes = function () {
                        var e = this.player_.muted() ? 0 : this.volumeAsPercentage_();
                        this.el_.setAttribute("aria-valuenow", e), this.el_.setAttribute("aria-valuetext", e + "%");
                    }),
                    (i.volumeAsPercentage_ = function () {
                        return Math.round(100 * this.player_.volume());
                    }),
                    (i.updateLastVolume_ = function () {
                        var e = this,
                            t = this.player_.volume();
                        this.one("sliderinactive", function () {
                            0 === e.player_.volume() && e.player_.lastVolume_(t);
                        });
                    }),
                    t
                );
            })(fr);
            (Cr.prototype.options_ = { children: ["volumeLevel"], barName: "volumeLevel" }), (Cr.prototype.playerEvent = "volumechange"), fi.registerComponent("VolumeBar", Cr);
            var Er = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        void 0 === i && (i = {}),
                        (i.vertical = i.vertical || !1),
                        (void 0 === i.volumeBar || Ve(i.volumeBar)) && ((i.volumeBar = i.volumeBar || {}), (i.volumeBar.vertical = i.vertical)),
                        (n = e.call(this, t, i) || this),
                        (function (e, t) {
                            t.tech_ && !t.tech_.featuresVolumeControl && e.addClass("vjs-hidden"),
                                e.on(t, "loadstart", function () {
                                    t.tech_.featuresVolumeControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden");
                                });
                        })(c()(n), t),
                        (n.throttledHandleMouseMove = Yt(Gt(c()(n), n.handleMouseMove), Wt)),
                        n.on("mousedown", n.handleMouseDown),
                        n.on("touchstart", n.handleMouseDown),
                        n.on(n.volumeBar, ["focus", "slideractive"], function () {
                            n.volumeBar.addClass("vjs-slider-active"), n.addClass("vjs-slider-active"), n.trigger("slideractive");
                        }),
                        n.on(n.volumeBar, ["blur", "sliderinactive"], function () {
                            n.volumeBar.removeClass("vjs-slider-active"), n.removeClass("vjs-slider-active"), n.trigger("sliderinactive");
                        }),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        var t = "vjs-volume-horizontal";
                        return this.options_.vertical && (t = "vjs-volume-vertical"), e.prototype.createEl.call(this, "div", { className: "vjs-volume-control vjs-control " + t });
                    }),
                    (i.handleMouseDown = function () {
                        var e = this.el_.ownerDocument;
                        this.on(e, "mousemove", this.throttledHandleMouseMove), this.on(e, "touchmove", this.throttledHandleMouseMove), this.on(e, "mouseup", this.handleMouseUp), this.on(e, "touchend", this.handleMouseUp);
                    }),
                    (i.handleMouseUp = function () {
                        var e = this.el_.ownerDocument;
                        this.off(e, "mousemove", this.throttledHandleMouseMove), this.off(e, "touchmove", this.throttledHandleMouseMove), this.off(e, "mouseup", this.handleMouseUp), this.off(e, "touchend", this.handleMouseUp);
                    }),
                    (i.handleMouseMove = function (e) {
                        this.volumeBar.handleMouseMove(e);
                    }),
                    t
                );
            })(fi);
            (Er.prototype.options_ = { children: ["volumeBar"] }), fi.registerComponent("VolumeControl", Er);
            var xr = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        (n = e.call(this, t, i) || this),
                        (function (e, t) {
                            t.tech_ && !t.tech_.featuresMuteControl && e.addClass("vjs-hidden"),
                                e.on(t, "loadstart", function () {
                                    t.tech_.featuresMuteControl ? e.removeClass("vjs-hidden") : e.addClass("vjs-hidden");
                                });
                        })(c()(n), t),
                        n.on(t, ["loadstart", "volumechange"], n.update),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-mute-control " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.handleClick = function () {
                        var e = this.player_.volume(),
                            t = this.player_.lastVolume_();
                        if (0 === e) {
                            var i = t < 0.1 ? 0.1 : t;
                            this.player_.volume(i), this.player_.muted(!1);
                        } else this.player_.muted(!this.player_.muted());
                    }),
                    (i.update = function () {
                        this.updateIcon_(), this.updateControlText_();
                    }),
                    (i.updateIcon_ = function () {
                        var e = this.player_.volume(),
                            t = 3;
                        Ri && this.player_.tech_ && this.player_.tech_.el_ && this.player_.muted(this.player_.tech_.el_.muted), 0 === e || this.player_.muted() ? (t = 0) : e < 0.33 ? (t = 1) : e < 0.67 && (t = 2);
                        for (var i = 0; i < 4; i++) it(this.el_, "vjs-vol-" + i);
                        tt(this.el_, "vjs-vol-" + t);
                    }),
                    (i.updateControlText_ = function () {
                        var e = this.player_.muted() || 0 === this.player_.volume() ? "Unmute" : "Mute";
                        this.controlText() !== e && this.controlText(e);
                    }),
                    t
                );
            })(Zn);
            (xr.prototype.controlText_ = "Mute"), fi.registerComponent("MuteToggle", xr);
            var Ar = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        void 0 === i && (i = {}),
                        void 0 !== i.inline ? (i.inline = i.inline) : (i.inline = !0),
                        (void 0 === i.volumeControl || Ve(i.volumeControl)) && ((i.volumeControl = i.volumeControl || {}), (i.volumeControl.vertical = !i.inline)),
                        (n = e.call(this, t, i) || this).on(t, ["loadstart"], n.volumePanelState_),
                        n.on(n.muteToggle, "keyup", n.handleKeyPress),
                        n.on(n.volumeControl, "keyup", n.handleVolumeControlKeyUp),
                        n.on("keydown", n.handleKeyPress),
                        n.on("mouseover", n.handleMouseOver),
                        n.on("mouseout", n.handleMouseOut),
                        n.on(n.volumeControl, ["slideractive"], n.sliderActive_),
                        n.on(n.volumeControl, ["sliderinactive"], n.sliderInactive_),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.sliderActive_ = function () {
                        this.addClass("vjs-slider-active");
                    }),
                    (i.sliderInactive_ = function () {
                        this.removeClass("vjs-slider-active");
                    }),
                    (i.volumePanelState_ = function () {
                        this.volumeControl.hasClass("vjs-hidden") && this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-hidden"),
                            this.volumeControl.hasClass("vjs-hidden") && !this.muteToggle.hasClass("vjs-hidden") && this.addClass("vjs-mute-toggle-only");
                    }),
                    (i.createEl = function () {
                        var t = "vjs-volume-panel-horizontal";
                        return this.options_.inline || (t = "vjs-volume-panel-vertical"), e.prototype.createEl.call(this, "div", { className: "vjs-volume-panel vjs-control " + t });
                    }),
                    (i.dispose = function () {
                        this.handleMouseOut(), e.prototype.dispose.call(this);
                    }),
                    (i.handleVolumeControlKeyUp = function (e) {
                        g.a.isEventKey(e, "Esc") && this.muteToggle.focus();
                    }),
                    (i.handleMouseOver = function () {
                        this.addClass("vjs-hover"), Bt(a.a, "keyup", Gt(this, this.handleKeyPress));
                    }),
                    (i.handleMouseOut = function () {
                        this.removeClass("vjs-hover"), Ft(a.a, "keyup", Gt(this, this.handleKeyPress));
                    }),
                    (i.handleKeyPress = function (e) {
                        g.a.isEventKey(e, "Esc") && this.handleMouseOut();
                    }),
                    t
                );
            })(fi);
            (Ar.prototype.options_ = { children: ["muteToggle", "volumeControl"] }), fi.registerComponent("VolumePanel", Ar);
            var Ir = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        (n = e.call(this, t, i) || this),
                        i && (n.menuButton_ = i.menuButton),
                        (n.focusedChild_ = -1),
                        n.on("keydown", n.handleKeyDown),
                        (n.boundHandleBlur_ = Gt(c()(n), n.handleBlur)),
                        (n.boundHandleTapClick_ = Gt(c()(n), n.handleTapClick)),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.addEventListenerForItem = function (e) {
                        e instanceof fi && (this.on(e, "blur", this.boundHandleBlur_), this.on(e, ["tap", "click"], this.boundHandleTapClick_));
                    }),
                    (i.removeEventListenerForItem = function (e) {
                        e instanceof fi && (this.off(e, "blur", this.boundHandleBlur_), this.off(e, ["tap", "click"], this.boundHandleTapClick_));
                    }),
                    (i.removeChild = function (t) {
                        "string" == typeof t && (t = this.getChild(t)), this.removeEventListenerForItem(t), e.prototype.removeChild.call(this, t);
                    }),
                    (i.addItem = function (e) {
                        var t = this.addChild(e);
                        t && this.addEventListenerForItem(t);
                    }),
                    (i.createEl = function () {
                        var t = this.options_.contentElType || "ul";
                        (this.contentEl_ = Qe(t, { className: "vjs-menu-content" })), this.contentEl_.setAttribute("role", "menu");
                        var i = e.prototype.createEl.call(this, "div", { append: this.contentEl_, className: "vjs-menu" });
                        return (
                            i.appendChild(this.contentEl_),
                            Bt(i, "click", function (e) {
                                e.preventDefault(), e.stopImmediatePropagation();
                            }),
                            i
                        );
                    }),
                    (i.dispose = function () {
                        (this.contentEl_ = null), (this.boundHandleBlur_ = null), (this.boundHandleTapClick_ = null), e.prototype.dispose.call(this);
                    }),
                    (i.handleBlur = function (e) {
                        var t = e.relatedTarget || a.a.activeElement;
                        if (
                            !this.children().some(function (e) {
                                return e.el() === t;
                            })
                        ) {
                            var i = this.menuButton_;
                            i && i.buttonPressed_ && t !== i.el().firstChild && i.unpressButton();
                        }
                    }),
                    (i.handleTapClick = function (e) {
                        if (this.menuButton_) {
                            this.menuButton_.unpressButton();
                            var t = this.children();
                            if (!Array.isArray(t)) return;
                            var i = t.filter(function (t) {
                                return t.el() === e.target;
                            })[0];
                            if (!i) return;
                            "CaptionSettingsMenuItem" !== i.name() && this.menuButton_.focus();
                        }
                    }),
                    (i.handleKeyDown = function (e) {
                        g.a.isEventKey(e, "Left") || g.a.isEventKey(e, "Down")
                            ? (e.preventDefault(), e.stopPropagation(), this.stepForward())
                            : (g.a.isEventKey(e, "Right") || g.a.isEventKey(e, "Up")) && (e.preventDefault(), e.stopPropagation(), this.stepBack());
                    }),
                    (i.stepForward = function () {
                        var e = 0;
                        void 0 !== this.focusedChild_ && (e = this.focusedChild_ + 1), this.focus(e);
                    }),
                    (i.stepBack = function () {
                        var e = 0;
                        void 0 !== this.focusedChild_ && (e = this.focusedChild_ - 1), this.focus(e);
                    }),
                    (i.focus = function (e) {
                        void 0 === e && (e = 0);
                        var t = this.children().slice();
                        t.length && t[0].className && /vjs-menu-title/.test(t[0].className) && t.shift(), t.length > 0 && (e < 0 ? (e = 0) : e >= t.length && (e = t.length - 1), (this.focusedChild_ = e), t[e].el_.focus());
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("Menu", Ir);
            var Pr = (function (e) {
                function t(t, i) {
                    var n;
                    void 0 === i && (i = {}), ((n = e.call(this, t, i) || this).menuButton_ = new Zn(t, i)), n.menuButton_.controlText(n.controlText_), n.menuButton_.el_.setAttribute("aria-haspopup", "true");
                    var r = Zn.prototype.buildCSSClass();
                    return (
                        (n.menuButton_.el_.className = n.buildCSSClass() + " " + r),
                        n.menuButton_.removeClass("vjs-control"),
                        n.addChild(n.menuButton_),
                        n.update(),
                        (n.enabled_ = !0),
                        n.on(n.menuButton_, "tap", n.handleClick),
                        n.on(n.menuButton_, "click", n.handleClick),
                        n.on(n.menuButton_, "keydown", n.handleKeyDown),
                        n.on(n.menuButton_, "mouseenter", function () {
                            n.addClass("vjs-hover"), n.menu.show(), Bt(a.a, "keyup", Gt(c()(n), n.handleMenuKeyUp));
                        }),
                        n.on("mouseleave", n.handleMouseLeave),
                        n.on("keydown", n.handleSubmenuKeyDown),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.update = function () {
                        var e = this.createMenu();
                        this.menu && (this.menu.dispose(), this.removeChild(this.menu)),
                            (this.menu = e),
                            this.addChild(e),
                            (this.buttonPressed_ = !1),
                            this.menuButton_.el_.setAttribute("aria-expanded", "false"),
                            this.items && this.items.length <= this.hideThreshold_ ? this.hide() : this.show();
                    }),
                    (i.createMenu = function () {
                        var e = new Ir(this.player_, { menuButton: this });
                        if (((this.hideThreshold_ = 0), this.options_.title)) {
                            var t = Qe("li", { className: "vjs-menu-title", innerHTML: li(this.options_.title), tabIndex: -1 });
                            this.hideThreshold_ += 1;
                            var i = new fi(this.player_, { el: t });
                            e.addItem(i);
                        }
                        if (((this.items = this.createItems()), this.items)) for (var n = 0; n < this.items.length; n++) e.addItem(this.items[n]);
                        return e;
                    }),
                    (i.createItems = function () {}),
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: this.buildWrapperCSSClass() }, {});
                    }),
                    (i.buildWrapperCSSClass = function () {
                        var t = "vjs-menu-button";
                        return !0 === this.options_.inline ? (t += "-inline") : (t += "-popup"), "vjs-menu-button " + t + " " + Zn.prototype.buildCSSClass() + " " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildCSSClass = function () {
                        var t = "vjs-menu-button";
                        return !0 === this.options_.inline ? (t += "-inline") : (t += "-popup"), "vjs-menu-button " + t + " " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.controlText = function (e, t) {
                        return void 0 === t && (t = this.menuButton_.el()), this.menuButton_.controlText(e, t);
                    }),
                    (i.dispose = function () {
                        this.handleMouseLeave(), e.prototype.dispose.call(this);
                    }),
                    (i.handleClick = function () {
                        this.buttonPressed_ ? this.unpressButton() : this.pressButton();
                    }),
                    (i.handleMouseLeave = function () {
                        this.removeClass("vjs-hover"), Ft(a.a, "keyup", Gt(this, this.handleMenuKeyUp));
                    }),
                    (i.focus = function () {
                        this.menuButton_.focus();
                    }),
                    (i.blur = function () {
                        this.menuButton_.blur();
                    }),
                    (i.handleKeyDown = function (e) {
                        g.a.isEventKey(e, "Esc") || g.a.isEventKey(e, "Tab")
                            ? (this.buttonPressed_ && this.unpressButton(), g.a.isEventKey(e, "Tab") || (e.preventDefault(), this.menuButton_.focus()))
                            : (g.a.isEventKey(e, "Up") || g.a.isEventKey(e, "Down")) && (this.buttonPressed_ || (e.preventDefault(), this.pressButton()));
                    }),
                    (i.handleMenuKeyUp = function (e) {
                        (g.a.isEventKey(e, "Esc") || g.a.isEventKey(e, "Tab")) && this.removeClass("vjs-hover");
                    }),
                    (i.handleSubmenuKeyPress = function (e) {
                        this.handleSubmenuKeyDown(e);
                    }),
                    (i.handleSubmenuKeyDown = function (e) {
                        (g.a.isEventKey(e, "Esc") || g.a.isEventKey(e, "Tab")) && (this.buttonPressed_ && this.unpressButton(), g.a.isEventKey(e, "Tab") || (e.preventDefault(), this.menuButton_.focus()));
                    }),
                    (i.pressButton = function () {
                        if (this.enabled_) {
                            if (((this.buttonPressed_ = !0), this.menu.show(), this.menu.lockShowing(), this.menuButton_.el_.setAttribute("aria-expanded", "true"), Ri && Xe())) return;
                            this.menu.focus();
                        }
                    }),
                    (i.unpressButton = function () {
                        this.enabled_ && ((this.buttonPressed_ = !1), this.menu.unlockShowing(), this.menu.hide(), this.menuButton_.el_.setAttribute("aria-expanded", "false"));
                    }),
                    (i.disable = function () {
                        this.unpressButton(), (this.enabled_ = !1), this.addClass("vjs-disabled"), this.menuButton_.disable();
                    }),
                    (i.enable = function () {
                        (this.enabled_ = !0), this.removeClass("vjs-disabled"), this.menuButton_.enable();
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("MenuButton", Pr);
            var Or = (function (e) {
                function t(t, i) {
                    var n,
                        r = i.tracks;
                    if (((n = e.call(this, t, i) || this).items.length <= 1 && n.hide(), !r)) return c()(n);
                    var s = Gt(c()(n), n.update);
                    return (
                        r.addEventListener("removetrack", s),
                        r.addEventListener("addtrack", s),
                        n.player_.on("ready", s),
                        n.player_.on("dispose", function () {
                            r.removeEventListener("removetrack", s), r.removeEventListener("addtrack", s);
                        }),
                        n
                    );
                }
                return h()(t, e), t;
            })(Pr);
            fi.registerComponent("TrackButton", Or);
            var Lr = ["Tab", "Esc", "Up", "Down", "Right", "Left"],
                Dr = (function (e) {
                    function t(t, i) {
                        var n;
                        return (
                            ((n = e.call(this, t, i) || this).selectable = i.selectable),
                            (n.isSelected_ = i.selected || !1),
                            (n.multiSelectable = i.multiSelectable),
                            n.selected(n.isSelected_),
                            n.selectable ? (n.multiSelectable ? n.el_.setAttribute("role", "menuitemcheckbox") : n.el_.setAttribute("role", "menuitemradio")) : n.el_.setAttribute("role", "menuitem"),
                            n
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.createEl = function (t, i, n) {
                            return (
                                (this.nonIconControl = !0),
                                e.prototype.createEl.call(this, "li", He({ className: "vjs-menu-item", innerHTML: '<span class="vjs-menu-item-text">' + this.localize(this.options_.label) + "</span>", tabIndex: -1 }, i), n)
                            );
                        }),
                        (i.handleKeyDown = function (t) {
                            Lr.some(function (e) {
                                return g.a.isEventKey(t, e);
                            }) || e.prototype.handleKeyDown.call(this, t);
                        }),
                        (i.handleClick = function () {
                            this.selected(!0);
                        }),
                        (i.selected = function (e) {
                            this.selectable &&
                                (e
                                    ? (this.addClass("vjs-selected"), this.el_.setAttribute("aria-checked", "true"), this.controlText(", selected"), (this.isSelected_ = !0))
                                    : (this.removeClass("vjs-selected"), this.el_.setAttribute("aria-checked", "false"), this.controlText(""), (this.isSelected_ = !1)));
                        }),
                        t
                    );
                })(Wn);
            fi.registerComponent("MenuItem", Dr);
            var Rr = (function (e) {
                function t(t, i) {
                    var n,
                        s = i.track,
                        o = t.textTracks();
                    (i.label = s.label || s.language || "Unknown"), (i.selected = "showing" === s.mode), ((n = e.call(this, t, i) || this).track = s), (n.kinds = (i.kinds || [i.kind || n.track.kind]).filter(Boolean));
                    var l,
                        u = function () {
                            for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                            n.handleTracksChange.apply(c()(n), t);
                        },
                        d = function () {
                            for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                            n.handleSelectedLanguageChange.apply(c()(n), t);
                        };
                    (t.on(["loadstart", "texttrackchange"], u),
                    o.addEventListener("change", u),
                    o.addEventListener("selectedlanguagechange", d),
                    n.on("dispose", function () {
                        t.off(["loadstart", "texttrackchange"], u), o.removeEventListener("change", u), o.removeEventListener("selectedlanguagechange", d);
                    }),
                    void 0 === o.onchange) &&
                        n.on(["tap", "click"], function () {
                            if ("object" != typeof r.a.Event)
                                try {
                                    l = new r.a.Event("change");
                                } catch (e) {}
                            l || (l = a.a.createEvent("Event")).initEvent("change", !0, !0), o.dispatchEvent(l);
                        });
                    return n.handleTracksChange(), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.handleClick = function (t) {
                        var i = this.track,
                            n = this.player_.textTracks();
                        if ((e.prototype.handleClick.call(this, t), n))
                            for (var r = 0; r < n.length; r++) {
                                var s = n[r];
                                -1 !== this.kinds.indexOf(s.kind) && (s === i ? "showing" !== s.mode && (s.mode = "showing") : "disabled" !== s.mode && (s.mode = "disabled"));
                            }
                    }),
                    (i.handleTracksChange = function () {
                        var e = "showing" === this.track.mode;
                        e !== this.isSelected_ && this.selected(e);
                    }),
                    (i.handleSelectedLanguageChange = function () {
                        if ("showing" === this.track.mode) {
                            var e = this.player_.cache_.selectedLanguage;
                            if (e && e.enabled && e.language === this.track.language && e.kind !== this.track.kind) return;
                            this.player_.cache_.selectedLanguage = { enabled: !0, language: this.track.language, kind: this.track.kind };
                        }
                    }),
                    (i.dispose = function () {
                        (this.track = null), e.prototype.dispose.call(this);
                    }),
                    t
                );
            })(Dr);
            fi.registerComponent("TextTrackMenuItem", Rr);
            var Mr = (function (e) {
                function t(t, i) {
                    return (
                        (i.track = { player: t, kind: i.kind, kinds: i.kinds, default: !1, mode: "disabled" }),
                        i.kinds || (i.kinds = [i.kind]),
                        i.label ? (i.track.label = i.label) : (i.track.label = i.kinds.join(" and ") + " off"),
                        (i.selectable = !0),
                        (i.multiSelectable = !1),
                        e.call(this, t, i) || this
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.handleTracksChange = function () {
                        for (var e = this.player().textTracks(), t = !0, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (this.options_.kinds.indexOf(r.kind) > -1 && "showing" === r.mode) {
                                t = !1;
                                break;
                            }
                        }
                        t !== this.isSelected_ && this.selected(t);
                    }),
                    (i.handleSelectedLanguageChange = function () {
                        for (var e = this.player().textTracks(), t = !0, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (["captions", "descriptions", "subtitles"].indexOf(r.kind) > -1 && "showing" === r.mode) {
                                t = !1;
                                break;
                            }
                        }
                        t && (this.player_.cache_.selectedLanguage = { enabled: !1 });
                    }),
                    t
                );
            })(Rr);
            fi.registerComponent("OffTextTrackMenuItem", Mr);
            var Nr = (function (e) {
                function t(t, i) {
                    return void 0 === i && (i = {}), (i.tracks = t.textTracks()), e.call(this, t, i) || this;
                }
                return (
                    h()(t, e),
                    (t.prototype.createItems = function (e, t) {
                        var i;
                        void 0 === e && (e = []), void 0 === t && (t = Rr), this.label_ && (i = this.label_ + " off"), e.push(new Mr(this.player_, { kinds: this.kinds_, kind: this.kind_, label: i })), (this.hideThreshold_ += 1);
                        var n = this.player_.textTracks();
                        Array.isArray(this.kinds_) || (this.kinds_ = [this.kind_]);
                        for (var r = 0; r < n.length; r++) {
                            var s = n[r];
                            if (this.kinds_.indexOf(s.kind) > -1) {
                                var a = new t(this.player_, { track: s, kinds: this.kinds_, kind: this.kind_, selectable: !0, multiSelectable: !1 });
                                a.addClass("vjs-" + s.kind + "-menu-item"), e.push(a);
                            }
                        }
                        return e;
                    }),
                    t
                );
            })(Or);
            fi.registerComponent("TextTrackButton", Nr);
            var Ur = (function (e) {
                function t(t, i) {
                    var n,
                        r = i.track,
                        s = i.cue,
                        a = t.currentTime();
                    return (
                        (i.selectable = !0),
                        (i.multiSelectable = !1),
                        (i.label = s.text),
                        (i.selected = s.startTime <= a && a < s.endTime),
                        ((n = e.call(this, t, i) || this).track = r),
                        (n.cue = s),
                        r.addEventListener("cuechange", Gt(c()(n), n.update)),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.handleClick = function () {
                        e.prototype.handleClick.call(this), this.player_.currentTime(this.cue.startTime), this.update(this.cue.startTime);
                    }),
                    (i.update = function () {
                        var e = this.cue,
                            t = this.player_.currentTime();
                        this.selected(e.startTime <= t && t < e.endTime);
                    }),
                    t
                );
            })(Dr);
            fi.registerComponent("ChaptersTrackMenuItem", Ur);
            var jr = (function (e) {
                function t(t, i, n) {
                    return e.call(this, t, i, n) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-chapters-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildWrapperCSSClass = function () {
                        return "vjs-chapters-button " + e.prototype.buildWrapperCSSClass.call(this);
                    }),
                    (i.update = function (t) {
                        (this.track_ && (!t || ("addtrack" !== t.type && "removetrack" !== t.type))) || this.setTrack(this.findChaptersTrack()), e.prototype.update.call(this);
                    }),
                    (i.setTrack = function (e) {
                        if (this.track_ !== e) {
                            if ((this.updateHandler_ || (this.updateHandler_ = this.update.bind(this)), this.track_)) {
                                var t = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                                t && t.removeEventListener("load", this.updateHandler_), (this.track_ = null);
                            }
                            if (((this.track_ = e), this.track_)) {
                                this.track_.mode = "hidden";
                                var i = this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);
                                i && i.addEventListener("load", this.updateHandler_);
                            }
                        }
                    }),
                    (i.findChaptersTrack = function () {
                        for (var e = this.player_.textTracks() || [], t = e.length - 1; t >= 0; t--) {
                            var i = e[t];
                            if (i.kind === this.kind_) return i;
                        }
                    }),
                    (i.getMenuCaption = function () {
                        return this.track_ && this.track_.label ? this.track_.label : this.localize(li(this.kind_));
                    }),
                    (i.createMenu = function () {
                        return (this.options_.title = this.getMenuCaption()), e.prototype.createMenu.call(this);
                    }),
                    (i.createItems = function () {
                        var e = [];
                        if (!this.track_) return e;
                        var t = this.track_.cues;
                        if (!t) return e;
                        for (var i = 0, n = t.length; i < n; i++) {
                            var r = t[i],
                                s = new Ur(this.player_, { track: this.track_, cue: r });
                            e.push(s);
                        }
                        return e;
                    }),
                    t
                );
            })(Nr);
            (jr.prototype.kind_ = "chapters"), (jr.prototype.controlText_ = "Chapters"), fi.registerComponent("ChaptersButton", jr);
            var Br = (function (e) {
                function t(t, i, n) {
                    var r;
                    r = e.call(this, t, i, n) || this;
                    var s = t.textTracks(),
                        a = Gt(c()(r), r.handleTracksChange);
                    return (
                        s.addEventListener("change", a),
                        r.on("dispose", function () {
                            s.removeEventListener("change", a);
                        }),
                        r
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.handleTracksChange = function () {
                        for (var e = this.player().textTracks(), t = !1, i = 0, n = e.length; i < n; i++) {
                            var r = e[i];
                            if (r.kind !== this.kind_ && "showing" === r.mode) {
                                t = !0;
                                break;
                            }
                        }
                        t ? this.disable() : this.enable();
                    }),
                    (i.buildCSSClass = function () {
                        return "vjs-descriptions-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildWrapperCSSClass = function () {
                        return "vjs-descriptions-button " + e.prototype.buildWrapperCSSClass.call(this);
                    }),
                    t
                );
            })(Nr);
            (Br.prototype.kind_ = "descriptions"), (Br.prototype.controlText_ = "Descriptions"), fi.registerComponent("DescriptionsButton", Br);
            var Fr = (function (e) {
                function t(t, i, n) {
                    return e.call(this, t, i, n) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-subtitles-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildWrapperCSSClass = function () {
                        return "vjs-subtitles-button " + e.prototype.buildWrapperCSSClass.call(this);
                    }),
                    t
                );
            })(Nr);
            (Fr.prototype.kind_ = "subtitles"), (Fr.prototype.controlText_ = "Subtitles"), fi.registerComponent("SubtitlesButton", Fr);
            var Hr = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        (i.track = { player: t, kind: i.kind, label: i.kind + " settings", selectable: !1, default: !1, mode: "disabled" }),
                        (i.selectable = !1),
                        (i.name = "CaptionSettingsMenuItem"),
                        (n = e.call(this, t, i) || this).addClass("vjs-texttrack-settings"),
                        n.controlText(", opens " + i.kind + " settings dialog"),
                        n
                    );
                }
                return (
                    h()(t, e),
                    (t.prototype.handleClick = function () {
                        this.player().getChild("textTrackSettings").open();
                    }),
                    t
                );
            })(Rr);
            fi.registerComponent("CaptionSettingsMenuItem", Hr);
            var qr = (function (e) {
                function t(t, i, n) {
                    return e.call(this, t, i, n) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-captions-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildWrapperCSSClass = function () {
                        return "vjs-captions-button " + e.prototype.buildWrapperCSSClass.call(this);
                    }),
                    (i.createItems = function () {
                        var t = [];
                        return (
                            (this.player().tech_ && this.player().tech_.featuresNativeTextTracks) || !this.player().getChild("textTrackSettings") || (t.push(new Hr(this.player_, { kind: this.kind_ })), (this.hideThreshold_ += 1)),
                            e.prototype.createItems.call(this, t)
                        );
                    }),
                    t
                );
            })(Nr);
            (qr.prototype.kind_ = "captions"), (qr.prototype.controlText_ = "Captions"), fi.registerComponent("CaptionsButton", qr);
            var Vr = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                return (
                    h()(t, e),
                    (t.prototype.createEl = function (t, i, n) {
                        var r = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
                        return (
                            "captions" === this.options_.track.kind &&
                                (r += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Captions") + "</span>\n      "),
                            (r += "</span>"),
                            e.prototype.createEl.call(this, t, He({ innerHTML: r }, i), n)
                        );
                    }),
                    t
                );
            })(Rr);
            fi.registerComponent("SubsCapsMenuItem", Vr);
            var $r = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        void 0 === i && (i = {}),
                        ((n = e.call(this, t, i) || this).label_ = "subtitles"),
                        ["en", "en-us", "en-ca", "fr-ca"].indexOf(n.player_.language_) > -1 && (n.label_ = "captions"),
                        n.menuButton_.controlText(li(n.label_)),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-subs-caps-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildWrapperCSSClass = function () {
                        return "vjs-subs-caps-button " + e.prototype.buildWrapperCSSClass.call(this);
                    }),
                    (i.createItems = function () {
                        var t = [];
                        return (
                            (this.player().tech_ && this.player().tech_.featuresNativeTextTracks) || !this.player().getChild("textTrackSettings") || (t.push(new Hr(this.player_, { kind: this.label_ })), (this.hideThreshold_ += 1)),
                            (t = e.prototype.createItems.call(this, t, Vr))
                        );
                    }),
                    t
                );
            })(Nr);
            ($r.prototype.kinds_ = ["captions", "subtitles"]), ($r.prototype.controlText_ = "Subtitles"), fi.registerComponent("SubsCapsButton", $r);
            var zr = (function (e) {
                function t(t, i) {
                    var n,
                        r = i.track,
                        s = t.audioTracks();
                    (i.label = r.label || r.language || "Unknown"), (i.selected = r.enabled), ((n = e.call(this, t, i) || this).track = r), n.addClass("vjs-" + r.kind + "-menu-item");
                    var a = function () {
                        for (var e = arguments.length, t = new Array(e), i = 0; i < e; i++) t[i] = arguments[i];
                        n.handleTracksChange.apply(c()(n), t);
                    };
                    return (
                        s.addEventListener("change", a),
                        n.on("dispose", function () {
                            s.removeEventListener("change", a);
                        }),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function (t, i, n) {
                        var r = '<span class="vjs-menu-item-text">' + this.localize(this.options_.label);
                        return (
                            "main-desc" === this.options_.track.kind &&
                                (r += '\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> ' + this.localize("Descriptions") + "</span>\n      "),
                            (r += "</span>"),
                            e.prototype.createEl.call(this, t, He({ innerHTML: r }, i), n)
                        );
                    }),
                    (i.handleClick = function (t) {
                        var i = this.player_.audioTracks();
                        e.prototype.handleClick.call(this, t);
                        for (var n = 0; n < i.length; n++) {
                            var r = i[n];
                            r.enabled = r === this.track;
                        }
                    }),
                    (i.handleTracksChange = function () {
                        this.selected(this.track.enabled);
                    }),
                    t
                );
            })(Dr);
            fi.registerComponent("AudioTrackMenuItem", zr);
            var Wr = (function (e) {
                function t(t, i) {
                    return void 0 === i && (i = {}), (i.tracks = t.audioTracks()), e.call(this, t, i) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-audio-button " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildWrapperCSSClass = function () {
                        return "vjs-audio-button " + e.prototype.buildWrapperCSSClass.call(this);
                    }),
                    (i.createItems = function (e) {
                        void 0 === e && (e = []), (this.hideThreshold_ = 1);
                        for (var t = this.player_.audioTracks(), i = 0; i < t.length; i++) {
                            var n = t[i];
                            e.push(new zr(this.player_, { track: n, selectable: !0, multiSelectable: !1 }));
                        }
                        return e;
                    }),
                    t
                );
            })(Or);
            (Wr.prototype.controlText_ = "Audio Track"), fi.registerComponent("AudioTrackButton", Wr);
            var Gr = (function (e) {
                function t(t, i) {
                    var n,
                        r = i.rate,
                        s = parseFloat(r, 10);
                    return (i.label = r), (i.selected = 1 === s), (i.selectable = !0), (i.multiSelectable = !1), ((n = e.call(this, t, i) || this).label = r), (n.rate = s), n.on(t, "ratechange", n.update), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.handleClick = function () {
                        e.prototype.handleClick.call(this), this.player().playbackRate(this.rate);
                    }),
                    (i.update = function () {
                        this.selected(this.player().playbackRate() === this.rate);
                    }),
                    t
                );
            })(Dr);
            (Gr.prototype.contentElType = "button"), fi.registerComponent("PlaybackRateMenuItem", Gr);
            var Yr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).updateVisibility(), n.updateLabel(), n.on(t, "loadstart", n.updateVisibility), n.on(t, "ratechange", n.updateLabel), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        var t = e.prototype.createEl.call(this);
                        return (this.labelEl_ = Qe("div", { className: "vjs-playback-rate-value", innerHTML: "1x" })), t.appendChild(this.labelEl_), t;
                    }),
                    (i.dispose = function () {
                        (this.labelEl_ = null), e.prototype.dispose.call(this);
                    }),
                    (i.buildCSSClass = function () {
                        return "vjs-playback-rate " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.buildWrapperCSSClass = function () {
                        return "vjs-playback-rate " + e.prototype.buildWrapperCSSClass.call(this);
                    }),
                    (i.createMenu = function () {
                        var e = new Ir(this.player()),
                            t = this.playbackRates();
                        if (t) for (var i = t.length - 1; i >= 0; i--) e.addChild(new Gr(this.player(), { rate: t[i] + "x" }));
                        return e;
                    }),
                    (i.updateARIAAttributes = function () {
                        this.el().setAttribute("aria-valuenow", this.player().playbackRate());
                    }),
                    (i.handleClick = function () {
                        for (var e = this.player().playbackRate(), t = this.playbackRates(), i = t[0], n = 0; n < t.length; n++)
                            if (t[n] > e) {
                                i = t[n];
                                break;
                            }
                        this.player().playbackRate(i);
                    }),
                    (i.playbackRates = function () {
                        return this.options_.playbackRates || (this.options_.playerOptions && this.options_.playerOptions.playbackRates);
                    }),
                    (i.playbackRateSupported = function () {
                        return this.player().tech_ && this.player().tech_.featuresPlaybackRate && this.playbackRates() && this.playbackRates().length > 0;
                    }),
                    (i.updateVisibility = function () {
                        this.playbackRateSupported() ? this.removeClass("vjs-hidden") : this.addClass("vjs-hidden");
                    }),
                    (i.updateLabel = function () {
                        this.playbackRateSupported() && (this.labelEl_.innerHTML = this.player().playbackRate() + "x");
                    }),
                    t
                );
            })(Pr);
            (Yr.prototype.controlText_ = "Playback Rate"), fi.registerComponent("PlaybackRateMenuButton", Yr);
            var Xr = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-spacer " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: this.buildCSSClass() });
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("Spacer", Xr);
            var Kr = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-custom-control-spacer " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.createEl = function () {
                        var t = e.prototype.createEl.call(this, { className: this.buildCSSClass() });
                        return (t.innerHTML = "Â "), t;
                    }),
                    t
                );
            })(Xr);
            fi.registerComponent("CustomControlSpacer", Kr);
            var Qr = (function (e) {
                function t() {
                    return e.apply(this, arguments) || this;
                }
                return (
                    h()(t, e),
                    (t.prototype.createEl = function () {
                        return e.prototype.createEl.call(this, "div", { className: "vjs-control-bar", dir: "ltr" });
                    }),
                    t
                );
            })(fi);
            (Qr.prototype.options_ = {
                children: [
                    "playToggle",
                    "volumePanel",
                    "currentTimeDisplay",
                    "timeDivider",
                    "durationDisplay",
                    "progressControl",
                    "liveDisplay",
                    "seekToLive",
                    "remainingTimeDisplay",
                    "customControlSpacer",
                    "playbackRateMenuButton",
                    "chaptersButton",
                    "descriptionsButton",
                    "subsCapsButton",
                    "audioTrackButton",
                    "fullscreenToggle",
                ],
            }),
                "exitPictureInPicture" in a.a && Qr.prototype.options_.children.splice(Qr.prototype.options_.children.length - 1, 0, "pictureInPictureToggle"),
                fi.registerComponent("ControlBar", Qr);
            var Jr = (function (e) {
                function t(t, i) {
                    var n;
                    return (n = e.call(this, t, i) || this).on(t, "error", n.open), n;
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.buildCSSClass = function () {
                        return "vjs-error-display " + e.prototype.buildCSSClass.call(this);
                    }),
                    (i.content = function () {
                        var e = this.player().error();
                        return e ? this.localize(e.message) : "";
                    }),
                    t
                );
            })(en);
            (Jr.prototype.options_ = l()({}, en.prototype.options_, { pauseOnOpen: !1, fillAlways: !0, temporary: !1, uncloseable: !0 })), fi.registerComponent("ErrorDisplay", Jr);
            var Zr = "vjs-text-track-settings",
                es = ["#000", "Black"],
                ts = ["#00F", "Blue"],
                is = ["#0FF", "Cyan"],
                ns = ["#0F0", "Green"],
                rs = ["#F0F", "Magenta"],
                ss = ["#F00", "Red"],
                as = ["#FFF", "White"],
                os = ["#FF0", "Yellow"],
                ls = ["1", "Opaque"],
                us = ["0.5", "Semi-Transparent"],
                cs = ["0", "Transparent"],
                ds = {
                    backgroundColor: { selector: ".vjs-bg-color > select", id: "captions-background-color-%s", label: "Color", options: [es, as, ss, ns, ts, os, rs, is] },
                    backgroundOpacity: { selector: ".vjs-bg-opacity > select", id: "captions-background-opacity-%s", label: "Transparency", options: [ls, us, cs] },
                    color: { selector: ".vjs-fg-color > select", id: "captions-foreground-color-%s", label: "Color", options: [as, es, ss, ns, ts, os, rs, is] },
                    edgeStyle: {
                        selector: ".vjs-edge-style > select",
                        id: "%s",
                        label: "Text Edge Style",
                        options: [
                            ["none", "None"],
                            ["raised", "Raised"],
                            ["depressed", "Depressed"],
                            ["uniform", "Uniform"],
                            ["dropshadow", "Dropshadow"],
                        ],
                    },
                    fontFamily: {
                        selector: ".vjs-font-family > select",
                        id: "captions-font-family-%s",
                        label: "Font Family",
                        options: [
                            ["proportionalSansSerif", "Proportional Sans-Serif"],
                            ["monospaceSansSerif", "Monospace Sans-Serif"],
                            ["proportionalSerif", "Proportional Serif"],
                            ["monospaceSerif", "Monospace Serif"],
                            ["casual", "Casual"],
                            ["script", "Script"],
                            ["small-caps", "Small Caps"],
                        ],
                    },
                    fontPercent: {
                        selector: ".vjs-font-percent > select",
                        id: "captions-font-size-%s",
                        label: "Font Size",
                        options: [
                            ["0.50", "50%"],
                            ["0.75", "75%"],
                            ["1.00", "100%"],
                            ["1.25", "125%"],
                            ["1.50", "150%"],
                            ["1.75", "175%"],
                            ["2.00", "200%"],
                            ["3.00", "300%"],
                            ["4.00", "400%"],
                        ],
                        default: 2,
                        parser: function (e) {
                            return "1.00" === e ? null : Number(e);
                        },
                    },
                    textOpacity: { selector: ".vjs-text-opacity > select", id: "captions-foreground-opacity-%s", label: "Transparency", options: [ls, us] },
                    windowColor: { selector: ".vjs-window-color > select", id: "captions-window-color-%s", label: "Color" },
                    windowOpacity: { selector: ".vjs-window-opacity > select", id: "captions-window-opacity-%s", label: "Transparency", options: [cs, us, ls] },
                };
            function hs(e, t) {
                if ((t && (e = t(e)), e && "none" !== e)) return e;
            }
            ds.windowColor.options = ds.backgroundColor.options;
            var ps = (function (e) {
                function t(t, i) {
                    var n;
                    return (
                        (i.temporary = !1),
                        ((n = e.call(this, t, i) || this).updateDisplay = Gt(c()(n), n.updateDisplay)),
                        n.fill(),
                        (n.hasBeenOpened_ = n.hasBeenFilled_ = !0),
                        (n.endDialog = Qe("p", { className: "vjs-control-text", textContent: n.localize("End of dialog window.") })),
                        n.el().appendChild(n.endDialog),
                        n.setDefaults(),
                        void 0 === i.persistTextTrackSettings && (n.options_.persistTextTrackSettings = n.options_.playerOptions.persistTextTrackSettings),
                        n.on(n.$(".vjs-done-button"), "click", function () {
                            n.saveSettings(), n.close();
                        }),
                        n.on(n.$(".vjs-default-button"), "click", function () {
                            n.setDefaults(), n.updateDisplay();
                        }),
                        Fe(ds, function (e) {
                            n.on(n.$(e.selector), "change", n.updateDisplay);
                        }),
                        n.options_.persistTextTrackSettings && n.restoreSettings(),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.dispose = function () {
                        (this.endDialog = null), e.prototype.dispose.call(this);
                    }),
                    (i.createElSelect_ = function (e, t, i) {
                        var n = this;
                        void 0 === t && (t = ""), void 0 === i && (i = "label");
                        var r = ds[e],
                            s = r.id.replace("%s", this.id_),
                            a = [t, s].join(" ").trim();
                        return ["<" + i + ' id="' + s + '" class="' + ("label" === i ? "vjs-label" : "") + '">', this.localize(r.label), "</" + i + ">", '<select aria-labelledby="' + a + '">']
                            .concat(
                                r.options.map(function (e) {
                                    var t = s + "-" + e[1].replace(/\W+/g, "");
                                    return ['<option id="' + t + '" value="' + e[0] + '" ', 'aria-labelledby="' + a + " " + t + '">', n.localize(e[1]), "</option>"].join("");
                                })
                            )
                            .concat("</select>")
                            .join("");
                    }),
                    (i.createElFgColor_ = function () {
                        var e = "captions-text-legend-" + this.id_;
                        return [
                            '<fieldset class="vjs-fg-color vjs-track-setting">',
                            '<legend id="' + e + '">',
                            this.localize("Text"),
                            "</legend>",
                            this.createElSelect_("color", e),
                            '<span class="vjs-text-opacity vjs-opacity">',
                            this.createElSelect_("textOpacity", e),
                            "</span>",
                            "</fieldset>",
                        ].join("");
                    }),
                    (i.createElBgColor_ = function () {
                        var e = "captions-background-" + this.id_;
                        return [
                            '<fieldset class="vjs-bg-color vjs-track-setting">',
                            '<legend id="' + e + '">',
                            this.localize("Background"),
                            "</legend>",
                            this.createElSelect_("backgroundColor", e),
                            '<span class="vjs-bg-opacity vjs-opacity">',
                            this.createElSelect_("backgroundOpacity", e),
                            "</span>",
                            "</fieldset>",
                        ].join("");
                    }),
                    (i.createElWinColor_ = function () {
                        var e = "captions-window-" + this.id_;
                        return [
                            '<fieldset class="vjs-window-color vjs-track-setting">',
                            '<legend id="' + e + '">',
                            this.localize("Window"),
                            "</legend>",
                            this.createElSelect_("windowColor", e),
                            '<span class="vjs-window-opacity vjs-opacity">',
                            this.createElSelect_("windowOpacity", e),
                            "</span>",
                            "</fieldset>",
                        ].join("");
                    }),
                    (i.createElColors_ = function () {
                        return Qe("div", { className: "vjs-track-settings-colors", innerHTML: [this.createElFgColor_(), this.createElBgColor_(), this.createElWinColor_()].join("") });
                    }),
                    (i.createElFont_ = function () {
                        return Qe("div", {
                            className: "vjs-track-settings-font",
                            innerHTML: [
                                '<fieldset class="vjs-font-percent vjs-track-setting">',
                                this.createElSelect_("fontPercent", "", "legend"),
                                "</fieldset>",
                                '<fieldset class="vjs-edge-style vjs-track-setting">',
                                this.createElSelect_("edgeStyle", "", "legend"),
                                "</fieldset>",
                                '<fieldset class="vjs-font-family vjs-track-setting">',
                                this.createElSelect_("fontFamily", "", "legend"),
                                "</fieldset>",
                            ].join(""),
                        });
                    }),
                    (i.createElControls_ = function () {
                        var e = this.localize("restore all settings to the default values");
                        return Qe("div", {
                            className: "vjs-track-settings-controls",
                            innerHTML: [
                                '<button type="button" class="vjs-default-button" title="' + e + '">',
                                this.localize("Reset"),
                                '<span class="vjs-control-text"> ' + e + "</span>",
                                "</button>",
                                '<button type="button" class="vjs-done-button">' + this.localize("Done") + "</button>",
                            ].join(""),
                        });
                    }),
                    (i.content = function () {
                        return [this.createElColors_(), this.createElFont_(), this.createElControls_()];
                    }),
                    (i.label = function () {
                        return this.localize("Caption Settings Dialog");
                    }),
                    (i.description = function () {
                        return this.localize("Beginning of dialog window. Escape will cancel and close the window.");
                    }),
                    (i.buildCSSClass = function () {
                        return e.prototype.buildCSSClass.call(this) + " vjs-text-track-settings";
                    }),
                    (i.getValues = function () {
                        var e,
                            t,
                            i,
                            n = this;
                        return (
                            (t = function (e, t, i) {
                                var r,
                                    s,
                                    a = ((r = n.$(t.selector)), (s = t.parser), hs(r.options[r.options.selectedIndex].value, s));
                                return void 0 !== a && (e[i] = a), e;
                            }),
                            void 0 === (i = {}) && (i = 0),
                            Be((e = ds)).reduce(function (i, n) {
                                return t(i, e[n], n);
                            }, i)
                        );
                    }),
                    (i.setValues = function (e) {
                        var t = this;
                        Fe(ds, function (i, n) {
                            !(function (e, t, i) {
                                if (t)
                                    for (var n = 0; n < e.options.length; n++)
                                        if (hs(e.options[n].value, i) === t) {
                                            e.selectedIndex = n;
                                            break;
                                        }
                            })(t.$(i.selector), e[n], i.parser);
                        });
                    }),
                    (i.setDefaults = function () {
                        var e = this;
                        Fe(ds, function (t) {
                            var i = t.hasOwnProperty("default") ? t.default : 0;
                            e.$(t.selector).selectedIndex = i;
                        });
                    }),
                    (i.restoreSettings = function () {
                        var e;
                        try {
                            e = JSON.parse(r.a.localStorage.getItem(Zr));
                        } catch (e) {
                            Ne.warn(e);
                        }
                        e && this.setValues(e);
                    }),
                    (i.saveSettings = function () {
                        if (this.options_.persistTextTrackSettings) {
                            var e = this.getValues();
                            try {
                                Object.keys(e).length ? r.a.localStorage.setItem(Zr, JSON.stringify(e)) : r.a.localStorage.removeItem(Zr);
                            } catch (e) {
                                Ne.warn(e);
                            }
                        }
                    }),
                    (i.updateDisplay = function () {
                        var e = this.player_.getChild("textTrackDisplay");
                        e && e.updateDisplay();
                    }),
                    (i.conditionalBlur_ = function () {
                        this.previouslyActiveEl_ = null;
                        var e = this.player_.controlBar,
                            t = e && e.subsCapsButton,
                            i = e && e.captionsButton;
                        t ? t.focus() : i && i.focus();
                    }),
                    t
                );
            })(en);
            fi.registerComponent("TextTrackSettings", ps);
            var fs = (function (e) {
                function t(t, i) {
                    var n,
                        s = i.ResizeObserver || r.a.ResizeObserver;
                    null === i.ResizeObserver && (s = !1);
                    var a = ui({ createEl: !s, reportTouchActivity: !1 }, i);
                    return (
                        ((n = e.call(this, t, a) || this).ResizeObserver = i.ResizeObserver || r.a.ResizeObserver),
                        (n.loadListener_ = null),
                        (n.resizeObserver_ = null),
                        (n.debouncedHandler_ = (function (e, t, i, n) {
                            var s;
                            void 0 === n && (n = r.a);
                            var a = function () {
                                var r = this,
                                    a = arguments,
                                    o = function () {
                                        (s = null), (o = null), i || e.apply(r, a);
                                    };
                                !s && i && e.apply(r, a), n.clearTimeout(s), (s = n.setTimeout(o, t));
                            };
                            return (
                                (a.cancel = function () {
                                    n.clearTimeout(s), (s = null);
                                }),
                                a
                            );
                        })(
                            function () {
                                n.resizeHandler();
                            },
                            100,
                            !1,
                            c()(n)
                        )),
                        s
                            ? ((n.resizeObserver_ = new n.ResizeObserver(n.debouncedHandler_)), n.resizeObserver_.observe(t.el()))
                            : ((n.loadListener_ = function () {
                                  if (n.el_ && n.el_.contentWindow) {
                                      var e = n.debouncedHandler_,
                                          t = (n.unloadListener_ = function () {
                                              Ft(this, "resize", e), Ft(this, "unload", t), (t = null);
                                          });
                                      Bt(n.el_.contentWindow, "unload", t), Bt(n.el_.contentWindow, "resize", e);
                                  }
                              }),
                              n.one("load", n.loadListener_)),
                        n
                    );
                }
                h()(t, e);
                var i = t.prototype;
                return (
                    (i.createEl = function () {
                        return e.prototype.createEl.call(this, "iframe", { className: "vjs-resize-manager", tabIndex: -1 }, { "aria-hidden": "true" });
                    }),
                    (i.resizeHandler = function () {
                        this.player_ && this.player_.trigger && this.player_.trigger("playerresize");
                    }),
                    (i.dispose = function () {
                        this.debouncedHandler_ && this.debouncedHandler_.cancel(),
                            this.resizeObserver_ && (this.player_.el() && this.resizeObserver_.unobserve(this.player_.el()), this.resizeObserver_.disconnect()),
                            this.loadListener_ && this.off("load", this.loadListener_),
                            this.el_ && this.el_.contentWindow && this.unloadListener_ && this.unloadListener_.call(this.el_.contentWindow),
                            (this.ResizeObserver = null),
                            (this.resizeObserver = null),
                            (this.debouncedHandler_ = null),
                            (this.loadListener_ = null),
                            e.prototype.dispose.call(this);
                    }),
                    t
                );
            })(fi);
            fi.registerComponent("ResizeManager", fs);
            var ms = { trackingThreshold: 30, liveTolerance: 15 },
                gs = (function (e) {
                    function t(t, i) {
                        var n,
                            r = ui(ms, i, { createEl: !1 });
                        return (
                            (n = e.call(this, t, r) || this).reset_(),
                            n.on(n.player_, "durationchange", n.handleDurationchange),
                            Ai && "hidden" in a.a && "visibilityState" in a.a && n.on(a.a, "visibilitychange", n.handleVisibilityChange),
                            n
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.handleVisibilityChange = function () {
                            this.player_.duration() === 1 / 0 && (a.a.hidden ? this.stopTracking() : this.startTracking());
                        }),
                        (i.trackLive_ = function () {
                            var e = this.player_.seekable();
                            if (e && e.length) {
                                var t = Number(r.a.performance.now().toFixed(4)),
                                    i = -1 === this.lastTime_ ? 0 : (t - this.lastTime_) / 1e3;
                                (this.lastTime_ = t), (this.pastSeekEnd_ = this.pastSeekEnd() + i);
                                var n = this.liveCurrentTime(),
                                    s = this.player_.currentTime(),
                                    a = this.player_.paused() || this.seekedBehindLive_ || Math.abs(n - s) > this.options_.liveTolerance;
                                (this.timeupdateSeen_ && n !== 1 / 0) || (a = !1), a !== this.behindLiveEdge_ && ((this.behindLiveEdge_ = a), this.trigger("liveedgechange"));
                            }
                        }),
                        (i.handleDurationchange = function () {
                            this.player_.duration() === 1 / 0 && this.liveWindow() >= this.options_.trackingThreshold
                                ? (this.player_.options_.liveui && this.player_.addClass("vjs-liveui"), this.startTracking())
                                : (this.player_.removeClass("vjs-liveui"), this.stopTracking());
                        }),
                        (i.startTracking = function () {
                            this.isTracking() ||
                                (this.timeupdateSeen_ || (this.timeupdateSeen_ = this.player_.hasStarted()),
                                (this.trackingInterval_ = this.setInterval(this.trackLive_, Wt)),
                                this.trackLive_(),
                                this.on(this.player_, ["play", "pause"], this.trackLive_),
                                this.timeupdateSeen_ ? this.on(this.player_, "seeked", this.handleSeeked) : (this.one(this.player_, "play", this.handlePlay), this.one(this.player_, "timeupdate", this.handleFirstTimeupdate)));
                        }),
                        (i.handleFirstTimeupdate = function () {
                            (this.timeupdateSeen_ = !0), this.on(this.player_, "seeked", this.handleSeeked);
                        }),
                        (i.handleSeeked = function () {
                            var e = Math.abs(this.liveCurrentTime() - this.player_.currentTime());
                            (this.seekedBehindLive_ = !this.skipNextSeeked_ && e > 2), (this.skipNextSeeked_ = !1), this.trackLive_();
                        }),
                        (i.handlePlay = function () {
                            this.one(this.player_, "timeupdate", this.seekToLiveEdge);
                        }),
                        (i.reset_ = function () {
                            (this.lastTime_ = -1),
                                (this.pastSeekEnd_ = 0),
                                (this.lastSeekEnd_ = -1),
                                (this.behindLiveEdge_ = !0),
                                (this.timeupdateSeen_ = !1),
                                (this.seekedBehindLive_ = !1),
                                (this.skipNextSeeked_ = !1),
                                this.clearInterval(this.trackingInterval_),
                                (this.trackingInterval_ = null),
                                this.off(this.player_, ["play", "pause"], this.trackLive_),
                                this.off(this.player_, "seeked", this.handleSeeked),
                                this.off(this.player_, "play", this.handlePlay),
                                this.off(this.player_, "timeupdate", this.handleFirstTimeupdate),
                                this.off(this.player_, "timeupdate", this.seekToLiveEdge);
                        }),
                        (i.stopTracking = function () {
                            this.isTracking() && (this.reset_(), this.trigger("liveedgechange"));
                        }),
                        (i.seekableEnd = function () {
                            for (var e = this.player_.seekable(), t = [], i = e ? e.length : 0; i--; ) t.push(e.end(i));
                            return t.length ? t.sort()[t.length - 1] : 1 / 0;
                        }),
                        (i.seekableStart = function () {
                            for (var e = this.player_.seekable(), t = [], i = e ? e.length : 0; i--; ) t.push(e.start(i));
                            return t.length ? t.sort()[0] : 0;
                        }),
                        (i.liveWindow = function () {
                            var e = this.liveCurrentTime();
                            return e === 1 / 0 ? 1 / 0 : e - this.seekableStart();
                        }),
                        (i.isLive = function () {
                            return this.isTracking();
                        }),
                        (i.atLiveEdge = function () {
                            return !this.behindLiveEdge();
                        }),
                        (i.liveCurrentTime = function () {
                            return this.pastSeekEnd() + this.seekableEnd();
                        }),
                        (i.pastSeekEnd = function () {
                            var e = this.seekableEnd();
                            return -1 !== this.lastSeekEnd_ && e !== this.lastSeekEnd_ && (this.pastSeekEnd_ = 0), (this.lastSeekEnd_ = e), this.pastSeekEnd_;
                        }),
                        (i.behindLiveEdge = function () {
                            return this.behindLiveEdge_;
                        }),
                        (i.isTracking = function () {
                            return "number" == typeof this.trackingInterval_;
                        }),
                        (i.seekToLiveEdge = function () {
                            (this.seekedBehindLive_ = !1), this.atLiveEdge() || ((this.skipNextSeeked_ = !0), this.player_.currentTime(this.liveCurrentTime()));
                        }),
                        (i.dispose = function () {
                            this.off(a.a, "visibilitychange", this.handleVisibilityChange), this.stopTracking(), e.prototype.dispose.call(this);
                        }),
                        t
                    );
                })(fi);
            fi.registerComponent("LiveTracker", gs);
            var vs,
                ys = function (e) {
                    var t = e.el();
                    if (t.hasAttribute("src")) return e.triggerSourceset(t.src), !0;
                    var i = e.$$("source"),
                        n = [],
                        r = "";
                    if (!i.length) return !1;
                    for (var s = 0; s < i.length; s++) {
                        var a = i[s].src;
                        a && -1 === n.indexOf(a) && n.push(a);
                    }
                    return !!n.length && (1 === n.length && (r = n[0]), e.triggerSourceset(r), !0);
                },
                _s = Object.defineProperty({}, "innerHTML", {
                    get: function () {
                        return this.cloneNode(!0).innerHTML;
                    },
                    set: function (e) {
                        var t = a.a.createElement(this.nodeName.toLowerCase());
                        t.innerHTML = e;
                        for (var i = a.a.createDocumentFragment(); t.childNodes.length; ) i.appendChild(t.childNodes[0]);
                        return (this.innerText = ""), r.a.Element.prototype.appendChild.call(this, i), this.innerHTML;
                    },
                }),
                bs = function (e, t) {
                    for (var i = {}, n = 0; n < e.length && !((i = Object.getOwnPropertyDescriptor(e[n], t)) && i.set && i.get); n++);
                    return (i.enumerable = !0), (i.configurable = !0), i;
                },
                Ts = function (e) {
                    var t = e.el();
                    if (!t.resetSourceWatch_) {
                        var i = {},
                            n = (function (e) {
                                return bs([e.el(), r.a.HTMLMediaElement.prototype, r.a.Element.prototype, _s], "innerHTML");
                            })(e),
                            s = function (i) {
                                return function () {
                                    for (var n = arguments.length, r = new Array(n), s = 0; s < n; s++) r[s] = arguments[s];
                                    var a = i.apply(t, r);
                                    return ys(e), a;
                                };
                            };
                        ["append", "appendChild", "insertAdjacentHTML"].forEach(function (e) {
                            t[e] && ((i[e] = t[e]), (t[e] = s(i[e])));
                        }),
                            Object.defineProperty(t, "innerHTML", ui(n, { set: s(n.set) })),
                            (t.resetSourceWatch_ = function () {
                                (t.resetSourceWatch_ = null),
                                    Object.keys(i).forEach(function (e) {
                                        t[e] = i[e];
                                    }),
                                    Object.defineProperty(t, "innerHTML", n);
                            }),
                            e.one("sourceset", t.resetSourceWatch_);
                    }
                },
                Ss = Object.defineProperty({}, "src", {
                    get: function () {
                        return this.hasAttribute("src") ? vn(r.a.Element.prototype.getAttribute.call(this, "src")) : "";
                    },
                    set: function (e) {
                        return r.a.Element.prototype.setAttribute.call(this, "src", e), e;
                    },
                }),
                ws = function (e) {
                    if (e.featuresSourceset) {
                        var t = e.el();
                        if (!t.resetSourceset_) {
                            var i = (function (e) {
                                    return bs([e.el(), r.a.HTMLMediaElement.prototype, Ss], "src");
                                })(e),
                                n = t.setAttribute,
                                s = t.load;
                            Object.defineProperty(
                                t,
                                "src",
                                ui(i, {
                                    set: function (n) {
                                        var r = i.set.call(t, n);
                                        return e.triggerSourceset(t.src), r;
                                    },
                                })
                            ),
                                (t.setAttribute = function (i, r) {
                                    var s = n.call(t, i, r);
                                    return /src/i.test(i) && e.triggerSourceset(t.src), s;
                                }),
                                (t.load = function () {
                                    var i = s.call(t);
                                    return ys(e) || (e.triggerSourceset(""), Ts(e)), i;
                                }),
                                t.currentSrc ? e.triggerSourceset(t.currentSrc) : ys(e) || Ts(e),
                                (t.resetSourceset_ = function () {
                                    (t.resetSourceset_ = null), (t.load = s), (t.setAttribute = n), Object.defineProperty(t, "src", i), t.resetSourceWatch_ && t.resetSourceWatch_();
                                });
                        }
                    }
                },
                ks = function (e, t, i, n) {
                    void 0 === n && (n = !0);
                    var r = function (i) {
                            return Object.defineProperty(e, t, { value: i, enumerable: !0, writable: !0 });
                        },
                        s = {
                            configurable: !0,
                            enumerable: !0,
                            get: function () {
                                var e = i();
                                return r(e), e;
                            },
                        };
                    return n && (s.set = r), Object.defineProperty(e, t, s);
                },
                Cs = (function (e) {
                    function t(t, i) {
                        var n;
                        n = e.call(this, t, i) || this;
                        var r = t.source,
                            s = !1;
                        if ((r && (n.el_.currentSrc !== r.src || (t.tag && 3 === t.tag.initNetworkState_)) ? n.setSource(r) : n.handleLateInit_(n.el_), t.enableSourceset && n.setupSourcesetHandling_(), n.el_.hasChildNodes())) {
                            for (var a = n.el_.childNodes, o = a.length, l = []; o--; ) {
                                var u = a[o];
                                "track" === u.nodeName.toLowerCase() &&
                                    (n.featuresNativeTextTracks
                                        ? (n.remoteTextTrackEls().addTrackElement_(u), n.remoteTextTracks().addTrack(u.track), n.textTracks().addTrack(u.track), s || n.el_.hasAttribute("crossorigin") || !_n(u.src) || (s = !0))
                                        : l.push(u));
                            }
                            for (var c = 0; c < l.length; c++) n.el_.removeChild(l[c]);
                        }
                        return (
                            n.proxyNativeTracks_(),
                            n.featuresNativeTextTracks && s && Ne.warn("Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\nThis may prevent text tracks from loading."),
                            n.restoreMetadataTracksInIOSNativePlayer_(),
                            (Oi || Di || wi) && !0 === t.nativeControlsForTouch && n.setControls(!0),
                            n.proxyWebkitFullscreen_(),
                            n.triggerReady(),
                            n
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.dispose = function () {
                            this.el_ && this.el_.resetSourceset_ && this.el_.resetSourceset_(), t.disposeMediaElement(this.el_), (this.options_ = null), e.prototype.dispose.call(this);
                        }),
                        (i.setupSourcesetHandling_ = function () {
                            ws(this);
                        }),
                        (i.restoreMetadataTracksInIOSNativePlayer_ = function () {
                            var e,
                                t = this.textTracks(),
                                i = function () {
                                    e = [];
                                    for (var i = 0; i < t.length; i++) {
                                        var n = t[i];
                                        "metadata" === n.kind && e.push({ track: n, storedMode: n.mode });
                                    }
                                };
                            i(),
                                t.addEventListener("change", i),
                                this.on("dispose", function () {
                                    return t.removeEventListener("change", i);
                                });
                            var n = function i() {
                                for (var n = 0; n < e.length; n++) {
                                    var r = e[n];
                                    "disabled" === r.track.mode && r.track.mode !== r.storedMode && (r.track.mode = r.storedMode);
                                }
                                t.removeEventListener("change", i);
                            };
                            this.on("webkitbeginfullscreen", function () {
                                t.removeEventListener("change", i), t.removeEventListener("change", n), t.addEventListener("change", n);
                            }),
                                this.on("webkitendfullscreen", function () {
                                    t.removeEventListener("change", i), t.addEventListener("change", i), t.removeEventListener("change", n);
                                });
                        }),
                        (i.overrideNative_ = function (e, t) {
                            var i = this;
                            if (t === this["featuresNative" + e + "Tracks"]) {
                                var n = e.toLowerCase();
                                this[n + "TracksListeners_"] &&
                                    Object.keys(this[n + "TracksListeners_"]).forEach(function (e) {
                                        i.el()[n + "Tracks"].removeEventListener(e, i[n + "TracksListeners_"][e]);
                                    }),
                                    (this["featuresNative" + e + "Tracks"] = !t),
                                    (this[n + "TracksListeners_"] = null),
                                    this.proxyNativeTracksForType_(n);
                            }
                        }),
                        (i.overrideNativeAudioTracks = function (e) {
                            this.overrideNative_("Audio", e);
                        }),
                        (i.overrideNativeVideoTracks = function (e) {
                            this.overrideNative_("Video", e);
                        }),
                        (i.proxyNativeTracksForType_ = function (e) {
                            var t = this,
                                i = xn[e],
                                n = this.el()[i.getterName],
                                r = this[i.getterName]();
                            if (this["featuresNative" + i.capitalName + "Tracks"] && n && n.addEventListener) {
                                var s = {
                                        change: function () {
                                            var i = { type: "change", target: r, currentTarget: r, srcElement: r };
                                            r.trigger(i), "text" === e && t[An.remoteText.getterName]().trigger(i);
                                        },
                                        addtrack: function (e) {
                                            r.addTrack(e.track);
                                        },
                                        removetrack: function (e) {
                                            r.removeTrack(e.track);
                                        },
                                    },
                                    a = function () {
                                        for (var e = [], t = 0; t < r.length; t++) {
                                            for (var i = !1, s = 0; s < n.length; s++)
                                                if (n[s] === r[t]) {
                                                    i = !0;
                                                    break;
                                                }
                                            i || e.push(r[t]);
                                        }
                                        for (; e.length; ) r.removeTrack(e.shift());
                                    };
                                (this[i.getterName + "Listeners_"] = s),
                                    Object.keys(s).forEach(function (e) {
                                        var i = s[e];
                                        n.addEventListener(e, i),
                                            t.on("dispose", function () {
                                                return n.removeEventListener(e, i);
                                            });
                                    }),
                                    this.on("loadstart", a),
                                    this.on("dispose", function () {
                                        return t.off("loadstart", a);
                                    });
                            }
                        }),
                        (i.proxyNativeTracks_ = function () {
                            var e = this;
                            xn.names.forEach(function (t) {
                                e.proxyNativeTracksForType_(t);
                            });
                        }),
                        (i.createEl = function () {
                            var e = this.options_.tag;
                            if (!e || (!this.options_.playerElIngest && !this.movingMediaElementInDOM)) {
                                if (e) {
                                    var i = e.cloneNode(!0);
                                    e.parentNode && e.parentNode.insertBefore(i, e), t.disposeMediaElement(e), (e = i);
                                } else {
                                    e = a.a.createElement("video");
                                    var n = ui({}, this.options_.tag && st(this.options_.tag));
                                    (Oi && !0 === this.options_.nativeControlsForTouch) || delete n.controls, rt(e, He(n, { id: this.options_.techId, class: "vjs-tech" }));
                                }
                                e.playerId = this.options_.playerId;
                            }
                            void 0 !== this.options_.preload && ot(e, "preload", this.options_.preload), void 0 !== this.options_.disablePictureInPicture && (e.disablePictureInPicture = this.options_.disablePictureInPicture);
                            for (var r = ["loop", "muted", "playsinline", "autoplay"], s = 0; s < r.length; s++) {
                                var o = r[s],
                                    l = this.options_[o];
                                void 0 !== l && (l ? ot(e, o, o) : lt(e, o), (e[o] = l));
                            }
                            return e;
                        }),
                        (i.handleLateInit_ = function (e) {
                            if (0 !== e.networkState && 3 !== e.networkState) {
                                if (0 === e.readyState) {
                                    var t = !1,
                                        i = function () {
                                            t = !0;
                                        };
                                    this.on("loadstart", i);
                                    var n = function () {
                                        t || this.trigger("loadstart");
                                    };
                                    return (
                                        this.on("loadedmetadata", n),
                                        void this.ready(function () {
                                            this.off("loadstart", i), this.off("loadedmetadata", n), t || this.trigger("loadstart");
                                        })
                                    );
                                }
                                var r = ["loadstart"];
                                r.push("loadedmetadata"),
                                    e.readyState >= 2 && r.push("loadeddata"),
                                    e.readyState >= 3 && r.push("canplay"),
                                    e.readyState >= 4 && r.push("canplaythrough"),
                                    this.ready(function () {
                                        r.forEach(function (e) {
                                            this.trigger(e);
                                        }, this);
                                    });
                            }
                        }),
                        (i.setScrubbing = function (e) {
                            this.isScrubbing_ = e;
                        }),
                        (i.setCurrentTime = function (e) {
                            try {
                                this.isScrubbing_ && this.el_.fastSeek && Mi ? this.el_.fastSeek(e) : (this.el_.currentTime = e);
                            } catch (e) {
                                Ne(e, "Video is not ready. (Video.js)");
                            }
                        }),
                        (i.duration = function () {
                            var e = this;
                            if (this.el_.duration === 1 / 0 && Ti && Ei && 0 === this.el_.currentTime) {
                                return (
                                    this.on("timeupdate", function t() {
                                        e.el_.currentTime > 0 && (e.el_.duration === 1 / 0 && e.trigger("durationchange"), e.off("timeupdate", t));
                                    }),
                                    NaN
                                );
                            }
                            return this.el_.duration || NaN;
                        }),
                        (i.width = function () {
                            return this.el_.offsetWidth;
                        }),
                        (i.height = function () {
                            return this.el_.offsetHeight;
                        }),
                        (i.proxyWebkitFullscreen_ = function () {
                            var e = this;
                            if ("webkitDisplayingFullscreen" in this.el_) {
                                var t = function () {
                                        this.trigger("fullscreenchange", { isFullscreen: !1 });
                                    },
                                    i = function () {
                                        "webkitPresentationMode" in this.el_ &&
                                            "picture-in-picture" !== this.el_.webkitPresentationMode &&
                                            (this.one("webkitendfullscreen", t), this.trigger("fullscreenchange", { isFullscreen: !0, nativeIOSFullscreen: !0 }));
                                    };
                                this.on("webkitbeginfullscreen", i),
                                    this.on("dispose", function () {
                                        e.off("webkitbeginfullscreen", i), e.off("webkitendfullscreen", t);
                                    });
                            }
                        }),
                        (i.supportsFullScreen = function () {
                            if ("function" == typeof this.el_.webkitEnterFullScreen) {
                                var e = (r.a.navigator && r.a.navigator.userAgent) || "";
                                if (/Android/.test(e) || !/Chrome|Mac OS X 10.5/.test(e)) return !0;
                            }
                            return !1;
                        }),
                        (i.enterFullScreen = function () {
                            var e = this.el_;
                            if (e.paused && e.networkState <= e.HAVE_METADATA)
                                Ki(this.el_.play()),
                                    this.setTimeout(function () {
                                        e.pause();
                                        try {
                                            e.webkitEnterFullScreen();
                                        } catch (e) {
                                            this.trigger("fullscreenerror", e);
                                        }
                                    }, 0);
                            else
                                try {
                                    e.webkitEnterFullScreen();
                                } catch (e) {
                                    this.trigger("fullscreenerror", e);
                                }
                        }),
                        (i.exitFullScreen = function () {
                            this.el_.webkitDisplayingFullscreen ? this.el_.webkitExitFullScreen() : this.trigger("fullscreenerror", new Error("The video is not fullscreen"));
                        }),
                        (i.requestPictureInPicture = function () {
                            return this.el_.requestPictureInPicture();
                        }),
                        (i.src = function (e) {
                            if (void 0 === e) return this.el_.src;
                            this.setSrc(e);
                        }),
                        (i.reset = function () {
                            t.resetMediaElement(this.el_);
                        }),
                        (i.currentSrc = function () {
                            return this.currentSource_ ? this.currentSource_.src : this.el_.currentSrc;
                        }),
                        (i.setControls = function (e) {
                            this.el_.controls = !!e;
                        }),
                        (i.addTextTrack = function (t, i, n) {
                            return this.featuresNativeTextTracks ? this.el_.addTextTrack(t, i, n) : e.prototype.addTextTrack.call(this, t, i, n);
                        }),
                        (i.createRemoteTextTrack = function (t) {
                            if (!this.featuresNativeTextTracks) return e.prototype.createRemoteTextTrack.call(this, t);
                            var i = a.a.createElement("track");
                            return (
                                t.kind && (i.kind = t.kind),
                                t.label && (i.label = t.label),
                                (t.language || t.srclang) && (i.srclang = t.language || t.srclang),
                                t.default && (i.default = t.default),
                                t.id && (i.id = t.id),
                                t.src && (i.src = t.src),
                                i
                            );
                        }),
                        (i.addRemoteTextTrack = function (t, i) {
                            var n = e.prototype.addRemoteTextTrack.call(this, t, i);
                            return this.featuresNativeTextTracks && this.el().appendChild(n), n;
                        }),
                        (i.removeRemoteTextTrack = function (t) {
                            if ((e.prototype.removeRemoteTextTrack.call(this, t), this.featuresNativeTextTracks)) for (var i = this.$$("track"), n = i.length; n--; ) (t !== i[n] && t !== i[n].track) || this.el().removeChild(i[n]);
                        }),
                        (i.getVideoPlaybackQuality = function () {
                            if ("function" == typeof this.el().getVideoPlaybackQuality) return this.el().getVideoPlaybackQuality();
                            var e = {};
                            return (
                                void 0 !== this.el().webkitDroppedFrameCount &&
                                    void 0 !== this.el().webkitDecodedFrameCount &&
                                    ((e.droppedVideoFrames = this.el().webkitDroppedFrameCount), (e.totalVideoFrames = this.el().webkitDecodedFrameCount)),
                                r.a.performance && "function" == typeof r.a.performance.now
                                    ? (e.creationTime = r.a.performance.now())
                                    : r.a.performance && r.a.performance.timing && "number" == typeof r.a.performance.timing.navigationStart && (e.creationTime = r.a.Date.now() - r.a.performance.timing.navigationStart),
                                e
                            );
                        }),
                        t
                    );
                })(Pn);
            ks(Cs, "TEST_VID", function () {
                if (Ge()) {
                    var e = a.a.createElement("video"),
                        t = a.a.createElement("track");
                    return (t.kind = "captions"), (t.srclang = "en"), (t.label = "English"), e.appendChild(t), e;
                }
            }),
                (Cs.isSupported = function () {
                    try {
                        Cs.TEST_VID.volume = 0.5;
                    } catch (e) {
                        return !1;
                    }
                    return !(!Cs.TEST_VID || !Cs.TEST_VID.canPlayType);
                }),
                (Cs.canPlayType = function (e) {
                    return Cs.TEST_VID.canPlayType(e);
                }),
                (Cs.canPlaySource = function (e) {
                    return Cs.canPlayType(e.type);
                }),
                (Cs.canControlVolume = function () {
                    try {
                        var e = Cs.TEST_VID.volume;
                        return (Cs.TEST_VID.volume = e / 2 + 0.1), e !== Cs.TEST_VID.volume;
                    } catch (e) {
                        return !1;
                    }
                }),
                (Cs.canMuteVolume = function () {
                    try {
                        var e = Cs.TEST_VID.muted;
                        return (Cs.TEST_VID.muted = !e), Cs.TEST_VID.muted ? ot(Cs.TEST_VID, "muted", "muted") : lt(Cs.TEST_VID, "muted"), e !== Cs.TEST_VID.muted;
                    } catch (e) {
                        return !1;
                    }
                }),
                (Cs.canControlPlaybackRate = function () {
                    if (Ti && Ei && xi < 58) return !1;
                    try {
                        var e = Cs.TEST_VID.playbackRate;
                        return (Cs.TEST_VID.playbackRate = e / 2 + 0.1), e !== Cs.TEST_VID.playbackRate;
                    } catch (e) {
                        return !1;
                    }
                }),
                (Cs.canOverrideAttributes = function () {
                    try {
                        var e = function () {};
                        Object.defineProperty(a.a.createElement("video"), "src", { get: e, set: e }),
                            Object.defineProperty(a.a.createElement("audio"), "src", { get: e, set: e }),
                            Object.defineProperty(a.a.createElement("video"), "innerHTML", { get: e, set: e }),
                            Object.defineProperty(a.a.createElement("audio"), "innerHTML", { get: e, set: e });
                    } catch (e) {
                        return !1;
                    }
                    return !0;
                }),
                (Cs.supportsNativeTextTracks = function () {
                    return Mi || (Ri && Ei);
                }),
                (Cs.supportsNativeVideoTracks = function () {
                    return !(!Cs.TEST_VID || !Cs.TEST_VID.videoTracks);
                }),
                (Cs.supportsNativeAudioTracks = function () {
                    return !(!Cs.TEST_VID || !Cs.TEST_VID.audioTracks);
                }),
                (Cs.Events = [
                    "loadstart",
                    "suspend",
                    "abort",
                    "error",
                    "emptied",
                    "stalled",
                    "loadedmetadata",
                    "loadeddata",
                    "canplay",
                    "canplaythrough",
                    "playing",
                    "waiting",
                    "seeking",
                    "seeked",
                    "ended",
                    "durationchange",
                    "timeupdate",
                    "progress",
                    "play",
                    "pause",
                    "ratechange",
                    "resize",
                    "volumechange",
                ]),
                [
                    ["featuresVolumeControl", "canControlVolume"],
                    ["featuresMuteControl", "canMuteVolume"],
                    ["featuresPlaybackRate", "canControlPlaybackRate"],
                    ["featuresSourceset", "canOverrideAttributes"],
                    ["featuresNativeTextTracks", "supportsNativeTextTracks"],
                    ["featuresNativeVideoTracks", "supportsNativeVideoTracks"],
                    ["featuresNativeAudioTracks", "supportsNativeAudioTracks"],
                ].forEach(function (e) {
                    var t = e[0],
                        i = e[1];
                    ks(
                        Cs.prototype,
                        t,
                        function () {
                            return Cs[i]();
                        },
                        !0
                    );
                }),
                (Cs.prototype.movingMediaElementInDOM = !Ri),
                (Cs.prototype.featuresFullscreenResize = !0),
                (Cs.prototype.featuresProgressEvents = !0),
                (Cs.prototype.featuresTimeupdateEvents = !0),
                (Cs.patchCanPlayType = function () {
                    Si >= 4 &&
                        !ki &&
                        !Ei &&
                        ((vs = Cs.TEST_VID && Cs.TEST_VID.constructor.prototype.canPlayType),
                        (Cs.TEST_VID.constructor.prototype.canPlayType = function (e) {
                            return e && /^application\/(?:x-|vnd\.apple\.)mpegurl/i.test(e) ? "maybe" : vs.call(this, e);
                        }));
                }),
                (Cs.unpatchCanPlayType = function () {
                    var e = Cs.TEST_VID.constructor.prototype.canPlayType;
                    return vs && (Cs.TEST_VID.constructor.prototype.canPlayType = vs), e;
                }),
                Cs.patchCanPlayType(),
                (Cs.disposeMediaElement = function (e) {
                    if (e) {
                        for (e.parentNode && e.parentNode.removeChild(e); e.hasChildNodes(); ) e.removeChild(e.firstChild);
                        e.removeAttribute("src"),
                            "function" == typeof e.load &&
                                (function () {
                                    try {
                                        e.load();
                                    } catch (e) {}
                                })();
                    }
                }),
                (Cs.resetMediaElement = function (e) {
                    if (e) {
                        for (var t = e.querySelectorAll("source"), i = t.length; i--; ) e.removeChild(t[i]);
                        e.removeAttribute("src"),
                            "function" == typeof e.load &&
                                (function () {
                                    try {
                                        e.load();
                                    } catch (e) {}
                                })();
                    }
                }),
                ["muted", "defaultMuted", "autoplay", "controls", "loop", "playsinline"].forEach(function (e) {
                    Cs.prototype[e] = function () {
                        return this.el_[e] || this.el_.hasAttribute(e);
                    };
                }),
                ["muted", "defaultMuted", "autoplay", "loop", "playsinline"].forEach(function (e) {
                    Cs.prototype["set" + li(e)] = function (t) {
                        (this.el_[e] = t), t ? this.el_.setAttribute(e, e) : this.el_.removeAttribute(e);
                    };
                }),
                [
                    "paused",
                    "currentTime",
                    "buffered",
                    "volume",
                    "poster",
                    "preload",
                    "error",
                    "seeking",
                    "seekable",
                    "ended",
                    "playbackRate",
                    "defaultPlaybackRate",
                    "disablePictureInPicture",
                    "played",
                    "networkState",
                    "readyState",
                    "videoWidth",
                    "videoHeight",
                    "crossOrigin",
                ].forEach(function (e) {
                    Cs.prototype[e] = function () {
                        return this.el_[e];
                    };
                }),
                ["volume", "src", "poster", "preload", "playbackRate", "defaultPlaybackRate", "disablePictureInPicture", "crossOrigin"].forEach(function (e) {
                    Cs.prototype["set" + li(e)] = function (t) {
                        this.el_[e] = t;
                    };
                }),
                ["pause", "load", "play"].forEach(function (e) {
                    Cs.prototype[e] = function () {
                        return this.el_[e]();
                    };
                }),
                Pn.withSourceHandlers(Cs),
                (Cs.nativeSourceHandler = {}),
                (Cs.nativeSourceHandler.canPlayType = function (e) {
                    try {
                        return Cs.TEST_VID.canPlayType(e);
                    } catch (e) {
                        return "";
                    }
                }),
                (Cs.nativeSourceHandler.canHandleSource = function (e) {
                    if (e.type) return Cs.nativeSourceHandler.canPlayType(e.type);
                    if (e.src) {
                        var t = yn(e.src);
                        return Cs.nativeSourceHandler.canPlayType("video/" + t);
                    }
                    return "";
                }),
                (Cs.nativeSourceHandler.handleSource = function (e, t) {
                    t.setSrc(e.src);
                }),
                (Cs.nativeSourceHandler.dispose = function () {}),
                Cs.registerSourceHandler(Cs.nativeSourceHandler),
                Pn.registerTech("Html5", Cs);
            var Es = ["progress", "abort", "suspend", "emptied", "stalled", "loadedmetadata", "loadeddata", "timeupdate", "resize", "volumechange", "texttrackchange"],
                xs = { canplay: "CanPlay", canplaythrough: "CanPlayThrough", playing: "Playing", seeked: "Seeked" },
                As = ["tiny", "xsmall", "small", "medium", "large", "xlarge", "huge"],
                Is = {};
            As.forEach(function (e) {
                var t = "x" === e.charAt(0) ? "x-" + e.substring(1) : e;
                Is[e] = "vjs-layout-" + t;
            });
            var Ps = { tiny: 210, xsmall: 320, small: 425, medium: 768, large: 1440, xlarge: 2560, huge: 1 / 0 },
                Os = (function (e) {
                    function t(i, n, r) {
                        var s;
                        if (((i.id = i.id || n.id || "vjs_video_" + Lt()), ((n = He(t.getTagSettings(i), n)).initChildren = !1), (n.createEl = !1), (n.evented = !1), (n.reportTouchActivity = !1), !n.language))
                            if ("function" == typeof i.closest) {
                                var o = i.closest("[lang]");
                                o && o.getAttribute && (n.language = o.getAttribute("lang"));
                            } else
                                for (var l = i; l && 1 === l.nodeType; ) {
                                    if (st(l).hasOwnProperty("lang")) {
                                        n.language = l.getAttribute("lang");
                                        break;
                                    }
                                    l = l.parentNode;
                                }
                        if (
                            (((s = e.call(this, null, n, r) || this).boundDocumentFullscreenChange_ = Gt(c()(s), s.documentFullscreenChange_)),
                            (s.boundFullWindowOnEscKey_ = Gt(c()(s), s.fullWindowOnEscKey)),
                            (s.isFullscreen_ = !1),
                            (s.log = Ue(s.id_)),
                            (s.fsApi_ = qi),
                            (s.isPosterFromTech_ = !1),
                            (s.queuedCallbacks_ = []),
                            (s.isReady_ = !1),
                            (s.hasStarted_ = !1),
                            (s.userActive_ = !1),
                            (s.debugEnabled_ = !1),
                            !s.options_ || !s.options_.techOrder || !s.options_.techOrder.length)
                        )
                            throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");
                        if (((s.tag = i), (s.tagAttributes = i && st(i)), s.language(s.options_.language), n.languages)) {
                            var u = {};
                            Object.getOwnPropertyNames(n.languages).forEach(function (e) {
                                u[e.toLowerCase()] = n.languages[e];
                            }),
                                (s.languages_ = u);
                        } else s.languages_ = t.prototype.options_.languages;
                        s.resetCache_(),
                            (s.poster_ = n.poster || ""),
                            (s.controls_ = !!n.controls),
                            (i.controls = !1),
                            i.removeAttribute("controls"),
                            (s.changingSrc_ = !1),
                            (s.playCallbacks_ = []),
                            (s.playTerminatedQueue_ = []),
                            i.hasAttribute("autoplay") ? s.autoplay(!0) : s.autoplay(s.options_.autoplay),
                            n.plugins &&
                                Object.keys(n.plugins).forEach(function (e) {
                                    if ("function" != typeof s[e]) throw new Error('plugin "' + e + '" does not exist');
                                }),
                            (s.scrubbing_ = !1),
                            (s.el_ = s.createEl()),
                            ri(c()(s), { eventBusKey: "el_" }),
                            s.fsApi_.requestFullscreen && (Bt(a.a, s.fsApi_.fullscreenchange, s.boundDocumentFullscreenChange_), s.on(s.fsApi_.fullscreenchange, s.boundDocumentFullscreenChange_)),
                            s.fluid_ && s.on("playerreset", s.updateStyleEl_);
                        var d = ui(s.options_);
                        n.plugins &&
                            Object.keys(n.plugins).forEach(function (e) {
                                s[e](n.plugins[e]);
                            }),
                            n.debug && s.debug(!0),
                            (s.options_.playerOptions = d),
                            (s.middleware_ = []),
                            s.initChildren(),
                            s.isAudio("audio" === i.nodeName.toLowerCase()),
                            s.controls() ? s.addClass("vjs-controls-enabled") : s.addClass("vjs-controls-disabled"),
                            s.el_.setAttribute("role", "region"),
                            s.isAudio() ? s.el_.setAttribute("aria-label", s.localize("Audio Player")) : s.el_.setAttribute("aria-label", s.localize("Video Player")),
                            s.isAudio() && s.addClass("vjs-audio"),
                            s.flexNotSupported_() && s.addClass("vjs-no-flex"),
                            Oi && s.addClass("vjs-touch-enabled"),
                            Ri || s.addClass("vjs-workinghover"),
                            (t.players[s.id_] = c()(s));
                        var h = Re.split(".")[0];
                        return (
                            s.addClass("vjs-v" + h),
                            s.userActive(!0),
                            s.reportUserActivity(),
                            s.one("play", s.listenForUserActivity_),
                            s.on("stageclick", s.handleStageClick_),
                            s.on("keydown", s.handleKeyDown),
                            s.breakpoints(s.options_.breakpoints),
                            s.responsive(s.options_.responsive),
                            s
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.dispose = function () {
                            var i = this;
                            this.trigger("dispose"),
                                this.off("dispose"),
                                Ft(a.a, this.fsApi_.fullscreenchange, this.boundDocumentFullscreenChange_),
                                Ft(a.a, "keydown", this.boundFullWindowOnEscKey_),
                                this.styleEl_ && this.styleEl_.parentNode && (this.styleEl_.parentNode.removeChild(this.styleEl_), (this.styleEl_ = null)),
                                (t.players[this.id_] = null),
                                this.tag && this.tag.player && (this.tag.player = null),
                                this.el_ && this.el_.player && (this.el_.player = null),
                                this.tech_ && (this.tech_.dispose(), (this.isPosterFromTech_ = !1), (this.poster_ = "")),
                                this.playerElIngest_ && (this.playerElIngest_ = null),
                                this.tag && (this.tag = null),
                                (Ln[this.id()] = null),
                                In.names.forEach(function (e) {
                                    var t = In[e],
                                        n = i[t.getterName]();
                                    n && n.off && n.off();
                                }),
                                e.prototype.dispose.call(this);
                        }),
                        (i.createEl = function () {
                            var t,
                                i = this.tag,
                                n = (this.playerElIngest_ = i.parentNode && i.parentNode.hasAttribute && i.parentNode.hasAttribute("data-vjs-player")),
                                s = "video-js" === this.tag.tagName.toLowerCase();
                            n ? (t = this.el_ = i.parentNode) : s || (t = this.el_ = e.prototype.createEl.call(this, "div"));
                            var o = st(i);
                            if (s) {
                                for (t = this.el_ = i, i = this.tag = a.a.createElement("video"); t.children.length; ) i.appendChild(t.firstChild);
                                et(t, "video-js") || tt(t, "video-js"),
                                    t.appendChild(i),
                                    (n = this.playerElIngest_ = t),
                                    Object.keys(t).forEach(function (e) {
                                        try {
                                            i[e] = t[e];
                                        } catch (e) {}
                                    });
                            }
                            if (
                                (i.setAttribute("tabindex", "-1"),
                                (o.tabindex = "-1"),
                                (Ai || (Ei && Pi)) && (i.setAttribute("role", "application"), (o.role = "application")),
                                i.removeAttribute("width"),
                                i.removeAttribute("height"),
                                "width" in o && delete o.width,
                                "height" in o && delete o.height,
                                Object.getOwnPropertyNames(o).forEach(function (e) {
                                    (s && "class" === e) || t.setAttribute(e, o[e]), s && i.setAttribute(e, o[e]);
                                }),
                                (i.playerId = i.id),
                                (i.id += "_html5_api"),
                                (i.className = "vjs-tech"),
                                (i.player = t.player = this),
                                this.addClass("vjs-paused"),
                                !0 !== r.a.VIDEOJS_NO_DYNAMIC_STYLE)
                            ) {
                                this.styleEl_ = It("vjs-styles-dimensions");
                                var l = Tt(".vjs-styles-defaults"),
                                    u = Tt("head");
                                u.insertBefore(this.styleEl_, l ? l.nextSibling : u.firstChild);
                            }
                            (this.fill_ = !1),
                                (this.fluid_ = !1),
                                this.width(this.options_.width),
                                this.height(this.options_.height),
                                this.fill(this.options_.fill),
                                this.fluid(this.options_.fluid),
                                this.aspectRatio(this.options_.aspectRatio),
                                this.crossOrigin(this.options_.crossOrigin || this.options_.crossorigin);
                            for (var c = i.getElementsByTagName("a"), d = 0; d < c.length; d++) {
                                var h = c.item(d);
                                tt(h, "vjs-hidden"), h.setAttribute("hidden", "hidden");
                            }
                            return (i.initNetworkState_ = i.networkState), i.parentNode && !n && i.parentNode.insertBefore(t, i), Ze(i, t), this.children_.unshift(i), this.el_.setAttribute("lang", this.language_), (this.el_ = t), t;
                        }),
                        (i.crossOrigin = function (e) {
                            if (!e) return this.techGet_("crossOrigin");
                            "anonymous" === e || "use-credentials" === e ? this.techCall_("setCrossOrigin", e) : Ne.warn('crossOrigin must be "anonymous" or "use-credentials", given "' + e + '"');
                        }),
                        (i.width = function (e) {
                            return this.dimension("width", e);
                        }),
                        (i.height = function (e) {
                            return this.dimension("height", e);
                        }),
                        (i.dimension = function (e, t) {
                            var i = e + "_";
                            if (void 0 === t) return this[i] || 0;
                            if ("" === t || "auto" === t) return (this[i] = void 0), void this.updateStyleEl_();
                            var n = parseFloat(t);
                            isNaN(n) ? Ne.error('Improper value "' + t + '" supplied for for ' + e) : ((this[i] = n), this.updateStyleEl_());
                        }),
                        (i.fluid = function (e) {
                            if (void 0 === e) return !!this.fluid_;
                            var t, i;
                            (this.fluid_ = !!e),
                                Kt(this) && this.off("playerreset", this.updateStyleEl_),
                                e
                                    ? (this.addClass("vjs-fluid"),
                                      this.fill(!1),
                                      Kt(
                                          (t = function () {
                                              this.on("playerreset", this.updateStyleEl_);
                                          })
                                      )
                                          ? i()
                                          : (t.eventedCallbacks || (t.eventedCallbacks = []), t.eventedCallbacks.push(i)))
                                    : this.removeClass("vjs-fluid"),
                                this.updateStyleEl_();
                        }),
                        (i.fill = function (e) {
                            if (void 0 === e) return !!this.fill_;
                            (this.fill_ = !!e), e ? (this.addClass("vjs-fill"), this.fluid(!1)) : this.removeClass("vjs-fill");
                        }),
                        (i.aspectRatio = function (e) {
                            if (void 0 === e) return this.aspectRatio_;
                            if (!/^\d+\:\d+$/.test(e)) throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");
                            (this.aspectRatio_ = e), this.fluid(!0), this.updateStyleEl_();
                        }),
                        (i.updateStyleEl_ = function () {
                            if (!0 !== r.a.VIDEOJS_NO_DYNAMIC_STYLE) {
                                var e,
                                    t,
                                    i,
                                    n = (void 0 !== this.aspectRatio_ && "auto" !== this.aspectRatio_ ? this.aspectRatio_ : this.videoWidth() > 0 ? this.videoWidth() + ":" + this.videoHeight() : "16:9").split(":"),
                                    s = n[1] / n[0];
                                (e = void 0 !== this.width_ ? this.width_ : void 0 !== this.height_ ? this.height_ / s : this.videoWidth() || 300),
                                    (t = void 0 !== this.height_ ? this.height_ : e * s),
                                    (i = /^[^a-zA-Z]/.test(this.id()) ? "dimensions-" + this.id() : this.id() + "-dimensions"),
                                    this.addClass(i),
                                    Pt(this.styleEl_, "\n      ." + i + " {\n        width: " + e + "px;\n        height: " + t + "px;\n      }\n\n      ." + i + ".vjs-fluid {\n        padding-top: " + 100 * s + "%;\n      }\n    ");
                            } else {
                                var a = "number" == typeof this.width_ ? this.width_ : this.options_.width,
                                    o = "number" == typeof this.height_ ? this.height_ : this.options_.height,
                                    l = this.tech_ && this.tech_.el();
                                l && (a >= 0 && (l.width = a), o >= 0 && (l.height = o));
                            }
                        }),
                        (i.loadTech_ = function (e, t) {
                            var i = this;
                            this.tech_ && this.unloadTech_();
                            var n = li(e),
                                r = e.charAt(0).toLowerCase() + e.slice(1);
                            "Html5" !== n && this.tag && (Pn.getTech("Html5").disposeMediaElement(this.tag), (this.tag.player = null), (this.tag = null)), (this.techName_ = n), (this.isReady_ = !1);
                            var s = {
                                source: t,
                                autoplay: "string" != typeof this.autoplay() && this.autoplay(),
                                nativeControlsForTouch: this.options_.nativeControlsForTouch,
                                playerId: this.id(),
                                techId: this.id() + "_" + r + "_api",
                                playsinline: this.options_.playsinline,
                                preload: this.options_.preload,
                                loop: this.options_.loop,
                                disablePictureInPicture: this.options_.disablePictureInPicture,
                                muted: this.options_.muted,
                                poster: this.poster(),
                                language: this.language(),
                                playerElIngest: this.playerElIngest_ || !1,
                                "vtt.js": this.options_["vtt.js"],
                                canOverridePoster: !!this.options_.techCanOverridePoster,
                                enableSourceset: this.options_.enableSourceset,
                                Promise: this.options_.Promise,
                            };
                            In.names.forEach(function (e) {
                                var t = In[e];
                                s[t.getterName] = i[t.privateName];
                            }),
                                He(s, this.options_[n]),
                                He(s, this.options_[r]),
                                He(s, this.options_[e.toLowerCase()]),
                                this.tag && (s.tag = this.tag),
                                t && t.src === this.cache_.src && this.cache_.currentTime > 0 && (s.startTime = this.cache_.currentTime);
                            var a = Pn.getTech(e);
                            if (!a) throw new Error("No Tech named '" + n + "' exists! '" + n + "' should be registered using videojs.registerTech()'");
                            (this.tech_ = new a(s)),
                                this.tech_.ready(Gt(this, this.handleTechReady_), !0),
                                Zi(this.textTracksJson_ || [], this.tech_),
                                Es.forEach(function (e) {
                                    i.on(i.tech_, e, i["handleTech" + li(e) + "_"]);
                                }),
                                Object.keys(xs).forEach(function (e) {
                                    i.on(i.tech_, e, function (t) {
                                        0 === i.tech_.playbackRate() && i.tech_.seeking() ? i.queuedCallbacks_.push({ callback: i["handleTech" + xs[e] + "_"].bind(i), event: t }) : i["handleTech" + xs[e] + "_"](t);
                                    });
                                }),
                                this.on(this.tech_, "loadstart", this.handleTechLoadStart_),
                                this.on(this.tech_, "sourceset", this.handleTechSourceset_),
                                this.on(this.tech_, "waiting", this.handleTechWaiting_),
                                this.on(this.tech_, "ended", this.handleTechEnded_),
                                this.on(this.tech_, "seeking", this.handleTechSeeking_),
                                this.on(this.tech_, "play", this.handleTechPlay_),
                                this.on(this.tech_, "firstplay", this.handleTechFirstPlay_),
                                this.on(this.tech_, "pause", this.handleTechPause_),
                                this.on(this.tech_, "durationchange", this.handleTechDurationChange_),
                                this.on(this.tech_, "fullscreenchange", this.handleTechFullscreenChange_),
                                this.on(this.tech_, "fullscreenerror", this.handleTechFullscreenError_),
                                this.on(this.tech_, "enterpictureinpicture", this.handleTechEnterPictureInPicture_),
                                this.on(this.tech_, "leavepictureinpicture", this.handleTechLeavePictureInPicture_),
                                this.on(this.tech_, "error", this.handleTechError_),
                                this.on(this.tech_, "loadedmetadata", this.updateStyleEl_),
                                this.on(this.tech_, "posterchange", this.handleTechPosterChange_),
                                this.on(this.tech_, "textdata", this.handleTechTextData_),
                                this.on(this.tech_, "ratechange", this.handleTechRateChange_),
                                this.usingNativeControls(this.techGet_("controls")),
                                this.controls() && !this.usingNativeControls() && this.addTechControlsListeners_(),
                                this.tech_.el().parentNode === this.el() || ("Html5" === n && this.tag) || Ze(this.tech_.el(), this.el()),
                                this.tag && ((this.tag.player = null), (this.tag = null));
                        }),
                        (i.unloadTech_ = function () {
                            var e = this;
                            In.names.forEach(function (t) {
                                var i = In[t];
                                e[i.privateName] = e[i.getterName]();
                            }),
                                (this.textTracksJson_ = Ji(this.tech_)),
                                (this.isReady_ = !1),
                                this.tech_.dispose(),
                                (this.tech_ = !1),
                                this.isPosterFromTech_ && ((this.poster_ = ""), this.trigger("posterchange")),
                                (this.isPosterFromTech_ = !1);
                        }),
                        (i.tech = function (e) {
                            return void 0 === e && Ne.warn("Using the tech directly can be dangerous. I hope you know what you're doing.\nSee https://github.com/videojs/video.js/issues/2617 for more info.\n"), this.tech_;
                        }),
                        (i.addTechControlsListeners_ = function () {
                            this.removeTechControlsListeners_(),
                                this.on(this.tech_, "mouseup", this.handleTechClick_),
                                this.on(this.tech_, "dblclick", this.handleTechDoubleClick_),
                                this.on(this.tech_, "touchstart", this.handleTechTouchStart_),
                                this.on(this.tech_, "touchmove", this.handleTechTouchMove_),
                                this.on(this.tech_, "touchend", this.handleTechTouchEnd_),
                                this.on(this.tech_, "tap", this.handleTechTap_);
                        }),
                        (i.removeTechControlsListeners_ = function () {
                            this.off(this.tech_, "tap", this.handleTechTap_),
                                this.off(this.tech_, "touchstart", this.handleTechTouchStart_),
                                this.off(this.tech_, "touchmove", this.handleTechTouchMove_),
                                this.off(this.tech_, "touchend", this.handleTechTouchEnd_),
                                this.off(this.tech_, "mouseup", this.handleTechClick_),
                                this.off(this.tech_, "dblclick", this.handleTechDoubleClick_);
                        }),
                        (i.handleTechReady_ = function () {
                            this.triggerReady(), this.cache_.volume && this.techCall_("setVolume", this.cache_.volume), this.handleTechPosterChange_(), this.handleTechDurationChange_();
                        }),
                        (i.handleTechLoadStart_ = function () {
                            this.removeClass("vjs-ended"),
                                this.removeClass("vjs-seeking"),
                                this.error(null),
                                this.handleTechDurationChange_(),
                                this.paused() ? (this.hasStarted(!1), this.trigger("loadstart")) : (this.trigger("loadstart"), this.trigger("firstplay")),
                                this.manualAutoplay_(this.autoplay());
                        }),
                        (i.manualAutoplay_ = function (e) {
                            var t = this;
                            if (this.tech_ && "string" == typeof e) {
                                var i,
                                    n = function () {
                                        var e = t.muted();
                                        t.muted(!0);
                                        var i = function () {
                                            t.muted(e);
                                        };
                                        t.playTerminatedQueue_.push(i);
                                        var n = t.play();
                                        if (Xi(n)) return n.catch(i);
                                    };
                                if (("any" === e && !0 !== this.muted() ? Xi((i = this.play())) && (i = i.catch(n)) : (i = "muted" === e && !0 !== this.muted() ? n() : this.play()), Xi(i)))
                                    return i
                                        .then(function () {
                                            t.trigger({ type: "autoplay-success", autoplay: e });
                                        })
                                        .catch(function () {
                                            t.trigger({ type: "autoplay-failure", autoplay: e });
                                        });
                            }
                        }),
                        (i.updateSourceCaches_ = function (e) {
                            void 0 === e && (e = "");
                            var t = e,
                                i = "";
                            "string" != typeof t && ((t = e.src), (i = e.type)),
                                (this.cache_.source = this.cache_.source || {}),
                                (this.cache_.sources = this.cache_.sources || []),
                                t &&
                                    !i &&
                                    (i = (function (e, t) {
                                        if (!t) return "";
                                        if (e.cache_.source.src === t && e.cache_.source.type) return e.cache_.source.type;
                                        var i = e.cache_.sources.filter(function (e) {
                                            return e.src === t;
                                        });
                                        if (i.length) return i[0].type;
                                        for (var n = e.$$("source"), r = 0; r < n.length; r++) {
                                            var s = n[r];
                                            if (s.type && s.src && s.src === t) return s.type;
                                        }
                                        return qn(t);
                                    })(this, t)),
                                (this.cache_.source = ui({}, e, { src: t, type: i }));
                            for (
                                var n = this.cache_.sources.filter(function (e) {
                                        return e.src && e.src === t;
                                    }),
                                    r = [],
                                    s = this.$$("source"),
                                    a = [],
                                    o = 0;
                                o < s.length;
                                o++
                            ) {
                                var l = st(s[o]);
                                r.push(l), l.src && l.src === t && a.push(l.src);
                            }
                            a.length && !n.length ? (this.cache_.sources = r) : n.length || (this.cache_.sources = [this.cache_.source]), (this.cache_.src = t);
                        }),
                        (i.handleTechSourceset_ = function (e) {
                            var t = this;
                            if (!this.changingSrc_) {
                                var i = function (e) {
                                        return t.updateSourceCaches_(e);
                                    },
                                    n = this.currentSource().src,
                                    r = e.src;
                                n && !/^blob:/.test(n) && /^blob:/.test(r) && (!this.lastSource_ || (this.lastSource_.tech !== r && this.lastSource_.player !== n)) && (i = function () {}),
                                    i(r),
                                    e.src ||
                                        this.tech_.any(["sourceset", "loadstart"], function (e) {
                                            if ("sourceset" !== e.type) {
                                                var i = t.techGet("currentSrc");
                                                (t.lastSource_.tech = i), t.updateSourceCaches_(i);
                                            }
                                        });
                            }
                            (this.lastSource_ = { player: this.currentSource().src, tech: e.src }), this.trigger({ src: e.src, type: "sourceset" });
                        }),
                        (i.hasStarted = function (e) {
                            if (void 0 === e) return this.hasStarted_;
                            e !== this.hasStarted_ && ((this.hasStarted_ = e), this.hasStarted_ ? (this.addClass("vjs-has-started"), this.trigger("firstplay")) : this.removeClass("vjs-has-started"));
                        }),
                        (i.handleTechPlay_ = function () {
                            this.removeClass("vjs-ended"), this.removeClass("vjs-paused"), this.addClass("vjs-playing"), this.hasStarted(!0), this.trigger("play");
                        }),
                        (i.handleTechRateChange_ = function () {
                            this.tech_.playbackRate() > 0 &&
                                0 === this.cache_.lastPlaybackRate &&
                                (this.queuedCallbacks_.forEach(function (e) {
                                    return e.callback(e.event);
                                }),
                                (this.queuedCallbacks_ = [])),
                                (this.cache_.lastPlaybackRate = this.tech_.playbackRate()),
                                this.trigger("ratechange");
                        }),
                        (i.handleTechWaiting_ = function () {
                            var e = this;
                            this.addClass("vjs-waiting"), this.trigger("waiting");
                            var t = this.currentTime();
                            this.on("timeupdate", function i() {
                                t !== e.currentTime() && (e.removeClass("vjs-waiting"), e.off("timeupdate", i));
                            });
                        }),
                        (i.handleTechCanPlay_ = function () {
                            this.removeClass("vjs-waiting"), this.trigger("canplay");
                        }),
                        (i.handleTechCanPlayThrough_ = function () {
                            this.removeClass("vjs-waiting"), this.trigger("canplaythrough");
                        }),
                        (i.handleTechPlaying_ = function () {
                            this.removeClass("vjs-waiting"), this.trigger("playing");
                        }),
                        (i.handleTechSeeking_ = function () {
                            this.addClass("vjs-seeking"), this.trigger("seeking");
                        }),
                        (i.handleTechSeeked_ = function () {
                            this.removeClass("vjs-seeking"), this.removeClass("vjs-ended"), this.trigger("seeked");
                        }),
                        (i.handleTechFirstPlay_ = function () {
                            this.options_.starttime && (Ne.warn("Passing the `starttime` option to the player will be deprecated in 6.0"), this.currentTime(this.options_.starttime)),
                                this.addClass("vjs-has-started"),
                                this.trigger("firstplay");
                        }),
                        (i.handleTechPause_ = function () {
                            this.removeClass("vjs-playing"), this.addClass("vjs-paused"), this.trigger("pause");
                        }),
                        (i.handleTechEnded_ = function () {
                            this.addClass("vjs-ended"), this.options_.loop ? (this.currentTime(0), this.play()) : this.paused() || this.pause(), this.trigger("ended");
                        }),
                        (i.handleTechDurationChange_ = function () {
                            this.duration(this.techGet_("duration"));
                        }),
                        (i.handleTechClick_ = function (e) {
                            _t(e) && this.controls_ && (this.paused() ? Ki(this.play()) : this.pause());
                        }),
                        (i.handleTechDoubleClick_ = function (e) {
                            this.controls_ &&
                                (Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"), function (t) {
                                    return t.contains(e.target);
                                }) ||
                                    (void 0 !== this.options_ && void 0 !== this.options_.userActions && void 0 !== this.options_.userActions.doubleClick && !1 === this.options_.userActions.doubleClick) ||
                                    (void 0 !== this.options_ && void 0 !== this.options_.userActions && "function" == typeof this.options_.userActions.doubleClick
                                        ? this.options_.userActions.doubleClick.call(this, e)
                                        : this.isFullscreen()
                                        ? this.exitFullscreen()
                                        : this.requestFullscreen()));
                        }),
                        (i.handleTechTap_ = function () {
                            this.userActive(!this.userActive());
                        }),
                        (i.handleTechTouchStart_ = function () {
                            this.userWasActive = this.userActive();
                        }),
                        (i.handleTechTouchMove_ = function () {
                            this.userWasActive && this.reportUserActivity();
                        }),
                        (i.handleTechTouchEnd_ = function (e) {
                            e.preventDefault();
                        }),
                        (i.handleStageClick_ = function () {
                            this.reportUserActivity();
                        }),
                        (i.toggleFullscreenClass_ = function () {
                            this.isFullscreen() ? this.addClass("vjs-fullscreen") : this.removeClass("vjs-fullscreen");
                        }),
                        (i.documentFullscreenChange_ = function (e) {
                            var t = e.target.player;
                            if (!t || t === this) {
                                var i = this.el(),
                                    n = a.a[this.fsApi_.fullscreenElement] === i;
                                !n && i.matches ? (n = i.matches(":" + this.fsApi_.fullscreen)) : !n && i.msMatchesSelector && (n = i.msMatchesSelector(":" + this.fsApi_.fullscreen)), this.isFullscreen(n);
                            }
                        }),
                        (i.handleTechFullscreenChange_ = function (e, t) {
                            t && (t.nativeIOSFullscreen && this.toggleClass("vjs-ios-native-fs"), this.isFullscreen(t.isFullscreen));
                        }),
                        (i.handleTechFullscreenError_ = function (e, t) {
                            this.trigger("fullscreenerror", t);
                        }),
                        (i.togglePictureInPictureClass_ = function () {
                            this.isInPictureInPicture() ? this.addClass("vjs-picture-in-picture") : this.removeClass("vjs-picture-in-picture");
                        }),
                        (i.handleTechEnterPictureInPicture_ = function () {
                            this.isInPictureInPicture(!0);
                        }),
                        (i.handleTechLeavePictureInPicture_ = function () {
                            this.isInPictureInPicture(!1);
                        }),
                        (i.handleTechError_ = function () {
                            var e = this.tech_.error();
                            this.error(e);
                        }),
                        (i.handleTechTextData_ = function () {
                            var e = null;
                            arguments.length > 1 && (e = arguments[1]), this.trigger("textdata", e);
                        }),
                        (i.getCache = function () {
                            return this.cache_;
                        }),
                        (i.resetCache_ = function () {
                            this.cache_ = {
                                currentTime: 0,
                                initTime: 0,
                                inactivityTimeout: this.options_.inactivityTimeout,
                                duration: NaN,
                                lastVolume: 1,
                                lastPlaybackRate: this.defaultPlaybackRate(),
                                media: null,
                                src: "",
                                source: {},
                                sources: [],
                                volume: 1,
                            };
                        }),
                        (i.techCall_ = function (e, t) {
                            this.ready(function () {
                                if (e in Un)
                                    return (function (e, t, i, n) {
                                        return t[i](e.reduce(Bn(i), n));
                                    })(this.middleware_, this.tech_, e, t);
                                if (e in jn) return Mn(this.middleware_, this.tech_, e, t);
                                try {
                                    this.tech_ && this.tech_[e](t);
                                } catch (e) {
                                    throw (Ne(e), e);
                                }
                            }, !0);
                        }),
                        (i.techGet_ = function (e) {
                            if (this.tech_ && this.tech_.isReady_) {
                                if (e in Nn)
                                    return (function (e, t, i) {
                                        return e.reduceRight(Bn(i), t[i]());
                                    })(this.middleware_, this.tech_, e);
                                if (e in jn) return Mn(this.middleware_, this.tech_, e);
                                try {
                                    return this.tech_[e]();
                                } catch (t) {
                                    if (void 0 === this.tech_[e]) throw (Ne("Video.js: " + e + " method not defined for " + this.techName_ + " playback technology.", t), t);
                                    if ("TypeError" === t.name) throw (Ne("Video.js: " + e + " unavailable on " + this.techName_ + " playback technology element.", t), (this.tech_.isReady_ = !1), t);
                                    throw (Ne(t), t);
                                }
                            }
                        }),
                        (i.play = function () {
                            var e = this,
                                t = this.options_.Promise || r.a.Promise;
                            return t
                                ? new t(function (t) {
                                      e.play_(t);
                                  })
                                : this.play_();
                        }),
                        (i.play_ = function (e) {
                            var t = this;
                            void 0 === e && (e = Ki), this.playCallbacks_.push(e);
                            var i = Boolean(!this.changingSrc_ && (this.src() || this.currentSrc()));
                            if ((this.waitToPlay_ && (this.off(["ready", "loadstart"], this.waitToPlay_), (this.waitToPlay_ = null)), !this.isReady_ || !i))
                                return (
                                    (this.waitToPlay_ = function () {
                                        t.play_();
                                    }),
                                    this.one(["ready", "loadstart"], this.waitToPlay_),
                                    void (i || (!Mi && !Ri) || this.load())
                                );
                            var n = this.techGet_("play");
                            null === n ? this.runPlayTerminatedQueue_() : this.runPlayCallbacks_(n);
                        }),
                        (i.runPlayTerminatedQueue_ = function () {
                            var e = this.playTerminatedQueue_.slice(0);
                            (this.playTerminatedQueue_ = []),
                                e.forEach(function (e) {
                                    e();
                                });
                        }),
                        (i.runPlayCallbacks_ = function (e) {
                            var t = this.playCallbacks_.slice(0);
                            (this.playCallbacks_ = []),
                                (this.playTerminatedQueue_ = []),
                                t.forEach(function (t) {
                                    t(e);
                                });
                        }),
                        (i.pause = function () {
                            this.techCall_("pause");
                        }),
                        (i.paused = function () {
                            return !1 !== this.techGet_("paused");
                        }),
                        (i.played = function () {
                            return this.techGet_("played") || Bi(0, 0);
                        }),
                        (i.scrubbing = function (e) {
                            if (void 0 === e) return this.scrubbing_;
                            (this.scrubbing_ = !!e), this.techCall_("setScrubbing", this.scrubbing_), e ? this.addClass("vjs-scrubbing") : this.removeClass("vjs-scrubbing");
                        }),
                        (i.currentTime = function (e) {
                            return void 0 !== e
                                ? (e < 0 && (e = 0),
                                  this.isReady_ && !this.changingSrc_ && this.tech_ && this.tech_.isReady_
                                      ? (this.techCall_("setCurrentTime", e), void (this.cache_.initTime = 0))
                                      : ((this.cache_.initTime = e), this.off("canplay", this.applyInitTime_), void this.one("canplay", this.applyInitTime_)))
                                : ((this.cache_.currentTime = this.techGet_("currentTime") || 0), this.cache_.currentTime);
                        }),
                        (i.applyInitTime_ = function () {
                            this.currentTime(this.cache_.initTime);
                        }),
                        (i.duration = function (e) {
                            if (void 0 === e) return void 0 !== this.cache_.duration ? this.cache_.duration : NaN;
                            (e = parseFloat(e)) < 0 && (e = 1 / 0),
                                e !== this.cache_.duration && ((this.cache_.duration = e), e === 1 / 0 ? this.addClass("vjs-live") : this.removeClass("vjs-live"), isNaN(e) || this.trigger("durationchange"));
                        }),
                        (i.remainingTime = function () {
                            return this.duration() - this.currentTime();
                        }),
                        (i.remainingTimeDisplay = function () {
                            return Math.floor(this.duration()) - Math.floor(this.currentTime());
                        }),
                        (i.buffered = function () {
                            var e = this.techGet_("buffered");
                            return (e && e.length) || (e = Bi(0, 0)), e;
                        }),
                        (i.bufferedPercent = function () {
                            return Fi(this.buffered(), this.duration());
                        }),
                        (i.bufferedEnd = function () {
                            var e = this.buffered(),
                                t = this.duration(),
                                i = e.end(e.length - 1);
                            return i > t && (i = t), i;
                        }),
                        (i.volume = function (e) {
                            var t;
                            return void 0 !== e
                                ? ((t = Math.max(0, Math.min(1, parseFloat(e)))), (this.cache_.volume = t), this.techCall_("setVolume", t), void (t > 0 && this.lastVolume_(t)))
                                : ((t = parseFloat(this.techGet_("volume"))), isNaN(t) ? 1 : t);
                        }),
                        (i.muted = function (e) {
                            if (void 0 === e) return this.techGet_("muted") || !1;
                            this.techCall_("setMuted", e);
                        }),
                        (i.defaultMuted = function (e) {
                            return void 0 !== e ? this.techCall_("setDefaultMuted", e) : this.techGet_("defaultMuted") || !1;
                        }),
                        (i.lastVolume_ = function (e) {
                            if (void 0 === e || 0 === e) return this.cache_.lastVolume;
                            this.cache_.lastVolume = e;
                        }),
                        (i.supportsFullScreen = function () {
                            return this.techGet_("supportsFullScreen") || !1;
                        }),
                        (i.isFullscreen = function (e) {
                            if (void 0 !== e) {
                                var t = this.isFullscreen_;
                                return (this.isFullscreen_ = Boolean(e)), this.isFullscreen_ !== t && this.fsApi_.prefixed && this.trigger("fullscreenchange"), void this.toggleFullscreenClass_();
                            }
                            return this.isFullscreen_;
                        }),
                        (i.requestFullscreen = function (e) {
                            var t = this.options_.Promise || r.a.Promise;
                            if (t) {
                                var i = this;
                                return new t(function (t, n) {
                                    function r() {
                                        i.off("fullscreenerror", a), i.off("fullscreenchange", s);
                                    }
                                    function s() {
                                        r(), t();
                                    }
                                    function a(e, t) {
                                        r(), n(t);
                                    }
                                    i.one("fullscreenchange", s), i.one("fullscreenerror", a);
                                    var o = i.requestFullscreenHelper_(e);
                                    if (o) return o.then(r, r), o;
                                });
                            }
                            return this.requestFullscreenHelper_();
                        }),
                        (i.requestFullscreenHelper_ = function (e) {
                            var t,
                                i = this;
                            if ((this.fsApi_.prefixed || ((t = (this.options_.fullscreen && this.options_.fullscreen.options) || {}), void 0 !== e && (t = e)), this.fsApi_.requestFullscreen)) {
                                var n = this.el_[this.fsApi_.requestFullscreen](t);
                                return (
                                    n &&
                                        n.then(
                                            function () {
                                                return i.isFullscreen(!0);
                                            },
                                            function () {
                                                return i.isFullscreen(!1);
                                            }
                                        ),
                                    n
                                );
                            }
                            this.tech_.supportsFullScreen() ? this.techCall_("enterFullScreen") : this.enterFullWindow();
                        }),
                        (i.exitFullscreen = function () {
                            var e = this.options_.Promise || r.a.Promise;
                            if (e) {
                                var t = this;
                                return new e(function (e, i) {
                                    function n() {
                                        t.off("fullscreenerror", s), t.off("fullscreenchange", r);
                                    }
                                    function r() {
                                        n(), e();
                                    }
                                    function s(e, t) {
                                        n(), i(t);
                                    }
                                    t.one("fullscreenchange", r), t.one("fullscreenerror", s);
                                    var a = t.exitFullscreenHelper_();
                                    if (a) return a.then(n, n), a;
                                });
                            }
                            return this.exitFullscreenHelper_();
                        }),
                        (i.exitFullscreenHelper_ = function () {
                            var e = this;
                            if (this.fsApi_.requestFullscreen) {
                                var t = a.a[this.fsApi_.exitFullscreen]();
                                return (
                                    t &&
                                        t.then(function () {
                                            return e.isFullscreen(!1);
                                        }),
                                    t
                                );
                            }
                            this.tech_.supportsFullScreen() ? this.techCall_("exitFullScreen") : this.exitFullWindow();
                        }),
                        (i.enterFullWindow = function () {
                            this.isFullscreen(!0),
                                (this.isFullWindow = !0),
                                (this.docOrigOverflow = a.a.documentElement.style.overflow),
                                Bt(a.a, "keydown", this.boundFullWindowOnEscKey_),
                                (a.a.documentElement.style.overflow = "hidden"),
                                tt(a.a.body, "vjs-full-window"),
                                this.trigger("enterFullWindow");
                        }),
                        (i.fullWindowOnEscKey = function (e) {
                            g.a.isEventKey(e, "Esc") && (!0 === this.isFullscreen() ? this.exitFullscreen() : this.exitFullWindow());
                        }),
                        (i.exitFullWindow = function () {
                            this.isFullscreen(!1),
                                (this.isFullWindow = !1),
                                Ft(a.a, "keydown", this.boundFullWindowOnEscKey_),
                                (a.a.documentElement.style.overflow = this.docOrigOverflow),
                                it(a.a.body, "vjs-full-window"),
                                this.trigger("exitFullWindow");
                        }),
                        (i.disablePictureInPicture = function (e) {
                            if (void 0 === e) return this.techGet_("disablePictureInPicture");
                            this.techCall_("setDisablePictureInPicture", e), (this.options_.disablePictureInPicture = e), this.trigger("disablepictureinpicturechanged");
                        }),
                        (i.isInPictureInPicture = function (e) {
                            return void 0 !== e ? ((this.isInPictureInPicture_ = !!e), void this.togglePictureInPictureClass_()) : !!this.isInPictureInPicture_;
                        }),
                        (i.requestPictureInPicture = function () {
                            if ("pictureInPictureEnabled" in a.a && !1 === this.disablePictureInPicture()) return this.techGet_("requestPictureInPicture");
                        }),
                        (i.exitPictureInPicture = function () {
                            if ("pictureInPictureEnabled" in a.a) return a.a.exitPictureInPicture();
                        }),
                        (i.handleKeyDown = function (e) {
                            var t = this.options_.userActions;
                            if (t && t.hotkeys) {
                                (function (e) {
                                    var t = e.tagName.toLowerCase();
                                    if (e.isContentEditable) return !0;
                                    if ("input" === t) return -1 === ["button", "checkbox", "hidden", "radio", "reset", "submit"].indexOf(e.type);
                                    return -1 !== ["textarea"].indexOf(t);
                                })(this.el_.ownerDocument.activeElement) || ("function" == typeof t.hotkeys ? t.hotkeys.call(this, e) : this.handleHotkeys(e));
                            }
                        }),
                        (i.handleHotkeys = function (e) {
                            var t = this.options_.userActions ? this.options_.userActions.hotkeys : {},
                                i = t.fullscreenKey,
                                n =
                                    void 0 === i
                                        ? function (e) {
                                              return g.a.isEventKey(e, "f");
                                          }
                                        : i,
                                r = t.muteKey,
                                s =
                                    void 0 === r
                                        ? function (e) {
                                              return g.a.isEventKey(e, "m");
                                          }
                                        : r,
                                o = t.playPauseKey,
                                l =
                                    void 0 === o
                                        ? function (e) {
                                              return g.a.isEventKey(e, "k") || g.a.isEventKey(e, "Space");
                                          }
                                        : o;
                            if (n.call(this, e)) {
                                e.preventDefault(), e.stopPropagation();
                                var u = fi.getComponent("FullscreenToggle");
                                !1 !== a.a[this.fsApi_.fullscreenEnabled] && u.prototype.handleClick.call(this, e);
                            } else if (s.call(this, e)) {
                                e.preventDefault(), e.stopPropagation(), fi.getComponent("MuteToggle").prototype.handleClick.call(this, e);
                            } else if (l.call(this, e)) {
                                e.preventDefault(), e.stopPropagation(), fi.getComponent("PlayToggle").prototype.handleClick.call(this, e);
                            }
                        }),
                        (i.canPlayType = function (e) {
                            for (var t, i = 0, n = this.options_.techOrder; i < n.length; i++) {
                                var r = n[i],
                                    s = Pn.getTech(r);
                                if ((s || (s = fi.getComponent(r)), s)) {
                                    if (s.isSupported() && (t = s.canPlayType(e))) return t;
                                } else Ne.error('The "' + r + '" tech is undefined. Skipped browser support check for that tech.');
                            }
                            return "";
                        }),
                        (i.selectSource = function (e) {
                            var t,
                                i = this,
                                n = this.options_.techOrder
                                    .map(function (e) {
                                        return [e, Pn.getTech(e)];
                                    })
                                    .filter(function (e) {
                                        var t = e[0],
                                            i = e[1];
                                        return i ? i.isSupported() : (Ne.error('The "' + t + '" tech is undefined. Skipped browser support check for that tech.'), !1);
                                    }),
                                r = function (e, t, i) {
                                    var n;
                                    return (
                                        e.some(function (e) {
                                            return t.some(function (t) {
                                                if ((n = i(e, t))) return !0;
                                            });
                                        }),
                                        n
                                    );
                                },
                                s = function (e, t) {
                                    var n = e[0];
                                    if (e[1].canPlaySource(t, i.options_[n.toLowerCase()])) return { source: t, tech: n };
                                };
                            return (
                                (this.options_.sourceOrder
                                    ? r(
                                          e,
                                          n,
                                          ((t = s),
                                          function (e, i) {
                                              return t(i, e);
                                          })
                                      )
                                    : r(n, e, s)) || !1
                            );
                        }),
                        (i.src = function (e) {
                            var t = this;
                            if (void 0 === e) return this.cache_.src || "";
                            var i = Vn(e);
                            i.length
                                ? ((this.changingSrc_ = !0),
                                  (this.cache_.sources = i),
                                  this.updateSourceCaches_(i[0]),
                                  Rn(this, i[0], function (e, n) {
                                      var r, s;
                                      if (((t.middleware_ = n), (t.cache_.sources = i), t.updateSourceCaches_(e), t.src_(e)))
                                          return i.length > 1
                                              ? t.src(i.slice(1))
                                              : ((t.changingSrc_ = !1),
                                                t.setTimeout(function () {
                                                    this.error({ code: 4, message: this.localize(this.options_.notSupportedMessage) });
                                                }, 0),
                                                void t.triggerReady());
                                      (r = n),
                                          (s = t.tech_),
                                          r.forEach(function (e) {
                                              return e.setTech && e.setTech(s);
                                          });
                                  }))
                                : this.setTimeout(function () {
                                      this.error({ code: 4, message: this.localize(this.options_.notSupportedMessage) });
                                  }, 0);
                        }),
                        (i.src_ = function (e) {
                            var t,
                                i,
                                n = this,
                                r = this.selectSource([e]);
                            return (
                                !r ||
                                ((t = r.tech),
                                (i = this.techName_),
                                li(t) !== li(i)
                                    ? ((this.changingSrc_ = !0),
                                      this.loadTech_(r.tech, r.source),
                                      this.tech_.ready(function () {
                                          n.changingSrc_ = !1;
                                      }),
                                      !1)
                                    : (this.ready(function () {
                                          this.tech_.constructor.prototype.hasOwnProperty("setSource") ? this.techCall_("setSource", e) : this.techCall_("src", e.src), (this.changingSrc_ = !1);
                                      }, !0),
                                      !1))
                            );
                        }),
                        (i.load = function () {
                            this.techCall_("load");
                        }),
                        (i.reset = function () {
                            var e = this,
                                t = this.options_.Promise || r.a.Promise;
                            this.paused() || !t
                                ? this.doReset_()
                                : Ki(
                                      this.play().then(function () {
                                          return e.doReset_();
                                      })
                                  );
                        }),
                        (i.doReset_ = function () {
                            this.tech_ && this.tech_.clearTracks("text"),
                                this.resetCache_(),
                                this.poster(""),
                                this.loadTech_(this.options_.techOrder[0], null),
                                this.techCall_("reset"),
                                this.resetControlBarUI_(),
                                Kt(this) && this.trigger("playerreset");
                        }),
                        (i.resetControlBarUI_ = function () {
                            this.resetProgressBar_(), this.resetPlaybackRate_(), this.resetVolumeBar_();
                        }),
                        (i.resetProgressBar_ = function () {
                            this.currentTime(0);
                            var e = this.controlBar,
                                t = e.durationDisplay,
                                i = e.remainingTimeDisplay;
                            t && t.updateContent(), i && i.updateContent();
                        }),
                        (i.resetPlaybackRate_ = function () {
                            this.playbackRate(this.defaultPlaybackRate()), this.handleTechRateChange_();
                        }),
                        (i.resetVolumeBar_ = function () {
                            this.volume(1), this.trigger("volumechange");
                        }),
                        (i.currentSources = function () {
                            var e = this.currentSource(),
                                t = [];
                            return 0 !== Object.keys(e).length && t.push(e), this.cache_.sources || t;
                        }),
                        (i.currentSource = function () {
                            return this.cache_.source || {};
                        }),
                        (i.currentSrc = function () {
                            return (this.currentSource() && this.currentSource().src) || "";
                        }),
                        (i.currentType = function () {
                            return (this.currentSource() && this.currentSource().type) || "";
                        }),
                        (i.preload = function (e) {
                            return void 0 !== e ? (this.techCall_("setPreload", e), void (this.options_.preload = e)) : this.techGet_("preload");
                        }),
                        (i.autoplay = function (e) {
                            if (void 0 === e) return this.options_.autoplay || !1;
                            var t;
                            "string" == typeof e && /(any|play|muted)/.test(e) ? ((this.options_.autoplay = e), this.manualAutoplay_(e), (t = !1)) : (this.options_.autoplay = !!e),
                                (t = void 0 === t ? this.options_.autoplay : t),
                                this.tech_ && this.techCall_("setAutoplay", t);
                        }),
                        (i.playsinline = function (e) {
                            return void 0 !== e ? (this.techCall_("setPlaysinline", e), (this.options_.playsinline = e), this) : this.techGet_("playsinline");
                        }),
                        (i.loop = function (e) {
                            return void 0 !== e ? (this.techCall_("setLoop", e), void (this.options_.loop = e)) : this.techGet_("loop");
                        }),
                        (i.poster = function (e) {
                            if (void 0 === e) return this.poster_;
                            e || (e = ""), e !== this.poster_ && ((this.poster_ = e), this.techCall_("setPoster", e), (this.isPosterFromTech_ = !1), this.trigger("posterchange"));
                        }),
                        (i.handleTechPosterChange_ = function () {
                            if ((!this.poster_ || this.options_.techCanOverridePoster) && this.tech_ && this.tech_.poster) {
                                var e = this.tech_.poster() || "";
                                e !== this.poster_ && ((this.poster_ = e), (this.isPosterFromTech_ = !0), this.trigger("posterchange"));
                            }
                        }),
                        (i.controls = function (e) {
                            if (void 0 === e) return !!this.controls_;
                            (e = !!e),
                                this.controls_ !== e &&
                                    ((this.controls_ = e),
                                    this.usingNativeControls() && this.techCall_("setControls", e),
                                    this.controls_
                                        ? (this.removeClass("vjs-controls-disabled"), this.addClass("vjs-controls-enabled"), this.trigger("controlsenabled"), this.usingNativeControls() || this.addTechControlsListeners_())
                                        : (this.removeClass("vjs-controls-enabled"), this.addClass("vjs-controls-disabled"), this.trigger("controlsdisabled"), this.usingNativeControls() || this.removeTechControlsListeners_()));
                        }),
                        (i.usingNativeControls = function (e) {
                            if (void 0 === e) return !!this.usingNativeControls_;
                            (e = !!e),
                                this.usingNativeControls_ !== e &&
                                    ((this.usingNativeControls_ = e),
                                    this.usingNativeControls_ ? (this.addClass("vjs-using-native-controls"), this.trigger("usingnativecontrols")) : (this.removeClass("vjs-using-native-controls"), this.trigger("usingcustomcontrols")));
                        }),
                        (i.error = function (e) {
                            if (void 0 === e) return this.error_ || null;
                            if (this.options_.suppressNotSupportedError && e && 4 === e.code) {
                                var t = function () {
                                    this.error(e);
                                };
                                return (
                                    (this.options_.suppressNotSupportedError = !1),
                                    this.any(["click", "touchstart"], t),
                                    void this.one("loadstart", function () {
                                        this.off(["click", "touchstart"], t);
                                    })
                                );
                            }
                            if (null === e) return (this.error_ = e), this.removeClass("vjs-error"), void (this.errorDisplay && this.errorDisplay.close());
                            (this.error_ = new Gi(e)), this.addClass("vjs-error"), Ne.error("(CODE:" + this.error_.code + " " + Gi.errorTypes[this.error_.code] + ")", this.error_.message, this.error_), this.trigger("error");
                        }),
                        (i.reportUserActivity = function () {
                            this.userActivity_ = !0;
                        }),
                        (i.userActive = function (e) {
                            if (void 0 === e) return this.userActive_;
                            if ((e = !!e) !== this.userActive_) {
                                if (((this.userActive_ = e), this.userActive_)) return (this.userActivity_ = !0), this.removeClass("vjs-user-inactive"), this.addClass("vjs-user-active"), void this.trigger("useractive");
                                this.tech_ &&
                                    this.tech_.one("mousemove", function (e) {
                                        e.stopPropagation(), e.preventDefault();
                                    }),
                                    (this.userActivity_ = !1),
                                    this.removeClass("vjs-user-active"),
                                    this.addClass("vjs-user-inactive"),
                                    this.trigger("userinactive");
                            }
                        }),
                        (i.listenForUserActivity_ = function () {
                            var e,
                                t,
                                i,
                                n = Gt(this, this.reportUserActivity),
                                r = function () {
                                    n(), this.clearInterval(e);
                                };
                            this.on("mousedown", function () {
                                n(), this.clearInterval(e), (e = this.setInterval(n, 250));
                            }),
                                this.on("mousemove", function (e) {
                                    (e.screenX === t && e.screenY === i) || ((t = e.screenX), (i = e.screenY), n());
                                }),
                                this.on("mouseup", r),
                                this.on("mouseleave", r);
                            var s,
                                a = this.getChild("controlBar");
                            !a ||
                                Ri ||
                                Ti ||
                                (a.on("mouseenter", function () {
                                    (this.player().cache_.inactivityTimeout = this.player().options_.inactivityTimeout), (this.player().options_.inactivityTimeout = 0);
                                }),
                                a.on("mouseleave", function () {
                                    this.player().options_.inactivityTimeout = this.player().cache_.inactivityTimeout;
                                })),
                                this.on("keydown", n),
                                this.on("keyup", n),
                                this.setInterval(function () {
                                    if (this.userActivity_) {
                                        (this.userActivity_ = !1), this.userActive(!0), this.clearTimeout(s);
                                        var e = this.options_.inactivityTimeout;
                                        e <= 0 ||
                                            (s = this.setTimeout(function () {
                                                this.userActivity_ || this.userActive(!1);
                                            }, e));
                                    }
                                }, 250);
                        }),
                        (i.playbackRate = function (e) {
                            if (void 0 === e) return this.tech_ && this.tech_.featuresPlaybackRate ? this.cache_.lastPlaybackRate || this.techGet_("playbackRate") : 1;
                            this.techCall_("setPlaybackRate", e);
                        }),
                        (i.defaultPlaybackRate = function (e) {
                            return void 0 !== e ? this.techCall_("setDefaultPlaybackRate", e) : this.tech_ && this.tech_.featuresPlaybackRate ? this.techGet_("defaultPlaybackRate") : 1;
                        }),
                        (i.isAudio = function (e) {
                            if (void 0 === e) return !!this.isAudio_;
                            this.isAudio_ = !!e;
                        }),
                        (i.addTextTrack = function (e, t, i) {
                            if (this.tech_) return this.tech_.addTextTrack(e, t, i);
                        }),
                        (i.addRemoteTextTrack = function (e, t) {
                            if (this.tech_) return this.tech_.addRemoteTextTrack(e, t);
                        }),
                        (i.removeRemoteTextTrack = function (e) {
                            void 0 === e && (e = {});
                            var t = e.track;
                            if ((t || (t = e), this.tech_)) return this.tech_.removeRemoteTextTrack(t);
                        }),
                        (i.getVideoPlaybackQuality = function () {
                            return this.techGet_("getVideoPlaybackQuality");
                        }),
                        (i.videoWidth = function () {
                            return (this.tech_ && this.tech_.videoWidth && this.tech_.videoWidth()) || 0;
                        }),
                        (i.videoHeight = function () {
                            return (this.tech_ && this.tech_.videoHeight && this.tech_.videoHeight()) || 0;
                        }),
                        (i.language = function (e) {
                            if (void 0 === e) return this.language_;
                            this.language_ = String(e).toLowerCase();
                        }),
                        (i.languages = function () {
                            return ui(t.prototype.options_.languages, this.languages_);
                        }),
                        (i.toJSON = function () {
                            var e = ui(this.options_),
                                t = e.tracks;
                            e.tracks = [];
                            for (var i = 0; i < t.length; i++) {
                                var n = t[i];
                                ((n = ui(n)).player = void 0), (e.tracks[i] = n);
                            }
                            return e;
                        }),
                        (i.createModal = function (e, t) {
                            var i = this;
                            (t = t || {}).content = e || "";
                            var n = new en(this, t);
                            return (
                                this.addChild(n),
                                n.on("dispose", function () {
                                    i.removeChild(n);
                                }),
                                n.open(),
                                n
                            );
                        }),
                        (i.updateCurrentBreakpoint_ = function () {
                            if (this.responsive())
                                for (var e = this.currentBreakpoint(), t = this.currentWidth(), i = 0; i < As.length; i++) {
                                    var n = As[i];
                                    if (t <= this.breakpoints_[n]) {
                                        if (e === n) return;
                                        e && this.removeClass(Is[e]), this.addClass(Is[n]), (this.breakpoint_ = n);
                                        break;
                                    }
                                }
                        }),
                        (i.removeCurrentBreakpoint_ = function () {
                            var e = this.currentBreakpointClass();
                            (this.breakpoint_ = ""), e && this.removeClass(e);
                        }),
                        (i.breakpoints = function (e) {
                            return void 0 === e || ((this.breakpoint_ = ""), (this.breakpoints_ = He({}, Ps, e)), this.updateCurrentBreakpoint_()), He(this.breakpoints_);
                        }),
                        (i.responsive = function (e) {
                            return void 0 === e
                                ? this.responsive_
                                : (e = Boolean(e)) !== this.responsive_
                                ? ((this.responsive_ = e),
                                  e ? (this.on("playerresize", this.updateCurrentBreakpoint_), this.updateCurrentBreakpoint_()) : (this.off("playerresize", this.updateCurrentBreakpoint_), this.removeCurrentBreakpoint_()),
                                  e)
                                : void 0;
                        }),
                        (i.currentBreakpoint = function () {
                            return this.breakpoint_;
                        }),
                        (i.currentBreakpointClass = function () {
                            return Is[this.breakpoint_] || "";
                        }),
                        (i.loadMedia = function (e, t) {
                            var i = this;
                            if (e && "object" == typeof e) {
                                this.reset(), (this.cache_.media = ui(e));
                                var n = this.cache_.media,
                                    r = n.artwork,
                                    s = n.poster,
                                    a = n.src,
                                    o = n.textTracks;
                                !r && s && (this.cache_.media.artwork = [{ src: s, type: qn(s) }]),
                                    a && this.src(a),
                                    s && this.poster(s),
                                    Array.isArray(o) &&
                                        o.forEach(function (e) {
                                            return i.addRemoteTextTrack(e, !1);
                                        }),
                                    this.ready(t);
                            }
                        }),
                        (i.getMedia = function () {
                            if (!this.cache_.media) {
                                var e = this.poster(),
                                    t = {
                                        src: this.currentSources(),
                                        textTracks: Array.prototype.map.call(this.remoteTextTracks(), function (e) {
                                            return { kind: e.kind, label: e.label, language: e.language, src: e.src };
                                        }),
                                    };
                                return e && ((t.poster = e), (t.artwork = [{ src: t.poster, type: qn(t.poster) }])), t;
                            }
                            return ui(this.cache_.media);
                        }),
                        (t.getTagSettings = function (e) {
                            var t = { sources: [], tracks: [] },
                                i = st(e),
                                n = i["data-setup"];
                            if ((et(e, "vjs-fill") && (i.fill = !0), et(e, "vjs-fluid") && (i.fluid = !0), null !== n)) {
                                var r = f()(n || "{}"),
                                    s = r[0],
                                    a = r[1];
                                s && Ne.error(s), He(i, a);
                            }
                            if ((He(t, i), e.hasChildNodes()))
                                for (var o = e.childNodes, l = 0, u = o.length; l < u; l++) {
                                    var c = o[l],
                                        d = c.nodeName.toLowerCase();
                                    "source" === d ? t.sources.push(st(c)) : "track" === d && t.tracks.push(st(c));
                                }
                            return t;
                        }),
                        (i.flexNotSupported_ = function () {
                            var e = a.a.createElement("i");
                            return !("flexBasis" in e.style || "webkitFlexBasis" in e.style || "mozFlexBasis" in e.style || "msFlexBasis" in e.style || "msFlexOrder" in e.style);
                        }),
                        (i.debug = function (e) {
                            if (void 0 === e) return this.debugEnabled_;
                            e
                                ? (this.trigger("debugon"), (this.previousLogLevel_ = this.log.level), this.log.level("debug"), (this.debugEnabled_ = !0))
                                : (this.trigger("debugoff"), this.log.level(this.previousLogLevel_), (this.previousLogLevel_ = void 0), (this.debugEnabled_ = !1));
                        }),
                        t
                    );
                })(fi);
            In.names.forEach(function (e) {
                var t = In[e];
                Os.prototype[t.getterName] = function () {
                    return this.tech_ ? this.tech_[t.getterName]() : ((this[t.privateName] = this[t.privateName] || new t.ListClass()), this[t.privateName]);
                };
            }),
                (Os.prototype.crossorigin = Os.prototype.crossOrigin),
                (Os.players = {});
            var Ls = r.a.navigator;
            (Os.prototype.options_ = {
                techOrder: Pn.defaultTechOrder_,
                html5: {},
                flash: {},
                inactivityTimeout: 2e3,
                playbackRates: [],
                liveui: !1,
                children: ["mediaLoader", "posterImage", "textTrackDisplay", "loadingSpinner", "bigPlayButton", "liveTracker", "controlBar", "errorDisplay", "textTrackSettings", "resizeManager"],
                language: (Ls && ((Ls.languages && Ls.languages[0]) || Ls.userLanguage || Ls.language)) || "en",
                languages: {},
                notSupportedMessage: "No compatible source was found for this media.",
                fullscreen: { options: { navigationUI: "hide" } },
                breakpoints: {},
                responsive: !1,
            }),
                ["ended", "seeking", "seekable", "networkState", "readyState"].forEach(function (e) {
                    Os.prototype[e] = function () {
                        return this.techGet_(e);
                    };
                }),
                Es.forEach(function (e) {
                    Os.prototype["handleTech" + li(e) + "_"] = function () {
                        return this.trigger(e);
                    };
                }),
                fi.registerComponent("Player", Os);
            var Ds = "plugin",
                Rs = {},
                Ms = function (e) {
                    return Rs.hasOwnProperty(e);
                },
                Ns = function (e) {
                    return Ms(e) ? Rs[e] : void 0;
                },
                Us = function (e, t) {
                    (e.activePlugins_ = e.activePlugins_ || {}), (e.activePlugins_[t] = !0);
                },
                js = function (e, t, i) {
                    var n = (i ? "before" : "") + "pluginsetup";
                    e.trigger(n, t), e.trigger(n + ":" + t.name, t);
                },
                Bs = function (e, t) {
                    return (
                        (t.prototype.name = e),
                        function () {
                            js(this, { name: e, plugin: t, instance: null }, !0);
                            for (var i = arguments.length, n = new Array(i), r = 0; r < i; r++) n[r] = arguments[r];
                            var s = S()(t, [this].concat(n));
                            return (
                                (this[e] = function () {
                                    return s;
                                }),
                                js(this, s.getEventHash()),
                                s
                            );
                        }
                    );
                },
                Fs = (function () {
                    function e(t) {
                        if (this.constructor === e) throw new Error("Plugin must be sub-classed; not directly instantiated.");
                        (this.player = t),
                            this.log || (this.log = this.player.log.createLogger(this.name)),
                            ri(this),
                            delete this.trigger,
                            ai(this, this.constructor.defaultState),
                            Us(t, this.name),
                            (this.dispose = Gt(this, this.dispose)),
                            t.on("dispose", this.dispose);
                    }
                    var t = e.prototype;
                    return (
                        (t.version = function () {
                            return this.constructor.VERSION;
                        }),
                        (t.getEventHash = function (e) {
                            return void 0 === e && (e = {}), (e.name = this.name), (e.plugin = this.constructor), (e.instance = this), e;
                        }),
                        (t.trigger = function (e, t) {
                            return void 0 === t && (t = {}), Ht(this.eventBusEl_, e, this.getEventHash(t));
                        }),
                        (t.handleStateChanged = function () {}),
                        (t.dispose = function () {
                            var e = this.name,
                                t = this.player;
                            this.trigger("dispose"), this.off(), t.off("dispose", this.dispose), (t.activePlugins_[e] = !1), (this.player = this.state = null), (t[e] = Bs(e, Rs[e]));
                        }),
                        (e.isBasic = function (t) {
                            var i = "string" == typeof t ? Ns(t) : t;
                            return "function" == typeof i && !e.prototype.isPrototypeOf(i.prototype);
                        }),
                        (e.registerPlugin = function (t, i) {
                            if ("string" != typeof t) throw new Error('Illegal plugin name, "' + t + '", must be a string, was ' + typeof t + ".");
                            if (Ms(t)) Ne.warn('A plugin named "' + t + '" already exists. You may want to avoid re-registering plugins!');
                            else if (Os.prototype.hasOwnProperty(t)) throw new Error('Illegal plugin name, "' + t + '", cannot share a name with an existing player method!');
                            if ("function" != typeof i) throw new Error('Illegal plugin for "' + t + '", must be a function, was ' + typeof i + ".");
                            return (
                                (Rs[t] = i),
                                t !== Ds &&
                                    (e.isBasic(i)
                                        ? (Os.prototype[t] = (function (e, t) {
                                              var i = function () {
                                                  js(this, { name: e, plugin: t, instance: null }, !0);
                                                  var i = t.apply(this, arguments);
                                                  return Us(this, e), js(this, { name: e, plugin: t, instance: i }), i;
                                              };
                                              return (
                                                  Object.keys(t).forEach(function (e) {
                                                      i[e] = t[e];
                                                  }),
                                                  i
                                              );
                                          })(t, i))
                                        : (Os.prototype[t] = Bs(t, i))),
                                i
                            );
                        }),
                        (e.deregisterPlugin = function (e) {
                            if (e === Ds) throw new Error("Cannot de-register base plugin.");
                            Ms(e) && (delete Rs[e], delete Os.prototype[e]);
                        }),
                        (e.getPlugins = function (e) {
                            var t;
                            return (
                                void 0 === e && (e = Object.keys(Rs)),
                                e.forEach(function (e) {
                                    var i = Ns(e);
                                    i && ((t = t || {})[e] = i);
                                }),
                                t
                            );
                        }),
                        (e.getPluginVersion = function (e) {
                            var t = Ns(e);
                            return (t && t.VERSION) || "";
                        }),
                        e
                    );
                })();
            (Fs.getPlugin = Ns),
                (Fs.BASE_PLUGIN_NAME = Ds),
                Fs.registerPlugin(Ds, Fs),
                (Os.prototype.usingPlugin = function (e) {
                    return !!this.activePlugins_ && !0 === this.activePlugins_[e];
                }),
                (Os.prototype.hasPlugin = function (e) {
                    return !!Ms(e);
                });
            var Hs = function (e) {
                return 0 === e.indexOf("#") ? e.slice(1) : e;
            };
            function qs(e, t, i) {
                var n = qs.getPlayer(e);
                if (n) return t && Ne.warn('Player "' + e + '" is already initialised. Options will not be applied.'), i && n.ready(i), n;
                var r = "string" == typeof e ? Tt("#" + Hs(e)) : e;
                if (!Ye(r)) throw new TypeError("The element or ID supplied is not valid. (videojs)");
                (r.ownerDocument.defaultView && r.ownerDocument.body.contains(r)) || Ne.warn("The element supplied is not included in the DOM"),
                    (t = t || {}),
                    qs.hooks("beforesetup").forEach(function (e) {
                        var i = e(r, ui(t));
                        qe(i) && !Array.isArray(i) ? (t = ui(t, i)) : Ne.error("please return an object in beforesetup hooks");
                    });
                var s = fi.getComponent("Player");
                return (
                    (n = new s(r, t, i)),
                    qs.hooks("setup").forEach(function (e) {
                        return e(n);
                    }),
                    n
                );
            }
            if (
                ((qs.hooks_ = {}),
                (qs.hooks = function (e, t) {
                    return (qs.hooks_[e] = qs.hooks_[e] || []), t && (qs.hooks_[e] = qs.hooks_[e].concat(t)), qs.hooks_[e];
                }),
                (qs.hook = function (e, t) {
                    qs.hooks(e, t);
                }),
                (qs.hookOnce = function (e, t) {
                    qs.hooks(
                        e,
                        [].concat(t).map(function (t) {
                            return function i() {
                                return qs.removeHook(e, i), t.apply(void 0, arguments);
                            };
                        })
                    );
                }),
                (qs.removeHook = function (e, t) {
                    var i = qs.hooks(e).indexOf(t);
                    return !(i <= -1) && ((qs.hooks_[e] = qs.hooks_[e].slice()), qs.hooks_[e].splice(i, 1), !0);
                }),
                !0 !== r.a.VIDEOJS_NO_DYNAMIC_STYLE && Ge())
            ) {
                var Vs = Tt(".vjs-styles-defaults");
                if (!Vs) {
                    Vs = It("vjs-styles-defaults");
                    var $s = Tt("head");
                    $s && $s.insertBefore(Vs, $s.firstChild), Pt(Vs, "\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ");
                }
            }
            Et(1, qs),
                (qs.VERSION = Re),
                (qs.options = Os.prototype.options_),
                (qs.getPlayers = function () {
                    return Os.players;
                }),
                (qs.getPlayer = function (e) {
                    var t,
                        i = Os.players;
                    if ("string" == typeof e) {
                        var n = Hs(e),
                            r = i[n];
                        if (r) return r;
                        t = Tt("#" + n);
                    } else t = e;
                    if (Ye(t)) {
                        var s = t,
                            a = s.player,
                            o = s.playerId;
                        if (a || i[o]) return a || i[o];
                    }
                }),
                (qs.getAllPlayers = function () {
                    return Object.keys(Os.players)
                        .map(function (e) {
                            return Os.players[e];
                        })
                        .filter(Boolean);
                }),
                (qs.players = Os.players),
                (qs.getComponent = fi.getComponent),
                (qs.registerComponent = function (e, t) {
                    Pn.isTech(t) && Ne.warn("The " + e + " tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"), fi.registerComponent.call(fi, e, t);
                }),
                (qs.getTech = Pn.getTech),
                (qs.registerTech = Pn.registerTech),
                (qs.use = function (e, t) {
                    (On[e] = On[e] || []), On[e].push(t);
                }),
                Object.defineProperty(qs, "middleware", { value: {}, writeable: !1, enumerable: !0 }),
                Object.defineProperty(qs.middleware, "TERMINATOR", { value: Dn, writeable: !1, enumerable: !0 }),
                (qs.browser = Ni),
                (qs.TOUCH_ENABLED = Oi),
                (qs.extend = function (e, t) {
                    void 0 === t && (t = {});
                    var i = function () {
                            e.apply(this, arguments);
                        },
                        n = {};
                    for (var r in ("object" == typeof t ? (t.constructor !== Object.prototype.constructor && (i = t.constructor), (n = t)) : "function" == typeof t && (i = t), k()(i, e), e && (i.super_ = e), n))
                        n.hasOwnProperty(r) && (i.prototype[r] = n[r]);
                    return i;
                }),
                (qs.mergeOptions = ui),
                (qs.bind = Gt),
                (qs.registerPlugin = Fs.registerPlugin),
                (qs.deregisterPlugin = Fs.deregisterPlugin),
                (qs.plugin = function (e, t) {
                    return Ne.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"), Fs.registerPlugin(e, t);
                }),
                (qs.getPlugins = Fs.getPlugins),
                (qs.getPlugin = Fs.getPlugin),
                (qs.getPluginVersion = Fs.getPluginVersion),
                (qs.addLanguage = function (e, t) {
                    var i;
                    return (e = ("" + e).toLowerCase()), (qs.options.languages = ui(qs.options.languages, (((i = {})[e] = t), i))), qs.options.languages[e];
                }),
                (qs.log = Ne),
                (qs.createLogger = Ue),
                (qs.createTimeRange = qs.createTimeRanges = Bi),
                (qs.formatTime = sr),
                (qs.setFormatTime = function (e) {
                    rr = e;
                }),
                (qs.resetFormatTime = function () {
                    rr = nr;
                }),
                (qs.parseUrl = gn),
                (qs.isCrossOrigin = _n),
                (qs.EventTarget = Xt),
                (qs.on = Bt),
                (qs.one = qt),
                (qs.off = Ft),
                (qs.trigger = Ht),
                (qs.xhr = y.a),
                (qs.TextTrack = wn),
                (qs.AudioTrack = kn),
                (qs.VideoTrack = Cn),
                ["isEl", "isTextNode", "createEl", "hasClass", "addClass", "removeClass", "toggleClass", "setAttributes", "getAttributes", "emptyEl", "appendContent", "insertContent"].forEach(function (e) {
                    qs[e] = function () {
                        return Ne.warn("videojs." + e + "() is deprecated; use videojs.dom." + e + "() instead"), wt[e].apply(null, arguments);
                    };
                }),
                (qs.computedStyle = $e),
                (qs.dom = wt),
                (qs.url = bn),
                (qs.defineLazyProperty = ks);
            var zs,
                Ws = E.a,
                Gs = function (e, t, i) {
                    return e && i && i.responseURL && t !== i.responseURL ? i.responseURL : t;
                },
                Ys = qs.log,
                Xs = function (e, t) {
                    return e + "-" + t;
                },
                Ks = function (e) {
                    var t = e.manifestString,
                        i = e.customTagParsers,
                        n = void 0 === i ? [] : i,
                        r = e.customTagMappers,
                        s = void 0 === r ? [] : r,
                        a = new R();
                    return (
                        n.forEach(function (e) {
                            return a.addParser(e);
                        }),
                        s.forEach(function (e) {
                            return a.addTagMapper(e);
                        }),
                        a.push(t),
                        a.end(),
                        a.manifest
                    );
                },
                Qs = function (e, t) {
                    ["AUDIO", "SUBTITLES"].forEach(function (i) {
                        for (var n in e.mediaGroups[i])
                            for (var r in e.mediaGroups[i][n]) {
                                var s = e.mediaGroups[i][n][r];
                                t(s, i, n, r);
                            }
                    });
                },
                Js = function (e) {
                    var t = e.playlist,
                        i = e.uri,
                        n = e.id;
                    (t.id = n), i && (t.uri = i), (t.attributes = t.attributes || {});
                },
                Zs = function (e, t) {
                    e.uri = t;
                    for (var i = 0; i < e.playlists.length; i++)
                        if (!e.playlists[i].uri) {
                            var n = "placeholder-uri-" + i;
                            e.playlists[i].uri = n;
                        }
                    Qs(e, function (t, i, n, r) {
                        if (t.playlists && t.playlists.length && !t.playlists[0].uri) {
                            var s = "placeholder-uri-" + i + "-" + n + "-" + r,
                                a = Xs(0, s);
                            (t.playlists[0].uri = s), (t.playlists[0].id = a), (e.playlists[a] = t.playlists[0]), (e.playlists[s] = t.playlists[0]);
                        }
                    }),
                        (function (e) {
                            for (var t = e.playlists.length; t--; ) {
                                var i = e.playlists[t];
                                Js({ playlist: i, id: Xs(t, i.uri) }),
                                    (i.resolvedUri = Ws(e.uri, i.uri)),
                                    (e.playlists[i.id] = i),
                                    (e.playlists[i.uri] = i),
                                    i.attributes.BANDWIDTH || Ys.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.");
                            }
                        })(e),
                        (function (e) {
                            Qs(e, function (t) {
                                t.uri && (t.resolvedUri = Ws(e.uri, t.uri));
                            });
                        })(e);
                },
                ea = qs.mergeOptions,
                ta = qs.EventTarget,
                ia = function (e, t) {
                    e.resolvedUri || (e.resolvedUri = Ws(t, e.uri)), e.key && !e.key.resolvedUri && (e.key.resolvedUri = Ws(t, e.key.uri)), e.map && !e.map.resolvedUri && (e.map.resolvedUri = Ws(t, e.map.uri));
                },
                na = function (e, t) {
                    var i = ea(e, {}),
                        n = i.playlists[t.id];
                    if (!n) return null;
                    if (n.segments && t.segments && n.segments.length === t.segments.length && n.endList === t.endList && n.mediaSequence === t.mediaSequence) return null;
                    var r = ea(n, t);
                    n.segments &&
                        (r.segments = (function (e, t, i) {
                            var n = t.slice();
                            i = i || 0;
                            for (var r = Math.min(e.length, t.length + i), s = i; s < r; s++) n[s - i] = ea(e[s], n[s - i]);
                            return n;
                        })(n.segments, t.segments, t.mediaSequence - n.mediaSequence)),
                        r.segments.forEach(function (e) {
                            ia(e, r.resolvedUri);
                        });
                    for (var s = 0; s < i.playlists.length; s++) i.playlists[s].id === t.id && (i.playlists[s] = r);
                    return (i.playlists[t.id] = r), (i.playlists[t.uri] = r), i;
                },
                ra = function (e, t) {
                    var i = e.segments[e.segments.length - 1];
                    return t && i && i.duration ? 1e3 * i.duration : 500 * (e.targetDuration || 10);
                },
                sa = (function (e) {
                    function t(t, i, n) {
                        var r;
                        if ((void 0 === n && (n = {}), (r = e.call(this) || this), !t)) throw new Error("A non-empty playlist URL or object is required");
                        var s = n,
                            a = s.withCredentials,
                            o = void 0 !== a && a,
                            l = s.handleManifestRedirects,
                            u = void 0 !== l && l;
                        (r.src = t), (r.vhs_ = i), (r.withCredentials = o), (r.handleManifestRedirects = u);
                        var c = i.options_;
                        return (
                            (r.customTagParsers = (c && c.customTagParsers) || []),
                            (r.customTagMappers = (c && c.customTagMappers) || []),
                            (r.state = "HAVE_NOTHING"),
                            r.on("mediaupdatetimeout", function () {
                                "HAVE_METADATA" === r.state &&
                                    ((r.state = "HAVE_CURRENT_METADATA"),
                                    (r.request = r.vhs_.xhr({ uri: Ws(r.master.uri, r.media().uri), withCredentials: r.withCredentials }, function (e) {
                                        if (r.request) return e ? r.playlistRequestError(r.request, r.media(), "HAVE_METADATA") : void r.haveMetadata({ playlistString: r.request.responseText, url: r.media().uri, id: r.media().id });
                                    })));
                            }),
                            r
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.playlistRequestError = function (e, t, i) {
                            var n = t.uri,
                                r = t.id;
                            (this.request = null),
                                i && (this.state = i),
                                (this.error = { playlist: this.master.playlists[r], status: e.status, message: "HLS playlist request error at URL: " + n + ".", responseText: e.responseText, code: e.status >= 500 ? 4 : 2 }),
                                this.trigger("error");
                        }),
                        (i.haveMetadata = function (e) {
                            var t = this,
                                i = e.playlistString,
                                n = e.playlistObject,
                                s = e.url,
                                a = e.id;
                            (this.request = null), (this.state = "HAVE_METADATA");
                            var o = n || Ks({ manifestString: i, customTagParsers: this.customTagParsers, customTagMappers: this.customTagMappers });
                            Js({ playlist: o, uri: s, id: a });
                            var l = na(this.master, o);
                            (this.targetDuration = o.targetDuration),
                                l ? ((this.master = l), (this.media_ = this.master.playlists[a])) : this.trigger("playlistunchanged"),
                                this.media().endList ||
                                    (r.a.clearTimeout(this.mediaUpdateTimeout),
                                    (this.mediaUpdateTimeout = r.a.setTimeout(function () {
                                        t.trigger("mediaupdatetimeout");
                                    }, ra(this.media(), !!l)))),
                                this.trigger("loadedplaylist");
                        }),
                        (i.dispose = function () {
                            this.trigger("dispose"), this.stopRequest(), r.a.clearTimeout(this.mediaUpdateTimeout), r.a.clearTimeout(this.finalRenditionTimeout), this.off();
                        }),
                        (i.stopRequest = function () {
                            if (this.request) {
                                var e = this.request;
                                (this.request = null), (e.onreadystatechange = null), e.abort();
                            }
                        }),
                        (i.media = function (e, t) {
                            var i = this;
                            if (!e) return this.media_;
                            if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                            if ("string" == typeof e) {
                                if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                                e = this.master.playlists[e];
                            }
                            if ((r.a.clearTimeout(this.finalRenditionTimeout), t)) {
                                var n = (e.targetDuration / 2) * 1e3 || 5e3;
                                this.finalRenditionTimeout = r.a.setTimeout(this.media.bind(this, e, !1), n);
                            } else {
                                var s = this.state,
                                    a = !this.media_ || e.id !== this.media_.id;
                                if (this.master.playlists[e.id].endList || (e.endList && e.segments.length))
                                    return (
                                        this.request && ((this.request.onreadystatechange = null), this.request.abort(), (this.request = null)),
                                        (this.state = "HAVE_METADATA"),
                                        (this.media_ = e),
                                        void (a && (this.trigger("mediachanging"), "HAVE_MASTER" === s ? this.trigger("loadedmetadata") : this.trigger("mediachange")))
                                    );
                                if (a) {
                                    if (((this.state = "SWITCHING_MEDIA"), this.request)) {
                                        if (e.resolvedUri === this.request.url) return;
                                        (this.request.onreadystatechange = null), this.request.abort(), (this.request = null);
                                    }
                                    this.media_ && this.trigger("mediachanging"),
                                        (this.request = this.vhs_.xhr({ uri: e.resolvedUri, withCredentials: this.withCredentials }, function (t, n) {
                                            if (i.request) {
                                                if (((e.resolvedUri = Gs(i.handleManifestRedirects, e.resolvedUri, n)), t)) return i.playlistRequestError(i.request, e, s);
                                                i.haveMetadata({ playlistString: n.responseText, url: e.uri, id: e.id }), "HAVE_MASTER" === s ? i.trigger("loadedmetadata") : i.trigger("mediachange");
                                            }
                                        }));
                                }
                            }
                        }),
                        (i.pause = function () {
                            this.stopRequest(),
                                r.a.clearTimeout(this.mediaUpdateTimeout),
                                "HAVE_NOTHING" === this.state && (this.started = !1),
                                "SWITCHING_MEDIA" === this.state ? (this.media_ ? (this.state = "HAVE_METADATA") : (this.state = "HAVE_MASTER")) : "HAVE_CURRENT_METADATA" === this.state && (this.state = "HAVE_METADATA");
                        }),
                        (i.load = function (e) {
                            var t = this;
                            r.a.clearTimeout(this.mediaUpdateTimeout);
                            var i = this.media();
                            if (e) {
                                var n = i ? (i.targetDuration / 2) * 1e3 : 5e3;
                                this.mediaUpdateTimeout = r.a.setTimeout(function () {
                                    return t.load();
                                }, n);
                            } else this.started ? (i && !i.endList ? this.trigger("mediaupdatetimeout") : this.trigger("loadedplaylist")) : this.start();
                        }),
                        (i.start = function () {
                            var e = this;
                            if (((this.started = !0), "object" == typeof this.src))
                                return (
                                    this.src.uri || (this.src.uri = r.a.location.href),
                                    (this.src.resolvedUri = this.src.uri),
                                    void setTimeout(function () {
                                        e.setupInitialPlaylist(e.src);
                                    }, 0)
                                );
                            this.request = this.vhs_.xhr({ uri: this.src, withCredentials: this.withCredentials }, function (t, i) {
                                if (e.request) {
                                    if (((e.request = null), t))
                                        return (
                                            (e.error = { status: i.status, message: "HLS playlist request error at URL: " + e.src + ".", responseText: i.responseText, code: 2 }),
                                            "HAVE_NOTHING" === e.state && (e.started = !1),
                                            e.trigger("error")
                                        );
                                    e.src = Gs(e.handleManifestRedirects, e.src, i);
                                    var n = Ks({ manifestString: i.responseText, customTagParsers: e.customTagParsers, customTagMappers: e.customTagMappers });
                                    e.setupInitialPlaylist(n);
                                }
                            });
                        }),
                        (i.srcUri = function () {
                            return "string" == typeof this.src ? this.src : this.src.uri;
                        }),
                        (i.setupInitialPlaylist = function (e) {
                            if (((this.state = "HAVE_MASTER"), e.playlists))
                                return (
                                    (this.master = e),
                                    Zs(this.master, this.srcUri()),
                                    e.playlists.forEach(function (e) {
                                        e.segments &&
                                            e.segments.forEach(function (t) {
                                                ia(t, e.resolvedUri);
                                            });
                                    }),
                                    this.trigger("loadedplaylist"),
                                    void (this.request || this.media(this.master.playlists[0]))
                                );
                            var t = this.srcUri() || r.a.location.href;
                            (this.master = (function (e, t) {
                                var i = Xs(0, t),
                                    n = { mediaGroups: { AUDIO: {}, VIDEO: {}, "CLOSED-CAPTIONS": {}, SUBTITLES: {} }, uri: r.a.location.href, resolvedUri: r.a.location.href, playlists: [{ uri: t, id: i, resolvedUri: t, attributes: {} }] };
                                return (n.playlists[i] = n.playlists[0]), (n.playlists[t] = n.playlists[0]), n;
                            })(0, t)),
                                this.haveMetadata({ playlistObject: e, url: t, id: this.master.playlists[0].id }),
                                this.trigger("loadedmetadata");
                        }),
                        t
                    );
                })(ta),
                aa = 1 / 30,
                oa = 0.1,
                la = function (e, t) {
                    var i,
                        n = [];
                    if (e && e.length) for (i = 0; i < e.length; i++) t(e.start(i), e.end(i)) && n.push([e.start(i), e.end(i)]);
                    return qs.createTimeRanges(n);
                },
                ua = function (e, t) {
                    return la(e, function (e, i) {
                        return e - oa <= t && i + oa >= t;
                    });
                },
                ca = function (e, t) {
                    return la(e, function (e) {
                        return e - aa >= t;
                    });
                },
                da = function (e) {
                    var t = [];
                    if (!e || !e.length) return "";
                    for (var i = 0; i < e.length; i++) t.push(e.start(i) + " => " + e.end(i));
                    return t.join(", ");
                },
                ha = function (e) {
                    for (var t = [], i = 0; i < e.length; i++) t.push({ start: e.start(i), end: e.end(i) });
                    return t;
                },
                pa = qs.createTimeRange,
                fa = function (e, t, i) {
                    if ((void 0 === t && (t = e.mediaSequence + e.segments.length), t < e.mediaSequence)) return 0;
                    var n = (function (e, t) {
                        var i = 0,
                            n = t - e.mediaSequence,
                            r = e.segments[n];
                        if (r) {
                            if (void 0 !== r.start) return { result: r.start, precise: !0 };
                            if (void 0 !== r.end) return { result: r.end - r.duration, precise: !0 };
                        }
                        for (; n--; ) {
                            if (void 0 !== (r = e.segments[n]).end) return { result: i + r.end, precise: !0 };
                            if (((i += r.duration), void 0 !== r.start)) return { result: i + r.start, precise: !0 };
                        }
                        return { result: i, precise: !1 };
                    })(e, t);
                    if (n.precise) return n.result;
                    var r = (function (e, t) {
                        for (var i, n = 0, r = t - e.mediaSequence; r < e.segments.length; r++) {
                            if (void 0 !== (i = e.segments[r]).start) return { result: i.start - n, precise: !0 };
                            if (((n += i.duration), void 0 !== i.end)) return { result: i.end - n, precise: !0 };
                        }
                        return { result: -1, precise: !1 };
                    })(e, t);
                    return r.precise ? r.result : n.result + i;
                },
                ma = function (e, t, i) {
                    if (!e) return 0;
                    if (("number" != typeof i && (i = 0), void 0 === t)) {
                        if (e.totalDuration) return e.totalDuration;
                        if (!e.endList) return r.a.Infinity;
                    }
                    return fa(e, t, i);
                },
                ga = function (e, t, i) {
                    var n = 0;
                    if (t > i) {
                        var r = [i, t];
                        (t = r[0]), (i = r[1]);
                    }
                    if (t < 0) {
                        for (var s = t; s < Math.min(0, i); s++) n += e.targetDuration;
                        t = 0;
                    }
                    for (var a = t; a < i; a++) n += e.segments[a].duration;
                    return n;
                },
                va = function (e, t) {
                    if (!e.segments.length) return 0;
                    var i = e.segments.length,
                        n = e.segments[i - 1].duration || e.targetDuration,
                        r = "number" == typeof t ? t : n + 2 * e.targetDuration;
                    if (0 === r) return i;
                    for (var s = 0; i-- && !((s += e.segments[i].duration) >= r); );
                    return Math.max(0, i);
                },
                ya = function (e, t, i, n) {
                    if (!e || !e.segments) return null;
                    if (e.endList) return ma(e);
                    if (null === t) return null;
                    t = t || 0;
                    var r = i ? va(e, n) : e.segments.length;
                    return fa(e, e.mediaSequence + r, t);
                },
                _a = function (e) {
                    return e.excludeUntil && e.excludeUntil > Date.now();
                },
                ba = function (e) {
                    return e.excludeUntil && e.excludeUntil === 1 / 0;
                },
                Ta = function (e) {
                    var t = _a(e);
                    return !e.disabled && !t;
                },
                Sa = function (e, t) {
                    return t.attributes && t.attributes[e];
                },
                wa = function (e, t) {
                    if (1 === e.playlists.length) return !0;
                    var i = t.attributes.BANDWIDTH || Number.MAX_VALUE;
                    return (
                        0 ===
                        e.playlists.filter(function (e) {
                            return !!Ta(e) && (e.attributes.BANDWIDTH || 0) < i;
                        }).length
                    );
                },
                ka = {
                    duration: ma,
                    seekable: function (e, t, i) {
                        var n = t || 0,
                            r = ya(e, t, !0, i);
                        return null === r ? pa() : pa(n, r);
                    },
                    safeLiveIndex: va,
                    getMediaInfoForTime: function (e, t, i, n) {
                        var r,
                            s = e.segments.length,
                            a = t - n;
                        if (a < 0) {
                            if (i > 0) for (r = i - 1; r >= 0; r--) if ((a += e.segments[r].duration + aa) > 0) return { mediaIndex: r, startTime: n - ga(e, i, r) };
                            return { mediaIndex: 0, startTime: t };
                        }
                        if (i < 0) {
                            for (r = i; r < 0; r++) if ((a -= e.targetDuration) < 0) return { mediaIndex: 0, startTime: t };
                            i = 0;
                        }
                        for (r = i; r < s; r++) if ((a -= e.segments[r].duration + aa) < 0) return { mediaIndex: r, startTime: n + ga(e, i, r) };
                        return { mediaIndex: s - 1, startTime: t };
                    },
                    isEnabled: Ta,
                    isDisabled: function (e) {
                        return e.disabled;
                    },
                    isBlacklisted: _a,
                    isIncompatible: ba,
                    playlistEnd: ya,
                    isAes: function (e) {
                        for (var t = 0; t < e.segments.length; t++) if (e.segments[t].key) return !0;
                        return !1;
                    },
                    hasAttribute: Sa,
                    estimateSegmentRequestTime: function (e, t, i, n) {
                        return void 0 === n && (n = 0), Sa("BANDWIDTH", i) ? (e * i.attributes.BANDWIDTH - 8 * n) / t : NaN;
                    },
                    isLowestEnabledRendition: wa,
                },
                Ca = qs.xhr,
                Ea = qs.mergeOptions,
                xa = function (e, t, i, n) {
                    var r = "arraybuffer" === e.responseType ? e.response : e.responseText;
                    !t &&
                        r &&
                        ((e.responseTime = Date.now()),
                        (e.roundTripTime = e.responseTime - e.requestTime),
                        (e.bytesReceived = r.byteLength || r.length),
                        e.bandwidth || (e.bandwidth = Math.floor((e.bytesReceived / e.roundTripTime) * 8 * 1e3))),
                        i.headers && (e.responseHeaders = i.headers),
                        t && "ETIMEDOUT" === t.code && (e.timedout = !0),
                        t || e.aborted || 200 === i.statusCode || 206 === i.statusCode || 0 === i.statusCode || (t = new Error("XHR Failed with a response of: " + (e && (r || e.responseText)))),
                        n(t, e);
                },
                Aa = function () {
                    return function e(t, i) {
                        t = Ea({ timeout: 45e3 }, t);
                        var n = e.beforeRequest || qs.Vhs.xhr.beforeRequest;
                        if (n && "function" == typeof n) {
                            var r = n(t);
                            r && (t = r);
                        }
                        var s = Ca(t, function (e, t) {
                                return xa(s, e, t, i);
                            }),
                            a = s.abort;
                        return (
                            (s.abort = function () {
                                return (s.aborted = !0), a.apply(s, arguments);
                            }),
                            (s.uri = t.uri),
                            (s.requestTime = Date.now()),
                            s
                        );
                    };
                },
                Ia = function (e) {
                    var t,
                        i,
                        n = {};
                    return e.byterange && (n.Range = ((t = e.byterange), (i = t.offset + t.length - 1), "bytes=" + t.offset + "-" + i)), n;
                },
                Pa = function (e, t) {
                    return e.start(t) + "-" + e.end(t);
                },
                Oa = function (e, t) {
                    var i = e.toString(16);
                    return "00".substring(0, 2 - i.length) + i + (t % 2 ? " " : "");
                },
                La = function (e) {
                    return e >= 32 && e < 126 ? String.fromCharCode(e) : ".";
                },
                Da = function (e) {
                    var t = {};
                    return (
                        Object.keys(e).forEach(function (i) {
                            var n = e[i];
                            ArrayBuffer.isView(n) ? (t[i] = { bytes: n.buffer, byteOffset: n.byteOffset, byteLength: n.byteLength }) : (t[i] = n);
                        }),
                        t
                    );
                },
                Ra = function (e) {
                    var t = e.byterange || { length: 1 / 0, offset: 0 };
                    return [t.length, t.offset, e.resolvedUri].join(",");
                },
                Ma = function (e) {
                    return e.resolvedUri;
                },
                Na = function (e) {
                    for (var t = Array.prototype.slice.call(e), i = 16, n = "", r = 0; r < t.length / i; r++)
                        n +=
                            t
                                .slice(r * i, r * i + i)
                                .map(Oa)
                                .join("") +
                            " " +
                            t
                                .slice(r * i, r * i + i)
                                .map(La)
                                .join("") +
                            "\n";
                    return n;
                },
                Ua = Object.freeze({
                    __proto__: null,
                    createTransferableMessage: Da,
                    initSegmentId: Ra,
                    segmentKeyId: Ma,
                    hexDump: Na,
                    tagDump: function (e) {
                        var t = e.bytes;
                        return Na(t);
                    },
                    textRanges: function (e) {
                        var t,
                            i = "";
                        for (t = 0; t < e.length; t++) i += Pa(e, t) + " ";
                        return i;
                    },
                }),
                ja = function (e) {
                    var t = e.playlist,
                        i = e.time,
                        n = void 0 === i ? void 0 : i,
                        r = e.callback;
                    if (!r) throw new Error("getProgramTime: callback must be provided");
                    if (!t || void 0 === n) return r({ message: "getProgramTime: playlist and time must be provided" });
                    var s = (function (e, t) {
                        if (!t || !t.segments || 0 === t.segments.length) return null;
                        for (var i, n = 0, r = 0; r < t.segments.length && !(e <= (n = (i = t.segments[r]).videoTimingInfo ? i.videoTimingInfo.transmuxedPresentationEnd : n + i.duration)); r++);
                        var s = t.segments[t.segments.length - 1];
                        if (s.videoTimingInfo && s.videoTimingInfo.transmuxedPresentationEnd < e) return null;
                        if (e > n) {
                            if (e > n + 0.25 * s.duration) return null;
                            i = s;
                        }
                        return { segment: i, estimatedStart: i.videoTimingInfo ? i.videoTimingInfo.transmuxedPresentationStart : n - i.duration, type: i.videoTimingInfo ? "accurate" : "estimate" };
                    })(n, t);
                    if (!s) return r({ message: "valid programTime was not found" });
                    if ("estimate" === s.type) return r({ message: "Accurate programTime could not be determined. Please seek to e.seekTime and try again", seekTime: s.estimatedStart });
                    var a = { mediaSeconds: n },
                        o = (function (e, t) {
                            if (!t.dateTimeObject) return null;
                            var i = t.videoTimingInfo.transmuxerPrependedSeconds,
                                n = e - (t.videoTimingInfo.transmuxedPresentationStart + i);
                            return new Date(t.dateTimeObject.getTime() + 1e3 * n);
                        })(n, s.segment);
                    return o && (a.programDateTime = o.toISOString()), r(null, a);
                },
                Ba = function e(t) {
                    var i = t.programTime,
                        n = t.playlist,
                        r = t.retryCount,
                        s = void 0 === r ? 2 : r,
                        a = t.seekTo,
                        o = t.pauseAfterSeek,
                        l = void 0 === o || o,
                        u = t.tech,
                        c = t.callback;
                    if (!c) throw new Error("seekToProgramTime: callback must be provided");
                    if (void 0 === i || !n || !a) return c({ message: "seekToProgramTime: programTime, seekTo and playlist must be provided" });
                    if (!n.endList && !u.hasStarted_) return c({ message: "player must be playing a live stream to start buffering" });
                    if (
                        !(function (e) {
                            if (!e.segments || 0 === e.segments.length) return !1;
                            for (var t = 0; t < e.segments.length; t++) if (!e.segments[t].dateTimeObject) return !1;
                            return !0;
                        })(n)
                    )
                        return c({ message: "programDateTime tags must be provided in the manifest " + n.resolvedUri });
                    var d = (function (e, t) {
                        var i;
                        try {
                            i = new Date(e);
                        } catch (e) {
                            return null;
                        }
                        if (!t || !t.segments || 0 === t.segments.length) return null;
                        var n = t.segments[0];
                        if (i < n.dateTimeObject) return null;
                        for (var r = 0; r < t.segments.length - 1 && ((n = t.segments[r]), !(i < t.segments[r + 1].dateTimeObject)); r++);
                        var s,
                            a = t.segments[t.segments.length - 1],
                            o = a.dateTimeObject,
                            l = a.videoTimingInfo ? (s = a.videoTimingInfo).transmuxedPresentationEnd - s.transmuxedPresentationStart - s.transmuxerPrependedSeconds : a.duration + 0.25 * a.duration;
                        return i > new Date(o.getTime() + 1e3 * l)
                            ? null
                            : (i > o && (n = a),
                              { segment: n, estimatedStart: n.videoTimingInfo ? n.videoTimingInfo.transmuxedPresentationStart : ka.duration(t, t.mediaSequence + t.segments.indexOf(n)), type: n.videoTimingInfo ? "accurate" : "estimate" });
                    })(i, n);
                    if (!d) return c({ message: i + " was not found in the stream" });
                    var h = d.segment,
                        p = (function (e, t) {
                            var i, n;
                            try {
                                (i = new Date(e)), (n = new Date(t));
                            } catch (e) {}
                            var r = i.getTime();
                            return (n.getTime() - r) / 1e3;
                        })(h.dateTimeObject, i);
                    if ("estimate" === d.type)
                        return 0 === s
                            ? c({ message: i + " is not buffered yet. Try again" })
                            : (a(d.estimatedStart + p),
                              void u.one("seeked", function () {
                                  e({ programTime: i, playlist: n, retryCount: s - 1, seekTo: a, pauseAfterSeek: l, tech: u, callback: c });
                              }));
                    var f = h.start + p;
                    u.one("seeked", function () {
                        return c(null, u.currentTime());
                    }),
                        l && u.pause(),
                        a(f);
                },
                Fa = function (e, t) {
                    if (4 === e.readyState) return t();
                },
                Ha = qs.EventTarget,
                qa = qs.mergeOptions,
                Va = function (e) {
                    var t = e.masterXml,
                        i = e.srcUrl,
                        n = e.clientOffset,
                        r = e.sidxMapping,
                        s = Se(t, { manifestUri: i, clientOffset: n, sidxMapping: r });
                    return Zs(s, i), s;
                },
                $a = function (e, t) {
                    for (var i = !0, n = qa(e, { duration: t.duration, minimumUpdatePeriod: t.minimumUpdatePeriod }), r = 0; r < t.playlists.length; r++) {
                        var s = na(n, t.playlists[r]);
                        s && ((n = s), (i = !1));
                    }
                    return (
                        Qs(t, function (e, t, r, s) {
                            if (e.playlists && e.playlists.length) {
                                var a = e.playlists[0].id,
                                    o = na(n, e.playlists[0]);
                                o && (((n = o).mediaGroups[t][r][s].playlists[0] = n.playlists[a]), (i = !1));
                            }
                        }),
                        t.minimumUpdatePeriod !== e.minimumUpdatePeriod && (i = !1),
                        i ? null : n
                    );
                },
                za = function (e) {
                    var t = e.byterange.offset + e.byterange.length - 1;
                    return e.uri + "-" + e.byterange.offset + "-" + t;
                },
                Wa = function (e, t) {
                    var i,
                        n,
                        r = {};
                    for (var s in e) {
                        var a = e[s].sidx;
                        if (a) {
                            var o = za(a);
                            if (!t[o]) break;
                            var l = t[o].sidxInfo;
                            (i = l),
                                (n = a),
                                (Boolean(!i.map && !n.map) || Boolean(i.map && n.map && i.map.byterange.offset === n.map.byterange.offset && i.map.byterange.length === n.map.byterange.length)) &&
                                    i.uri === n.uri &&
                                    i.byterange.offset === n.byterange.offset &&
                                    i.byterange.length === n.byterange.length &&
                                    (r[o] = t[o]);
                        }
                    }
                    return r;
                },
                Ga = function (e, t, i, n, r, s) {
                    var a = { uri: Gs(r.handleManifestRedirects, t.resolvedUri), byterange: t.byterange, playlist: i },
                        o = qs.mergeOptions(a, { responseType: "arraybuffer", headers: Ia(a) });
                    return (function (e, t, i) {
                        var n,
                            r = [],
                            s = !1,
                            a = function (e, t, n, r) {
                                return t.abort(), (s = !0), i(e, t, n, r);
                            },
                            o = function (e, t) {
                                if (!s) {
                                    if (e) return a(e, t, "", r);
                                    var i = t.responseText.substring((r && r.byteLength) || 0, t.responseText.length);
                                    if (((r = Object(xe.concatTypedArrays)(r, Object(xe.stringToBytes)(i, !0))), (n = n || Object(Ee.getId3Offset)(r)), r.length < 10 || (n && r.length < n + 2)))
                                        return Fa(t, function () {
                                            return a(e, t, "", r);
                                        });
                                    var o = Object(Ee.detectContainerForBytes)(r);
                                    return ("ts" === o && r.length < 188) || (!o && r.length < 376)
                                        ? Fa(t, function () {
                                              return a(e, t, "", r);
                                          })
                                        : a(null, t, o, r);
                                }
                            },
                            l = t(
                                {
                                    uri: e,
                                    beforeSend: function (e) {
                                        e.overrideMimeType("text/plain; charset=x-user-defined"),
                                            e.addEventListener("progress", function (t) {
                                                return t.total, t.loaded, xa(e, null, { statusCode: e.status }, o);
                                            });
                                    },
                                },
                                function (e, t) {
                                    return xa(l, e, t, o);
                                }
                            );
                        return l;
                    })(a.uri, n, function (t, r, l, u) {
                        if (t) return s(t, r);
                        if (!l || "mp4" !== l)
                            return s({ status: r.status, message: "Unsupported " + (l || "unknown") + " container type for sidx segment at URL: " + a.uri, response: "", playlist: i, internal: !0, blacklistDuration: 1 / 0, code: 2 }, r);
                        var c = a.byterange,
                            d = c.offset,
                            h = c.length;
                        if (u.length >= h + d) return s(t, { response: u.subarray(d, d + h), status: r.status, uri: r.uri });
                        e.request = n(o, s);
                    });
                },
                Ya = (function (e) {
                    function t(t, i, n, r) {
                        var s;
                        void 0 === n && (n = {}), (s = e.call(this) || this);
                        var a = n,
                            o = a.withCredentials,
                            l = void 0 !== o && o,
                            u = a.handleManifestRedirects,
                            d = void 0 !== u && u;
                        if (((s.vhs_ = i), (s.withCredentials = l), (s.handleManifestRedirects = d), !t)) throw new Error("A non-empty playlist URL or object is required");
                        return (
                            s.on("minimumUpdatePeriod", function () {
                                s.refreshXml_();
                            }),
                            s.on("mediaupdatetimeout", function () {
                                s.refreshMedia_(s.media().id);
                            }),
                            (s.state = "HAVE_NOTHING"),
                            (s.loadedPlaylists_ = {}),
                            "string" == typeof t ? ((s.srcUrl = t), (s.sidxMapping_ = {}), c()(s)) : (s.setupChildLoader(r, t), s)
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.setupChildLoader = function (e, t) {
                            (this.masterPlaylistLoader_ = e), (this.childPlaylist_ = t);
                        }),
                        (i.dispose = function () {
                            this.trigger("dispose"),
                                this.stopRequest(),
                                (this.loadedPlaylists_ = {}),
                                r.a.clearTimeout(this.minimumUpdatePeriodTimeout_),
                                r.a.clearTimeout(this.mediaRequest_),
                                r.a.clearTimeout(this.mediaUpdateTimeout),
                                this.off();
                        }),
                        (i.hasPendingRequest = function () {
                            return this.request || this.mediaRequest_;
                        }),
                        (i.stopRequest = function () {
                            if (this.request) {
                                var e = this.request;
                                (this.request = null), (e.onreadystatechange = null), e.abort();
                            }
                        }),
                        (i.sidxRequestFinished_ = function (e, t, i, n) {
                            var r = this;
                            return function (s, a) {
                                if (r.request) {
                                    if (((r.request = null), s))
                                        return (r.error = "object" == typeof s ? s : { status: a.status, message: "DASH playlist request error at URL: " + e.uri, response: a.response, code: 2 }), i && (r.state = i), void r.trigger("error");
                                    var o = Object(xe.toUint8)(a.response),
                                        l = Ce()(o.subarray(8));
                                    return n(t, l);
                                }
                            };
                        }),
                        (i.media = function (e) {
                            var t = this;
                            if (!e) return this.media_;
                            if ("HAVE_NOTHING" === this.state) throw new Error("Cannot switch media playlist from " + this.state);
                            var i = this.state;
                            if ("string" == typeof e) {
                                if (!this.master.playlists[e]) throw new Error("Unknown playlist URI: " + e);
                                e = this.master.playlists[e];
                            }
                            var n = !this.media_ || e.id !== this.media_.id;
                            if (n && this.loadedPlaylists_[e.id] && this.loadedPlaylists_[e.id].endList) return (this.state = "HAVE_METADATA"), (this.media_ = e), void (n && (this.trigger("mediachanging"), this.trigger("mediachange")));
                            if (n)
                                if ((this.media_ && this.trigger("mediachanging"), e.sidx)) {
                                    var s, a;
                                    this.masterPlaylistLoader_ ? ((s = this.masterPlaylistLoader_.master), (a = this.masterPlaylistLoader_.sidxMapping_)) : ((s = this.master), (a = this.sidxMapping_));
                                    var o = za(e.sidx);
                                    (a[o] = { sidxInfo: e.sidx }),
                                        (this.request = Ga(
                                            this,
                                            e.sidx,
                                            e,
                                            this.vhs_.xhr,
                                            { handleManifestRedirects: this.handleManifestRedirects },
                                            this.sidxRequestFinished_(e, s, i, function (n, r) {
                                                if (!n || !r) throw new Error("failed to request sidx");
                                                (a[o].sidx = r), t.haveMetadata({ startingState: i, playlist: n.playlists[e.id] });
                                            })
                                        ));
                                } else this.mediaRequest_ = r.a.setTimeout(this.haveMetadata.bind(this, { startingState: i, playlist: e }), 0);
                        }),
                        (i.haveMetadata = function (e) {
                            var t = e.startingState,
                                i = e.playlist;
                            (this.state = "HAVE_METADATA"), (this.loadedPlaylists_[i.id] = i), (this.mediaRequest_ = null), this.refreshMedia_(i.id), "HAVE_MASTER" === t ? this.trigger("loadedmetadata") : this.trigger("mediachange");
                        }),
                        (i.pause = function () {
                            this.stopRequest(), r.a.clearTimeout(this.mediaUpdateTimeout), r.a.clearTimeout(this.minimumUpdatePeriodTimeout_), "HAVE_NOTHING" === this.state && (this.started = !1);
                        }),
                        (i.load = function (e) {
                            var t = this;
                            r.a.clearTimeout(this.mediaUpdateTimeout), r.a.clearTimeout(this.minimumUpdatePeriodTimeout_);
                            var i = this.media();
                            if (e) {
                                var n = i ? (i.targetDuration / 2) * 1e3 : 5e3;
                                this.mediaUpdateTimeout = r.a.setTimeout(function () {
                                    return t.load();
                                }, n);
                            } else this.started ? (i && !i.endList ? this.trigger("mediaupdatetimeout") : this.trigger("loadedplaylist")) : this.start();
                        }),
                        (i.start = function () {
                            var e = this;
                            (this.started = !0),
                                this.masterPlaylistLoader_
                                    ? (this.mediaRequest_ = r.a.setTimeout(this.haveMaster_.bind(this), 0))
                                    : (this.request = this.vhs_.xhr({ uri: this.srcUrl, withCredentials: this.withCredentials }, function (t, i) {
                                          if (e.request) {
                                              if (((e.request = null), t))
                                                  return (
                                                      (e.error = { status: i.status, message: "DASH playlist request error at URL: " + e.srcUrl, responseText: i.responseText, code: 2 }),
                                                      "HAVE_NOTHING" === e.state && (e.started = !1),
                                                      e.trigger("error")
                                                  );
                                              (e.masterXml_ = i.responseText),
                                                  i.responseHeaders && i.responseHeaders.date ? (e.masterLoaded_ = Date.parse(i.responseHeaders.date)) : (e.masterLoaded_ = Date.now()),
                                                  (e.srcUrl = Gs(e.handleManifestRedirects, e.srcUrl, i)),
                                                  e.syncClientServerClock_(e.onClientServerClockSync_.bind(e));
                                          }
                                      }));
                        }),
                        (i.syncClientServerClock_ = function (e) {
                            var t = this,
                                i = we(this.masterXml_);
                            return null === i
                                ? ((this.clientOffset_ = this.masterLoaded_ - Date.now()), e())
                                : "DIRECT" === i.method
                                ? ((this.clientOffset_ = i.value - Date.now()), e())
                                : void (this.request = this.vhs_.xhr({ uri: Ws(this.srcUrl, i.value), method: i.method, withCredentials: this.withCredentials }, function (n, r) {
                                      if (t.request) {
                                          if (n) return (t.clientOffset_ = t.masterLoaded_ - Date.now()), e();
                                          var s;
                                          (s = "HEAD" === i.method ? (r.responseHeaders && r.responseHeaders.date ? Date.parse(r.responseHeaders.date) : t.masterLoaded_) : Date.parse(r.responseText)),
                                              (t.clientOffset_ = s - Date.now()),
                                              e();
                                      }
                                  }));
                        }),
                        (i.haveMaster_ = function () {
                            (this.state = "HAVE_MASTER"),
                                (this.mediaRequest_ = null),
                                this.masterPlaylistLoader_
                                    ? this.media_ || this.media(this.childPlaylist_)
                                    : (this.updateMainManifest_(Va({ masterXml: this.masterXml_, srcUrl: this.srcUrl, clientOffset: this.clientOffset_, sidxMapping: this.sidxMapping_ })), this.trigger("loadedplaylist"));
                        }),
                        (i.updateMinimumUpdatePeriodTimeout_ = function () {
                            var e = this;
                            r.a.clearTimeout(this.minimumUpdatePeriodTimeout_);
                            var t = function (t) {
                                    e.minimumUpdatePeriodTimeout_ = r.a.setTimeout(function () {
                                        e.trigger("minimumUpdatePeriod");
                                    }, t);
                                },
                                i = this.master && this.master.minimumUpdatePeriod;
                            i > 0
                                ? t(i)
                                : 0 === i &&
                                  (this.media()
                                      ? t(1e3 * this.media().targetDuration)
                                      : this.one("loadedplaylist", function () {
                                            t(1e3 * e.media().targetDuration);
                                        }));
                        }),
                        (i.onClientServerClockSync_ = function () {
                            this.haveMaster_(), this.hasPendingRequest() || this.media_ || this.media(this.master.playlists[0]), this.updateMinimumUpdatePeriodTimeout_();
                        }),
                        (i.updateMainManifest_ = function (e) {
                            if (((this.master = e), this.master.locations && this.master.locations.length)) {
                                var t = this.master.locations[0];
                                t !== this.srcUrl && (this.srcUrl = t);
                            }
                        }),
                        (i.refreshXml_ = function () {
                            var e = this;
                            this.request = this.vhs_.xhr({ uri: this.srcUrl, withCredentials: this.withCredentials }, function (t, i) {
                                if (e.request) {
                                    if (((e.request = null), t))
                                        return (
                                            (e.error = { status: i.status, message: "DASH playlist request error at URL: " + e.srcUrl, responseText: i.responseText, code: 2 }),
                                            "HAVE_NOTHING" === e.state && (e.started = !1),
                                            e.trigger("error")
                                        );
                                    (e.masterXml_ = i.responseText),
                                        (e.sidxMapping_ = (function (e, t, i, n) {
                                            var r = Se(e, { manifestUri: t, clientOffset: i }),
                                                s = Wa(r.playlists, n);
                                            return (
                                                Qs(r, function (e) {
                                                    if (e.playlists && e.playlists.length) {
                                                        var t = e.playlists;
                                                        s = qa(s, Wa(t, n));
                                                    }
                                                }),
                                                s
                                            );
                                        })(e.masterXml_, e.srcUrl, e.clientOffset_, e.sidxMapping_));
                                    var n = Va({ masterXml: e.masterXml_, srcUrl: e.srcUrl, clientOffset: e.clientOffset_, sidxMapping: e.sidxMapping_ }),
                                        r = $a(e.master, n),
                                        s = e.media().sidx;
                                    if (r)
                                        if (s) {
                                            var a = za(s);
                                            if (!e.sidxMapping_[a]) {
                                                var o = e.media();
                                                e.request = Ga(
                                                    e,
                                                    o.sidx,
                                                    o,
                                                    e.vhs_.xhr,
                                                    { handleManifestRedirects: e.handleManifestRedirects },
                                                    e.sidxRequestFinished_(o, n, e.state, function (t, i) {
                                                        if (!t || !i) throw new Error("failed to request sidx on minimumUpdatePeriod");
                                                        (e.sidxMapping_[a].sidx = i), e.updateMinimumUpdatePeriodTimeout_(), e.refreshMedia_(e.media().id);
                                                    })
                                                );
                                            }
                                        } else e.updateMainManifest_(r), e.media_ && (e.media_ = e.master.playlists[e.media_.id]);
                                    e.updateMinimumUpdatePeriodTimeout_();
                                }
                            });
                        }),
                        (i.refreshMedia_ = function (e) {
                            var t,
                                i,
                                n = this;
                            if (!e) throw new Error("refreshMedia_ must take a media id");
                            this.masterPlaylistLoader_
                                ? ((t = this.masterPlaylistLoader_.master),
                                  (i = Va({
                                      masterXml: this.masterPlaylistLoader_.masterXml_,
                                      srcUrl: this.masterPlaylistLoader_.srcUrl,
                                      clientOffset: this.masterPlaylistLoader_.clientOffset_,
                                      sidxMapping: this.masterPlaylistLoader_.sidxMapping_,
                                  })))
                                : ((t = this.master), (i = Va({ masterXml: this.masterXml_, srcUrl: this.srcUrl, clientOffset: this.clientOffset_, sidxMapping: this.sidxMapping_ })));
                            var s = $a(t, i);
                            s ? (this.masterPlaylistLoader_ ? (this.masterPlaylistLoader_.master = s) : (this.master = s), (this.media_ = s.playlists[e])) : ((this.media_ = t.playlists[e]), this.trigger("playlistunchanged")),
                                this.media().endList ||
                                    (this.mediaUpdateTimeout = r.a.setTimeout(function () {
                                        n.trigger("mediaupdatetimeout");
                                    }, ra(this.media(), !!s))),
                                this.trigger("loadedplaylist");
                        }),
                        t
                    );
                })(Ha),
                Xa = {
                    GOAL_BUFFER_LENGTH: 30,
                    MAX_GOAL_BUFFER_LENGTH: 60,
                    BACK_BUFFER_LENGTH: 30,
                    GOAL_BUFFER_LENGTH_RATE: 1,
                    INITIAL_BANDWIDTH: 4194304,
                    BANDWIDTH_VARIANCE: 1.2,
                    BUFFER_LOW_WATER_LINE: 0,
                    MAX_BUFFER_LOW_WATER_LINE: 30,
                    BUFFER_LOW_WATER_LINE_RATE: 1,
                },
                Ka = function (e) {
                    for (var t = new Uint8Array(new ArrayBuffer(e.length)), i = 0; i < e.length; i++) t[i] = e.charCodeAt(i);
                    return t.buffer;
                },
                Qa = [],
                Ja = function (e) {
                    var t = e.transmuxer,
                        i = e.bytes,
                        n = e.audioAppendStart,
                        r = e.gopsToAlignWith,
                        s = e.isPartial,
                        a = e.remux,
                        o = e.onData,
                        l = e.onTrackInfo,
                        u = e.onAudioTimingInfo,
                        c = e.onVideoTimingInfo,
                        d = e.onVideoSegmentTimingInfo,
                        h = e.onId3,
                        p = e.onCaptions,
                        f = e.onDone,
                        m = { isPartial: s, buffer: [] };
                    if (
                        ((t.onmessage = function (e) {
                            zs &&
                                ("data" === e.data.action &&
                                    (function (e, t, i) {
                                        var n = e.data.segment,
                                            r = n.type,
                                            s = n.initSegment,
                                            a = n.captions,
                                            o = n.captionStreams,
                                            l = n.metadata,
                                            u = n.videoFrameDtsTime,
                                            c = n.videoFramePtsTime;
                                        t.buffer.push({ captions: a, captionStreams: o, metadata: l });
                                        var d = e.data.segment.boxes || { data: e.data.segment.data },
                                            h = { type: r, data: new Uint8Array(d.data, d.data.byteOffset, d.data.byteLength), initSegment: new Uint8Array(s.data, s.byteOffset, s.byteLength) };
                                        void 0 !== u && (h.videoFrameDtsTime = u), void 0 !== c && (h.videoFramePtsTime = c), i(h);
                                    })(e, m, o),
                                "trackinfo" === e.data.action && l(e.data.trackInfo),
                                "gopInfo" === e.data.action &&
                                    (function (e, t) {
                                        t.gopInfo = e.data.gopInfo;
                                    })(e, m),
                                "audioTimingInfo" === e.data.action && u(e.data.audioTimingInfo),
                                "videoTimingInfo" === e.data.action && c(e.data.videoTimingInfo),
                                "videoSegmentTimingInfo" === e.data.action && d(e.data.videoSegmentTimingInfo),
                                "id3Frame" === e.data.action && h([e.data.id3Frame], e.data.id3Frame.dispatchType),
                                "caption" === e.data.action && p(e.data.caption),
                                "transmuxed" === e.data.type &&
                                    ((t.onmessage = null),
                                    (function (e) {
                                        var t = e.transmuxedData,
                                            i = e.callback;
                                        (t.buffer = []), i(t);
                                    })({ transmuxedData: m, callback: f }),
                                    Za()));
                        }),
                        n && t.postMessage({ action: "setAudioAppendStart", appendStart: n }),
                        Array.isArray(r) && t.postMessage({ action: "alignGopsWith", gopsToAlignWith: r }),
                        void 0 !== a && t.postMessage({ action: "setRemux", remux: a }),
                        i.byteLength)
                    ) {
                        var g = i instanceof ArrayBuffer ? i : i.buffer,
                            v = i instanceof ArrayBuffer ? 0 : i.byteOffset;
                        t.postMessage({ action: "push", data: g, byteOffset: v, byteLength: i.byteLength }, [g]);
                    }
                    t.postMessage({ action: s ? "partialFlush" : "flush" });
                },
                Za = function () {
                    (zs = null), Qa.length && ("function" == typeof (zs = Qa.shift()) ? zs() : Ja(zs));
                },
                eo = function (e, t) {
                    e.postMessage({ action: t }), Za();
                },
                to = function (e, t) {
                    if (!zs) return (zs = e), void eo(t, e);
                    Qa.push(eo.bind(null, t, e));
                },
                io = function (e) {
                    if (!zs) return (zs = e), void Ja(e);
                    Qa.push(e);
                },
                no = function (e) {
                    to("reset", e);
                },
                ro = function () {
                    (zs = null), (Qa.length = 0);
                },
                so = function (e) {
                    to("endTimeline", e);
                },
                ao = 2,
                oo = -101,
                lo = -102,
                uo = function (e) {
                    e.forEach(function (e) {
                        e.abort();
                    });
                },
                co = function (e, t) {
                    return t.timedout
                        ? { status: t.status, message: "HLS request timed-out at URL: " + t.uri, code: oo, xhr: t }
                        : t.aborted
                        ? { status: t.status, message: "HLS request aborted at URL: " + t.uri, code: lo, xhr: t }
                        : e
                        ? { status: t.status, message: "HLS request errored at URL: " + t.uri, code: ao, xhr: t }
                        : null;
                },
                ho = function (e) {
                    var t = e.segment,
                        i = e.bytes,
                        n = e.isPartial,
                        r = e.trackInfoFn,
                        s = e.timingInfoFn,
                        a = e.videoSegmentTimingInfoFn,
                        o = e.id3Fn,
                        l = e.captionsFn,
                        u = e.dataFn,
                        c = e.doneFn,
                        d = (t.map && t.map.tracks) || {},
                        h = Boolean(d.audio && d.video),
                        p = s.bind(null, t, "audio", "start"),
                        f = s.bind(null, t, "audio", "end"),
                        m = s.bind(null, t, "video", "start"),
                        g = s.bind(null, t, "video", "end");
                    if (!n && !t.lastReachedChar) {
                        var v = (function (e, t) {
                            var i = Ie.a.inspect(e, t * Pe.ONE_SECOND_IN_TS);
                            if (!i) return null;
                            var n = { hasVideo: (i.video && 2 === i.video.length) || !1, hasAudio: (i.audio && 2 === i.audio.length) || !1 };
                            return n.hasVideo && (n.videoStart = i.video[0].ptsTime), n.hasAudio && (n.audioStart = i.audio[0].ptsTime), n;
                        })(i, t.baseStartTime);
                        v && (r(t, { hasAudio: v.hasAudio, hasVideo: v.hasVideo, isMuxed: h }), (r = null), v.hasAudio && !h && p(v.audioStart), v.hasVideo && m(v.videoStart), (p = null), (m = null));
                    }
                    io({
                        bytes: i,
                        transmuxer: t.transmuxer,
                        audioAppendStart: t.audioAppendStart,
                        gopsToAlignWith: t.gopsToAlignWith,
                        isPartial: n,
                        remux: h,
                        onData: function (e) {
                            (e.type = "combined" === e.type ? "video" : e.type), u(t, e);
                        },
                        onTrackInfo: function (e) {
                            r && (h && (e.isMuxed = !0), r(t, e));
                        },
                        onAudioTimingInfo: function (e) {
                            p && void 0 !== e.start && (p(e.start), (p = null)), f && void 0 !== e.end && f(e.end);
                        },
                        onVideoTimingInfo: function (e) {
                            m && void 0 !== e.start && (m(e.start), (m = null)), g && void 0 !== e.end && g(e.end);
                        },
                        onVideoSegmentTimingInfo: function (e) {
                            a(e);
                        },
                        onId3: function (e, i) {
                            o(t, e, i);
                        },
                        onCaptions: function (e) {
                            l(t, [e]);
                        },
                        onDone: function (e) {
                            c && !n && ((e.type = "combined" === e.type ? "video" : e.type), c(null, t, e));
                        },
                    });
                },
                po = function (e) {
                    var t = e.segment,
                        i = e.bytes,
                        n = e.isPartial,
                        r = e.trackInfoFn,
                        s = e.timingInfoFn,
                        a = e.videoSegmentTimingInfoFn,
                        o = e.id3Fn,
                        l = e.captionsFn,
                        u = e.dataFn,
                        c = e.doneFn,
                        d = new Uint8Array(i);
                    if (Object(Ee.isLikelyFmp4MediaSegment)(d)) {
                        t.isFmp4 = !0;
                        var h = t.map.tracks,
                            p = { isFmp4: !0, hasVideo: !!h.video, hasAudio: !!h.audio };
                        h.audio && h.audio.codec && "enca" !== h.audio.codec && (p.audioCodec = h.audio.codec),
                            h.video && h.video.codec && "encv" !== h.video.codec && (p.videoCodec = h.video.codec),
                            h.video && h.audio && (p.isMuxed = !0),
                            r(t, p);
                        var f = Le.a.startTime(t.map.timescales, d);
                        p.hasAudio && !p.isMuxed && s(t, "audio", "start", f), p.hasVideo && s(t, "video", "start", f);
                        var m = function (e) {
                            u(t, { data: i, type: p.hasAudio && !p.isMuxed ? "audio" : "video" }), e && e.length && l(t, e), c(null, t, {});
                        };
                        if (!h.video || !i.byteLength || !t.transmuxer) return void m();
                        var g = i instanceof ArrayBuffer ? i : i.buffer,
                            v = i instanceof ArrayBuffer ? 0 : i.byteOffset;
                        return (
                            t.transmuxer.addEventListener("message", function e(n) {
                                if ("mp4Captions" === n.data.action) {
                                    t.transmuxer.removeEventListener("message", e);
                                    var r = n.data.data;
                                    (t.bytes = i = new Uint8Array(r, r.byteOffset || 0, r.byteLength)), m(n.data.captions);
                                }
                            }),
                            void t.transmuxer.postMessage({ action: "pushMp4Captions", timescales: t.map.timescales, trackIds: [h.video.id], data: g, byteOffset: v, byteLength: i.byteLength }, [g])
                        );
                    }
                    if (t.transmuxer) {
                        if ((void 0 === t.container && (t.container = Object(Ee.detectContainerForBytes)(d)), "ts" !== t.container && "aac" !== t.container)) return r(t, { hasAudio: !1, hasVideo: !1 }), void c(null, t, {});
                        ho({ segment: t, bytes: i, isPartial: n, trackInfoFn: r, timingInfoFn: s, videoSegmentTimingInfoFn: a, id3Fn: o, captionsFn: l, dataFn: u, doneFn: c });
                    } else c(null, t, {});
                },
                fo = function (e) {
                    var t = e.activeXhrs,
                        i = e.decryptionWorker,
                        n = e.trackInfoFn,
                        r = e.timingInfoFn,
                        s = e.videoSegmentTimingInfoFn,
                        a = e.id3Fn,
                        o = e.captionsFn,
                        l = e.dataFn,
                        u = e.doneFn,
                        c = 0,
                        d = !1;
                    return function (e, h) {
                        if (!d) {
                            if (e) return (d = !0), uo(t), u(e, h);
                            if ((c += 1) === t.length) {
                                if (((h.endOfAllRequests = Date.now()), h.encryptedBytes))
                                    return (function (e) {
                                        var t,
                                            i = e.decryptionWorker,
                                            n = e.segment,
                                            r = e.trackInfoFn,
                                            s = e.timingInfoFn,
                                            a = e.videoSegmentTimingInfoFn,
                                            o = e.id3Fn,
                                            l = e.captionsFn,
                                            u = e.dataFn,
                                            c = e.doneFn;
                                        i.addEventListener("message", function e(t) {
                                            if (t.data.source === n.requestId) {
                                                i.removeEventListener("message", e);
                                                var d = t.data.decrypted;
                                                (n.bytes = new Uint8Array(d.bytes, d.byteOffset, d.byteLength)),
                                                    po({ segment: n, bytes: n.bytes, isPartial: !1, trackInfoFn: r, timingInfoFn: s, videoSegmentTimingInfoFn: a, id3Fn: o, captionsFn: l, dataFn: u, doneFn: c });
                                            }
                                        }),
                                            (t = n.key.bytes.slice ? n.key.bytes.slice() : new Uint32Array(Array.prototype.slice.call(n.key.bytes))),
                                            i.postMessage(Da({ source: n.requestId, encrypted: n.encryptedBytes, key: t, iv: n.key.iv }), [n.encryptedBytes.buffer, t.buffer]);
                                    })({ decryptionWorker: i, segment: h, trackInfoFn: n, timingInfoFn: r, videoSegmentTimingInfoFn: s, id3Fn: a, captionsFn: o, dataFn: l, doneFn: u });
                                po({ segment: h, bytes: h.bytes, isPartial: !1, trackInfoFn: n, timingInfoFn: r, videoSegmentTimingInfoFn: s, id3Fn: a, captionsFn: o, dataFn: l, doneFn: u });
                            }
                        }
                    };
                },
                mo = function (e) {
                    var t = e.segment,
                        i = e.progressFn,
                        n = e.trackInfoFn,
                        r = e.timingInfoFn,
                        s = e.videoSegmentTimingInfoFn,
                        a = e.id3Fn,
                        o = e.captionsFn,
                        l = e.dataFn,
                        u = e.handlePartialData;
                    return function (e) {
                        var c = e.target;
                        if (!c.aborted) {
                            if (u && !t.key && c.responseText && c.responseText.length >= 8) {
                                var d = Ka(c.responseText.substring(t.lastReachedChar || 0));
                                (!t.lastReachedChar && Object(Ee.isLikelyFmp4MediaSegment)(new Uint8Array(d))) ||
                                    ((t.lastReachedChar = c.responseText.length), po({ segment: t, bytes: d, isPartial: !0, trackInfoFn: n, timingInfoFn: r, videoSegmentTimingInfoFn: s, id3Fn: a, captionsFn: o, dataFn: l }));
                            }
                            return (
                                (t.stats = qs.mergeOptions(
                                    t.stats,
                                    (function (e) {
                                        var t = e.target,
                                            i = { bandwidth: 1 / 0, bytesReceived: 0, roundTripTime: Date.now() - t.requestTime || 0 };
                                        return (i.bytesReceived = e.loaded), (i.bandwidth = Math.floor((i.bytesReceived / i.roundTripTime) * 8 * 1e3)), i;
                                    })(e)
                                )),
                                !t.stats.firstBytesReceivedAt && t.stats.bytesReceived && (t.stats.firstBytesReceivedAt = Date.now()),
                                i(e, t)
                            );
                        }
                    };
                },
                go = function (e) {
                    var t = e.xhr,
                        i = e.xhrOptions,
                        n = e.decryptionWorker,
                        r = e.segment,
                        s = e.abortFn,
                        a = e.progressFn,
                        o = e.trackInfoFn,
                        l = e.timingInfoFn,
                        u = e.videoSegmentTimingInfoFn,
                        c = e.id3Fn,
                        d = e.captionsFn,
                        h = e.dataFn,
                        p = e.doneFn,
                        f = e.handlePartialData,
                        m = [],
                        g = fo({ activeXhrs: m, decryptionWorker: n, trackInfoFn: o, timingInfoFn: l, videoSegmentTimingInfoFn: u, id3Fn: c, captionsFn: d, dataFn: h, doneFn: p });
                    if (r.key && !r.key.bytes) {
                        var v = t(
                            qs.mergeOptions(i, { uri: r.key.resolvedUri, responseType: "arraybuffer" }),
                            (function (e, t) {
                                return function (i, n) {
                                    var r = n.response,
                                        s = co(i, n);
                                    if (s) return t(s, e);
                                    if (16 !== r.byteLength) return t({ status: n.status, message: "Invalid HLS key at URL: " + n.uri, code: ao, xhr: n }, e);
                                    var a = new DataView(r);
                                    return (e.key.bytes = new Uint32Array([a.getUint32(0), a.getUint32(4), a.getUint32(8), a.getUint32(12)])), t(null, e);
                                };
                            })(r, g)
                        );
                        m.push(v);
                    }
                    if (r.map && !r.map.bytes) {
                        var y = t(
                            qs.mergeOptions(i, { uri: r.map.resolvedUri, responseType: "arraybuffer", headers: Ia(r.map) }),
                            (function (e) {
                                var t = e.segment,
                                    i = e.finishProcessingFn;
                                return function (e, n) {
                                    var r = n.response,
                                        s = co(e, n);
                                    if (s) return i(s, t);
                                    if (0 === r.byteLength) return i({ status: n.status, message: "Empty HLS segment content at URL: " + n.uri, code: ao, xhr: n }, t);
                                    t.map.bytes = new Uint8Array(n.response);
                                    var a = Object(Ee.detectContainerForBytes)(t.map.bytes);
                                    return "mp4" !== a
                                        ? i({ status: n.status, message: "Found unsupported " + (a || "unknown") + " container for initialization segment at URL: " + n.uri, code: ao, internal: !0, xhr: n }, t)
                                        : (Le.a.tracks(t.map.bytes).forEach(function (e) {
                                              (t.map.tracks = t.map.tracks || {}),
                                                  t.map.tracks[e.type] || ((t.map.tracks[e.type] = e), e.id && e.timescale && ((t.map.timescales = t.map.timescales || {}), (t.map.timescales[e.id] = e.timescale)));
                                          }),
                                          i(null, t));
                                };
                            })({ segment: r, finishProcessingFn: g })
                        );
                        m.push(y);
                    }
                    var _ = qs.mergeOptions(i, { uri: r.resolvedUri, responseType: "arraybuffer", headers: Ia(r) });
                    f &&
                        ((_.responseType = "text"),
                        (_.beforeSend = function (e) {
                            e.overrideMimeType("text/plain; charset=x-user-defined");
                        }));
                    var b = t(
                        _,
                        (function (e) {
                            var t = e.segment,
                                i = e.finishProcessingFn,
                                n = e.responseType;
                            return function (e, r) {
                                var s = r.response,
                                    a = co(e, r);
                                if (a) return i(a, t);
                                var o = "arraybuffer" !== n && r.responseText ? Ka(r.responseText.substring(t.lastReachedChar || 0)) : r.response;
                                return 0 === s.byteLength
                                    ? i({ status: r.status, message: "Empty HLS segment content at URL: " + r.uri, code: ao, xhr: r }, t)
                                    : ((t.stats = (function (e) {
                                          return { bandwidth: e.bandwidth, bytesReceived: e.bytesReceived || 0, roundTripTime: e.roundTripTime || 0 };
                                      })(r)),
                                      t.key ? (t.encryptedBytes = new Uint8Array(o)) : (t.bytes = new Uint8Array(o)),
                                      i(null, t));
                            };
                        })({ segment: r, finishProcessingFn: g, responseType: _.responseType })
                    );
                    b.addEventListener("progress", mo({ segment: r, progressFn: a, trackInfoFn: o, timingInfoFn: l, videoSegmentTimingInfoFn: u, id3Fn: c, captionsFn: d, dataFn: h, handlePartialData: f })), m.push(b);
                    var T = {};
                    return (
                        m.forEach(function (e) {
                            e.addEventListener(
                                "loadend",
                                (function (e) {
                                    var t = e.loadendState,
                                        i = e.abortFn;
                                    return function (e) {
                                        e.target.aborted && i && !t.calledAbortFn && (i(), (t.calledAbortFn = !0));
                                    };
                                })({ loadendState: T, abortFn: s })
                            );
                        }),
                        function () {
                            return uo(m);
                        }
                    );
                },
                vo = "undefined" != typeof window ? window : {},
                yo = "undefined" == typeof Symbol ? "__target" : Symbol(),
                _o = vo.BlobBuilder || vo.WebKitBlobBuilder || vo.MozBlobBuilder || vo.MSBlobBuilder,
                bo = vo.URL || vo.webkitURL || (bo && bo.msURL),
                To = vo.Worker;
            function So(e, t) {
                return function (i) {
                    var n = this;
                    if (!t) return new To(e);
                    if (To && !i) {
                        var r = Eo(
                            t
                                .toString()
                                .replace(/^function.+?{/, "")
                                .slice(0, -1)
                        );
                        return (
                            (this[yo] = new To(r)),
                            (function (e, t) {
                                if (!e || !t) return;
                                var i = e.terminate;
                                (e.objURL = t),
                                    (e.terminate = function () {
                                        e.objURL && bo.revokeObjectURL(e.objURL), i.call(e);
                                    });
                            })(this[yo], r),
                            this[yo]
                        );
                    }
                    var s = {
                        postMessage: function (e) {
                            n.onmessage &&
                                setTimeout(function () {
                                    n.onmessage({ data: e, target: s });
                                });
                        },
                    };
                    t.call(s),
                        (this.postMessage = function (e) {
                            setTimeout(function () {
                                s.onmessage({ data: e, target: n });
                            });
                        }),
                        (this.isThisThread = !0);
                };
            }
            if (To) {
                var wo,
                    ko = Eo("self.onmessage = function () {}"),
                    Co = new Uint8Array(1);
                try {
                    (wo = new To(ko)).postMessage(Co, [Co.buffer]);
                } catch (e) {
                    To = null;
                } finally {
                    bo.revokeObjectURL(ko), wo && wo.terminate();
                }
            }
            function Eo(e) {
                try {
                    return bo.createObjectURL(new Blob([e], { type: "application/javascript" }));
                } catch (i) {
                    var t = new _o();
                    return t.append(e), bo.createObjectURL(t.getBlob(type));
                }
            }
            var xo = new So("./transmuxer-worker.worker.js", function () {
                    var e = this;
                    !(function () {
                        var t = function () {
                            this.init = function () {
                                var e = {};
                                (this.on = function (t, i) {
                                    e[t] || (e[t] = []), (e[t] = e[t].concat(i));
                                }),
                                    (this.off = function (t, i) {
                                        var n;
                                        return !!e[t] && ((n = e[t].indexOf(i)), (e[t] = e[t].slice()), e[t].splice(n, 1), n > -1);
                                    }),
                                    (this.trigger = function (t) {
                                        var i, n, r, s;
                                        if ((i = e[t]))
                                            if (2 === arguments.length) for (r = i.length, n = 0; n < r; ++n) i[n].call(this, arguments[1]);
                                            else {
                                                for (s = [], n = arguments.length, n = 1; n < arguments.length; ++n) s.push(arguments[n]);
                                                for (r = i.length, n = 0; n < r; ++n) i[n].apply(this, s);
                                            }
                                    }),
                                    (this.dispose = function () {
                                        e = {};
                                    });
                            };
                        };
                        (t.prototype.pipe = function (e) {
                            return (
                                this.on("data", function (t) {
                                    e.push(t);
                                }),
                                this.on("done", function (t) {
                                    e.flush(t);
                                }),
                                this.on("partialdone", function (t) {
                                    e.partialFlush(t);
                                }),
                                this.on("endedtimeline", function (t) {
                                    e.endTimeline(t);
                                }),
                                this.on("reset", function (t) {
                                    e.reset(t);
                                }),
                                e
                            );
                        }),
                            (t.prototype.push = function (e) {
                                this.trigger("data", e);
                            }),
                            (t.prototype.flush = function (e) {
                                this.trigger("done", e);
                            }),
                            (t.prototype.partialFlush = function (e) {
                                this.trigger("partialdone", e);
                            }),
                            (t.prototype.endTimeline = function (e) {
                                this.trigger("endedtimeline", e);
                            }),
                            (t.prototype.reset = function (e) {
                                this.trigger("reset", e);
                            });
                        var i,
                            n,
                            r,
                            s,
                            a,
                            o,
                            l,
                            u,
                            c,
                            d,
                            h,
                            p,
                            f,
                            m,
                            g,
                            v,
                            y,
                            _,
                            b,
                            T,
                            S,
                            w,
                            k,
                            C,
                            E,
                            x,
                            A,
                            I,
                            P,
                            O,
                            L,
                            D,
                            R,
                            M,
                            N,
                            U,
                            j,
                            B,
                            F,
                            H,
                            q = t,
                            V = Math.pow(2, 32) - 1;
                        !(function () {
                            var e;
                            if (
                                ((w = {
                                    avc1: [],
                                    avcC: [],
                                    btrt: [],
                                    dinf: [],
                                    dref: [],
                                    esds: [],
                                    ftyp: [],
                                    hdlr: [],
                                    mdat: [],
                                    mdhd: [],
                                    mdia: [],
                                    mfhd: [],
                                    minf: [],
                                    moof: [],
                                    moov: [],
                                    mp4a: [],
                                    mvex: [],
                                    mvhd: [],
                                    pasp: [],
                                    sdtp: [],
                                    smhd: [],
                                    stbl: [],
                                    stco: [],
                                    stsc: [],
                                    stsd: [],
                                    stsz: [],
                                    stts: [],
                                    styp: [],
                                    tfdt: [],
                                    tfhd: [],
                                    traf: [],
                                    trak: [],
                                    trun: [],
                                    trex: [],
                                    tkhd: [],
                                    vmhd: [],
                                }),
                                "undefined" != typeof Uint8Array)
                            ) {
                                for (e in w) w.hasOwnProperty(e) && (w[e] = [e.charCodeAt(0), e.charCodeAt(1), e.charCodeAt(2), e.charCodeAt(3)]);
                                (k = new Uint8Array(["i".charCodeAt(0), "s".charCodeAt(0), "o".charCodeAt(0), "m".charCodeAt(0)])),
                                    (E = new Uint8Array(["a".charCodeAt(0), "v".charCodeAt(0), "c".charCodeAt(0), "1".charCodeAt(0)])),
                                    (C = new Uint8Array([0, 0, 0, 1])),
                                    (x = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 118, 105, 100, 101, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 86, 105, 100, 101, 111, 72, 97, 110, 100, 108, 101, 114, 0])),
                                    (A = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 115, 111, 117, 110, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 83, 111, 117, 110, 100, 72, 97, 110, 100, 108, 101, 114, 0])),
                                    (I = { video: x, audio: A }),
                                    (L = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 12, 117, 114, 108, 32, 0, 0, 0, 1])),
                                    (O = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                                    (D = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0])),
                                    (R = D),
                                    (M = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0])),
                                    (N = D),
                                    (P = new Uint8Array([0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0]));
                            }
                        })(),
                            (i = function (e) {
                                var t,
                                    i,
                                    n = [],
                                    r = 0;
                                for (t = 1; t < arguments.length; t++) n.push(arguments[t]);
                                for (t = n.length; t--; ) r += n[t].byteLength;
                                for (i = new Uint8Array(r + 8), new DataView(i.buffer, i.byteOffset, i.byteLength).setUint32(0, i.byteLength), i.set(e, 4), t = 0, r = 8; t < n.length; t++) i.set(n[t], r), (r += n[t].byteLength);
                                return i;
                            }),
                            (n = function () {
                                return i(w.dinf, i(w.dref, L));
                            }),
                            (r = function (e) {
                                return i(
                                    w.esds,
                                    new Uint8Array([
                                        0,
                                        0,
                                        0,
                                        0,
                                        3,
                                        25,
                                        0,
                                        0,
                                        0,
                                        4,
                                        17,
                                        64,
                                        21,
                                        0,
                                        6,
                                        0,
                                        0,
                                        0,
                                        218,
                                        192,
                                        0,
                                        0,
                                        218,
                                        192,
                                        5,
                                        2,
                                        (e.audioobjecttype << 3) | (e.samplingfrequencyindex >>> 1),
                                        (e.samplingfrequencyindex << 7) | (e.channelcount << 3),
                                        6,
                                        1,
                                        2,
                                    ])
                                );
                            }),
                            (g = function (e) {
                                return i(w.hdlr, I[e]);
                            }),
                            (m = function (e) {
                                var t = new Uint8Array([0, 0, 0, 0, 0, 0, 0, 2, 0, 0, 0, 3, 0, 1, 95, 144, (e.duration >>> 24) & 255, (e.duration >>> 16) & 255, (e.duration >>> 8) & 255, 255 & e.duration, 85, 196, 0, 0]);
                                return e.samplerate && ((t[12] = (e.samplerate >>> 24) & 255), (t[13] = (e.samplerate >>> 16) & 255), (t[14] = (e.samplerate >>> 8) & 255), (t[15] = 255 & e.samplerate)), i(w.mdhd, t);
                            }),
                            (f = function (e) {
                                return i(w.mdia, m(e), g(e.type), o(e));
                            }),
                            (a = function (e) {
                                return i(w.mfhd, new Uint8Array([0, 0, 0, 0, (4278190080 & e) >> 24, (16711680 & e) >> 16, (65280 & e) >> 8, 255 & e]));
                            }),
                            (o = function (e) {
                                return i(w.minf, "video" === e.type ? i(w.vmhd, P) : i(w.smhd, O), n(), y(e));
                            }),
                            (l = function (e, t) {
                                for (var n = [], r = t.length; r--; ) n[r] = b(t[r]);
                                return i.apply(null, [w.moof, a(e)].concat(n));
                            }),
                            (u = function (e) {
                                for (var t = e.length, n = []; t--; ) n[t] = h(e[t]);
                                return i.apply(null, [w.moov, d(4294967295)].concat(n).concat(c(e)));
                            }),
                            (c = function (e) {
                                for (var t = e.length, n = []; t--; ) n[t] = T(e[t]);
                                return i.apply(null, [w.mvex].concat(n));
                            }),
                            (d = function (e) {
                                var t = new Uint8Array([
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    2,
                                    0,
                                    1,
                                    95,
                                    144,
                                    (4278190080 & e) >> 24,
                                    (16711680 & e) >> 16,
                                    (65280 & e) >> 8,
                                    255 & e,
                                    0,
                                    1,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    64,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    255,
                                    255,
                                    255,
                                    255,
                                ]);
                                return i(w.mvhd, t);
                            }),
                            (v = function (e) {
                                var t,
                                    n,
                                    r = e.samples || [],
                                    s = new Uint8Array(4 + r.length);
                                for (n = 0; n < r.length; n++) (t = r[n].flags), (s[n + 4] = (t.dependsOn << 4) | (t.isDependedOn << 2) | t.hasRedundancy);
                                return i(w.sdtp, s);
                            }),
                            (y = function (e) {
                                return i(w.stbl, _(e), i(w.stts, N), i(w.stsc, R), i(w.stsz, M), i(w.stco, D));
                            }),
                            (_ = function (e) {
                                return i(w.stsd, new Uint8Array([0, 0, 0, 0, 0, 0, 0, 1]), "video" === e.type ? U(e) : j(e));
                            }),
                            (U = function (e) {
                                var t,
                                    n,
                                    r = e.sps || [],
                                    s = e.pps || [],
                                    a = [],
                                    o = [];
                                for (t = 0; t < r.length; t++) a.push((65280 & r[t].byteLength) >>> 8), a.push(255 & r[t].byteLength), (a = a.concat(Array.prototype.slice.call(r[t])));
                                for (t = 0; t < s.length; t++) o.push((65280 & s[t].byteLength) >>> 8), o.push(255 & s[t].byteLength), (o = o.concat(Array.prototype.slice.call(s[t])));
                                if (
                                    ((n = [
                                        w.avc1,
                                        new Uint8Array([
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            1,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            (65280 & e.width) >> 8,
                                            255 & e.width,
                                            (65280 & e.height) >> 8,
                                            255 & e.height,
                                            0,
                                            72,
                                            0,
                                            0,
                                            0,
                                            72,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            1,
                                            19,
                                            118,
                                            105,
                                            100,
                                            101,
                                            111,
                                            106,
                                            115,
                                            45,
                                            99,
                                            111,
                                            110,
                                            116,
                                            114,
                                            105,
                                            98,
                                            45,
                                            104,
                                            108,
                                            115,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            0,
                                            24,
                                            17,
                                            17,
                                        ]),
                                        i(w.avcC, new Uint8Array([1, e.profileIdc, e.profileCompatibility, e.levelIdc, 255].concat([r.length], a, [s.length], o))),
                                        i(w.btrt, new Uint8Array([0, 28, 156, 128, 0, 45, 198, 192, 0, 45, 198, 192])),
                                    ]),
                                    e.sarRatio)
                                ) {
                                    var l = e.sarRatio[0],
                                        u = e.sarRatio[1];
                                    n.push(i(w.pasp, new Uint8Array([(4278190080 & l) >> 24, (16711680 & l) >> 16, (65280 & l) >> 8, 255 & l, (4278190080 & u) >> 24, (16711680 & u) >> 16, (65280 & u) >> 8, 255 & u])));
                                }
                                return i.apply(null, n);
                            }),
                            (j = function (e) {
                                return i(
                                    w.mp4a,
                                    new Uint8Array([
                                        0,
                                        0,
                                        0,
                                        0,
                                        0,
                                        0,
                                        0,
                                        1,
                                        0,
                                        0,
                                        0,
                                        0,
                                        0,
                                        0,
                                        0,
                                        0,
                                        (65280 & e.channelcount) >> 8,
                                        255 & e.channelcount,
                                        (65280 & e.samplesize) >> 8,
                                        255 & e.samplesize,
                                        0,
                                        0,
                                        0,
                                        0,
                                        (65280 & e.samplerate) >> 8,
                                        255 & e.samplerate,
                                        0,
                                        0,
                                    ]),
                                    r(e)
                                );
                            }),
                            (p = function (e) {
                                var t = new Uint8Array([
                                    0,
                                    0,
                                    0,
                                    7,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    (4278190080 & e.id) >> 24,
                                    (16711680 & e.id) >> 16,
                                    (65280 & e.id) >> 8,
                                    255 & e.id,
                                    0,
                                    0,
                                    0,
                                    0,
                                    (4278190080 & e.duration) >> 24,
                                    (16711680 & e.duration) >> 16,
                                    (65280 & e.duration) >> 8,
                                    255 & e.duration,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    1,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    0,
                                    64,
                                    0,
                                    0,
                                    0,
                                    (65280 & e.width) >> 8,
                                    255 & e.width,
                                    0,
                                    0,
                                    (65280 & e.height) >> 8,
                                    255 & e.height,
                                    0,
                                    0,
                                ]);
                                return i(w.tkhd, t);
                            }),
                            (b = function (e) {
                                var t, n, r, s, a, o;
                                return (
                                    (t = i(w.tfhd, new Uint8Array([0, 0, 0, 58, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]))),
                                    (a = Math.floor(e.baseMediaDecodeTime / (V + 1))),
                                    (o = Math.floor(e.baseMediaDecodeTime % (V + 1))),
                                    (n = i(w.tfdt, new Uint8Array([1, 0, 0, 0, (a >>> 24) & 255, (a >>> 16) & 255, (a >>> 8) & 255, 255 & a, (o >>> 24) & 255, (o >>> 16) & 255, (o >>> 8) & 255, 255 & o]))),
                                    92,
                                    "audio" === e.type ? ((r = S(e, 92)), i(w.traf, t, n, r)) : ((s = v(e)), (r = S(e, s.length + 92)), i(w.traf, t, n, r, s))
                                );
                            }),
                            (h = function (e) {
                                return (e.duration = e.duration || 4294967295), i(w.trak, p(e), f(e));
                            }),
                            (T = function (e) {
                                var t = new Uint8Array([0, 0, 0, 0, (4278190080 & e.id) >> 24, (16711680 & e.id) >> 16, (65280 & e.id) >> 8, 255 & e.id, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 1]);
                                return "video" !== e.type && (t[t.length - 1] = 0), i(w.trex, t);
                            }),
                            (H = function (e, t) {
                                var i = 0,
                                    n = 0,
                                    r = 0,
                                    s = 0;
                                return (
                                    e.length && (void 0 !== e[0].duration && (i = 1), void 0 !== e[0].size && (n = 2), void 0 !== e[0].flags && (r = 4), void 0 !== e[0].compositionTimeOffset && (s = 8)),
                                    [0, 0, i | n | r | s, 1, (4278190080 & e.length) >>> 24, (16711680 & e.length) >>> 16, (65280 & e.length) >>> 8, 255 & e.length, (4278190080 & t) >>> 24, (16711680 & t) >>> 16, (65280 & t) >>> 8, 255 & t]
                                );
                            }),
                            (F = function (e, t) {
                                var n, r, s, a, o, l;
                                for (t += 20 + 16 * (a = e.samples || []).length, s = H(a, t), (r = new Uint8Array(s.length + 16 * a.length)).set(s), n = s.length, l = 0; l < a.length; l++)
                                    (o = a[l]),
                                        (r[n++] = (4278190080 & o.duration) >>> 24),
                                        (r[n++] = (16711680 & o.duration) >>> 16),
                                        (r[n++] = (65280 & o.duration) >>> 8),
                                        (r[n++] = 255 & o.duration),
                                        (r[n++] = (4278190080 & o.size) >>> 24),
                                        (r[n++] = (16711680 & o.size) >>> 16),
                                        (r[n++] = (65280 & o.size) >>> 8),
                                        (r[n++] = 255 & o.size),
                                        (r[n++] = (o.flags.isLeading << 2) | o.flags.dependsOn),
                                        (r[n++] = (o.flags.isDependedOn << 6) | (o.flags.hasRedundancy << 4) | (o.flags.paddingValue << 1) | o.flags.isNonSyncSample),
                                        (r[n++] = 61440 & o.flags.degradationPriority),
                                        (r[n++] = 15 & o.flags.degradationPriority),
                                        (r[n++] = (4278190080 & o.compositionTimeOffset) >>> 24),
                                        (r[n++] = (16711680 & o.compositionTimeOffset) >>> 16),
                                        (r[n++] = (65280 & o.compositionTimeOffset) >>> 8),
                                        (r[n++] = 255 & o.compositionTimeOffset);
                                return i(w.trun, r);
                            }),
                            (B = function (e, t) {
                                var n, r, s, a, o, l;
                                for (t += 20 + 8 * (a = e.samples || []).length, s = H(a, t), (n = new Uint8Array(s.length + 8 * a.length)).set(s), r = s.length, l = 0; l < a.length; l++)
                                    (o = a[l]),
                                        (n[r++] = (4278190080 & o.duration) >>> 24),
                                        (n[r++] = (16711680 & o.duration) >>> 16),
                                        (n[r++] = (65280 & o.duration) >>> 8),
                                        (n[r++] = 255 & o.duration),
                                        (n[r++] = (4278190080 & o.size) >>> 24),
                                        (n[r++] = (16711680 & o.size) >>> 16),
                                        (n[r++] = (65280 & o.size) >>> 8),
                                        (n[r++] = 255 & o.size);
                                return i(w.trun, n);
                            }),
                            (S = function (e, t) {
                                return "audio" === e.type ? B(e, t) : F(e, t);
                            });
                        s = function () {
                            return i(w.ftyp, k, C, k, E);
                        };
                        var $,
                            z,
                            W,
                            G,
                            Y,
                            X,
                            K,
                            Q,
                            J = function (e) {
                                return i(w.mdat, e);
                            },
                            Z = l,
                            ee = function (e) {
                                var t,
                                    i = s(),
                                    n = u(e);
                                return (t = new Uint8Array(i.byteLength + n.byteLength)).set(i), t.set(n, i.byteLength), t;
                            },
                            te = function (e, t) {
                                var i = { size: 0, flags: { isLeading: 0, dependsOn: 1, isDependedOn: 0, hasRedundancy: 0, degradationPriority: 0, isNonSyncSample: 1 } };
                                return (
                                    (i.dataOffset = t),
                                    (i.compositionTimeOffset = e.pts - e.dts),
                                    (i.duration = e.duration),
                                    (i.size = 4 * e.length),
                                    (i.size += e.byteLength),
                                    e.keyFrame && ((i.flags.dependsOn = 2), (i.flags.isNonSyncSample = 0)),
                                    i
                                );
                            },
                            ie = function (e) {
                                var t,
                                    i,
                                    n = [],
                                    r = [];
                                for (r.byteLength = 0, r.nalCount = 0, r.duration = 0, n.byteLength = 0, t = 0; t < e.length; t++)
                                    "access_unit_delimiter_rbsp" === (i = e[t]).nalUnitType
                                        ? (n.length && ((n.duration = i.dts - n.dts), (r.byteLength += n.byteLength), (r.nalCount += n.length), (r.duration += n.duration), r.push(n)),
                                          ((n = [i]).byteLength = i.data.byteLength),
                                          (n.pts = i.pts),
                                          (n.dts = i.dts))
                                        : ("slice_layer_without_partitioning_rbsp_idr" === i.nalUnitType && (n.keyFrame = !0), (n.duration = i.dts - n.dts), (n.byteLength += i.data.byteLength), n.push(i));
                                return r.length && (!n.duration || n.duration <= 0) && (n.duration = r[r.length - 1].duration), (r.byteLength += n.byteLength), (r.nalCount += n.length), (r.duration += n.duration), r.push(n), r;
                            },
                            ne = function (e) {
                                var t,
                                    i,
                                    n = [],
                                    r = [];
                                for (n.byteLength = 0, n.nalCount = 0, n.duration = 0, n.pts = e[0].pts, n.dts = e[0].dts, r.byteLength = 0, r.nalCount = 0, r.duration = 0, r.pts = e[0].pts, r.dts = e[0].dts, t = 0; t < e.length; t++)
                                    (i = e[t]).keyFrame
                                        ? (n.length && (r.push(n), (r.byteLength += n.byteLength), (r.nalCount += n.nalCount), (r.duration += n.duration)),
                                          ((n = [i]).nalCount = i.length),
                                          (n.byteLength = i.byteLength),
                                          (n.pts = i.pts),
                                          (n.dts = i.dts),
                                          (n.duration = i.duration))
                                        : ((n.duration += i.duration), (n.nalCount += i.length), (n.byteLength += i.byteLength), n.push(i));
                                return r.length && n.duration <= 0 && (n.duration = r[r.length - 1].duration), (r.byteLength += n.byteLength), (r.nalCount += n.nalCount), (r.duration += n.duration), r.push(n), r;
                            },
                            re = function (e) {
                                var t;
                                return !e[0][0].keyFrame && e.length > 1 && ((t = e.shift()), (e.byteLength -= t.byteLength), (e.nalCount -= t.nalCount), (e[0][0].dts = t.dts), (e[0][0].pts = t.pts), (e[0][0].duration += t.duration)), e;
                            },
                            se = function (e, t) {
                                var i,
                                    n,
                                    r,
                                    s,
                                    a,
                                    o = t || 0,
                                    l = [];
                                for (i = 0; i < e.length; i++) for (s = e[i], n = 0; n < s.length; n++) (a = s[n]), (o += (r = te(a, o)).size), l.push(r);
                                return l;
                            },
                            ae = function (e) {
                                var t,
                                    i,
                                    n,
                                    r,
                                    s,
                                    a,
                                    o = 0,
                                    l = e.byteLength,
                                    u = e.nalCount,
                                    c = new Uint8Array(l + 4 * u),
                                    d = new DataView(c.buffer);
                                for (t = 0; t < e.length; t++)
                                    for (r = e[t], i = 0; i < r.length; i++) for (s = r[i], n = 0; n < s.length; n++) (a = s[n]), d.setUint32(o, a.data.byteLength), (o += 4), c.set(a.data, o), (o += a.data.byteLength);
                                return c;
                            },
                            oe = function (e, t) {
                                var i,
                                    n = [];
                                return (i = te(e, t || 0)), n.push(i), n;
                            },
                            le = function (e) {
                                var t,
                                    i,
                                    n = 0,
                                    r = e.byteLength,
                                    s = e.length,
                                    a = new Uint8Array(r + 4 * s),
                                    o = new DataView(a.buffer);
                                for (t = 0; t < e.length; t++) (i = e[t]), o.setUint32(n, i.data.byteLength), (n += 4), a.set(i.data, n), (n += i.data.byteLength);
                                return a;
                            },
                            ue = [33, 16, 5, 32, 164, 27],
                            ce = [33, 65, 108, 84, 1, 2, 4, 8, 168, 2, 4, 8, 17, 191, 252],
                            de = function (e) {
                                for (var t = []; e--; ) t.push(0);
                                return t;
                            },
                            he = function () {
                                if (!$) {
                                    var e = {
                                        96e3: [ue, [227, 64], de(154), [56]],
                                        88200: [ue, [231], de(170), [56]],
                                        64e3: [ue, [248, 192], de(240), [56]],
                                        48e3: [ue, [255, 192], de(268), [55, 148, 128], de(54), [112]],
                                        44100: [ue, [255, 192], de(268), [55, 163, 128], de(84), [112]],
                                        32e3: [ue, [255, 192], de(268), [55, 234], de(226), [112]],
                                        24e3: [ue, [255, 192], de(268), [55, 255, 128], de(268), [111, 112], de(126), [224]],
                                        16e3: [ue, [255, 192], de(268), [55, 255, 128], de(268), [111, 255], de(269), [223, 108], de(195), [1, 192]],
                                        12e3: [ce, de(268), [3, 127, 248], de(268), [6, 255, 240], de(268), [13, 255, 224], de(268), [27, 253, 128], de(259), [56]],
                                        11025: [ce, de(268), [3, 127, 248], de(268), [6, 255, 240], de(268), [13, 255, 224], de(268), [27, 255, 192], de(268), [55, 175, 128], de(108), [112]],
                                        8e3: [ce, de(268), [3, 121, 16], de(47), [7]],
                                    };
                                    (t = e),
                                        ($ = Object.keys(t).reduce(function (e, i) {
                                            return (
                                                (e[i] = new Uint8Array(
                                                    t[i].reduce(function (e, t) {
                                                        return e.concat(t);
                                                    }, [])
                                                )),
                                                e
                                            );
                                        }, {}));
                                }
                                var t;
                                return $;
                            },
                            pe = 9e4;
                        (X = function (e, t) {
                            return z(Y(e, t));
                        }),
                            (K = function (e, t) {
                                return W(G(e), t);
                            }),
                            (Q = function (e, t, i) {
                                return G(i ? e : e - t);
                            });
                        var fe = pe,
                            me =
                                ((W = function (e, t) {
                                    return e * t;
                                }),
                                (G = function (e) {
                                    return e / pe;
                                })),
                            ge =
                                ((Y = function (e, t) {
                                    return e / t;
                                }),
                                X),
                            ve = K,
                            ye = Q,
                            _e = (z = function (e) {
                                return e * pe;
                            }),
                            be = me,
                            Te = function (e, t, i, n) {
                                var r,
                                    s,
                                    a,
                                    o,
                                    l,
                                    u = 0,
                                    c = 0,
                                    d = 0;
                                if (t.length && ((r = ge(e.baseMediaDecodeTime, e.samplerate)), (s = Math.ceil(fe / (e.samplerate / 1024))), i && n && ((u = r - Math.max(i, n)), (d = (c = Math.floor(u / s)) * s)), !(c < 1 || d > fe / 2))) {
                                    for ((a = he()[e.samplerate]) || (a = t[0].data), o = 0; o < c; o++) (l = t[0]), t.splice(0, 0, { data: a, dts: l.dts - s, pts: l.pts - s });
                                    e.baseMediaDecodeTime -= Math.floor(ve(d, e.samplerate));
                                }
                            },
                            Se = function (e, t, i) {
                                return t.minSegmentDts >= i
                                    ? e
                                    : ((t.minSegmentDts = 1 / 0),
                                      e.filter(function (e) {
                                          return e.dts >= i && ((t.minSegmentDts = Math.min(t.minSegmentDts, e.dts)), (t.minSegmentPts = t.minSegmentDts), !0);
                                      }));
                            },
                            we = function (e) {
                                var t,
                                    i,
                                    n = [];
                                for (t = 0; t < e.length; t++) (i = e[t]), n.push({ size: i.data.byteLength, duration: 1024 });
                                return n;
                            },
                            ke = function (e) {
                                var t,
                                    i,
                                    n = 0,
                                    r = new Uint8Array(
                                        (function (e) {
                                            var t,
                                                i = 0;
                                            for (t = 0; t < e.length; t++) i += e[t].data.byteLength;
                                            return i;
                                        })(e)
                                    );
                                for (t = 0; t < e.length; t++) (i = e[t]), r.set(i.data, n), (n += i.data.byteLength);
                                return r;
                            },
                            Ce = fe,
                            Ee = function (e) {
                                delete e.minSegmentDts, delete e.maxSegmentDts, delete e.minSegmentPts, delete e.maxSegmentPts;
                            },
                            xe = function (e, t) {
                                var i,
                                    n = e.minSegmentDts;
                                return t || (n -= e.timelineStartInfo.dts), (i = e.timelineStartInfo.baseMediaDecodeTime), (i += n), (i = Math.max(0, i)), "audio" === e.type && ((i *= e.samplerate / Ce), (i = Math.floor(i))), i;
                            },
                            Ae = function (e, t) {
                                "number" == typeof t.pts &&
                                    (void 0 === e.timelineStartInfo.pts && (e.timelineStartInfo.pts = t.pts),
                                    void 0 === e.minSegmentPts ? (e.minSegmentPts = t.pts) : (e.minSegmentPts = Math.min(e.minSegmentPts, t.pts)),
                                    void 0 === e.maxSegmentPts ? (e.maxSegmentPts = t.pts) : (e.maxSegmentPts = Math.max(e.maxSegmentPts, t.pts))),
                                    "number" == typeof t.dts &&
                                        (void 0 === e.timelineStartInfo.dts && (e.timelineStartInfo.dts = t.dts),
                                        void 0 === e.minSegmentDts ? (e.minSegmentDts = t.dts) : (e.minSegmentDts = Math.min(e.minSegmentDts, t.dts)),
                                        void 0 === e.maxSegmentDts ? (e.maxSegmentDts = t.dts) : (e.maxSegmentDts = Math.max(e.maxSegmentDts, t.dts)));
                            },
                            Ie = function (e) {
                                for (var t = 0, i = { payloadType: -1, payloadSize: 0 }, n = 0, r = 0; t < e.byteLength && 128 !== e[t]; ) {
                                    for (; 255 === e[t]; ) (n += 255), t++;
                                    for (n += e[t++]; 255 === e[t]; ) (r += 255), t++;
                                    if (((r += e[t++]), !i.payload && 4 === n)) {
                                        if ("GA94" === String.fromCharCode(e[t + 3], e[t + 4], e[t + 5], e[t + 6])) {
                                            (i.payloadType = n), (i.payloadSize = r), (i.payload = e.subarray(t, t + r));
                                            break;
                                        }
                                        i.payload = void 0;
                                    }
                                    (t += r), (n = 0), (r = 0);
                                }
                                return i;
                            },
                            Pe = function (e) {
                                return 181 !== e.payload[0] || 49 != ((e.payload[1] << 8) | e.payload[2]) || "GA94" !== String.fromCharCode(e.payload[3], e.payload[4], e.payload[5], e.payload[6]) || 3 !== e.payload[7]
                                    ? null
                                    : e.payload.subarray(8, e.payload.length - 1);
                            },
                            Oe = function (e, t) {
                                var i,
                                    n,
                                    r,
                                    s,
                                    a = [];
                                if (!(64 & t[0])) return a;
                                for (n = 31 & t[0], i = 0; i < n; i++) (s = { type: 3 & t[(r = 3 * i) + 2], pts: e }), 4 & t[r + 2] && ((s.ccData = (t[r + 3] << 8) | t[r + 4]), a.push(s));
                                return a;
                            },
                            Le = function (e) {
                                for (var t, i, n = e.byteLength, r = [], s = 1; s < n - 2; ) 0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2] ? (r.push(s + 2), (s += 2)) : s++;
                                if (0 === r.length) return e;
                                (t = n - r.length), (i = new Uint8Array(t));
                                var a = 0;
                                for (s = 0; s < t; a++, s++) a === r[0] && (a++, r.shift()), (i[s] = e[a]);
                                return i;
                            },
                            De = 4,
                            Re = function e() {
                                e.prototype.init.call(this),
                                    (this.captionPackets_ = []),
                                    (this.ccStreams_ = [new Be(0, 0), new Be(0, 1), new Be(1, 0), new Be(1, 1)]),
                                    this.reset(),
                                    this.ccStreams_.forEach(function (e) {
                                        e.on("data", this.trigger.bind(this, "data")), e.on("partialdone", this.trigger.bind(this, "partialdone")), e.on("done", this.trigger.bind(this, "done"));
                                    }, this);
                            };
                        ((Re.prototype = new q()).push = function (e) {
                            var t, i, n;
                            if ("sei_rbsp" === e.nalUnitType && (t = Ie(e.escapedRBSP)).payloadType === De && (i = Pe(t)))
                                if (e.dts < this.latestDts_) this.ignoreNextEqualDts_ = !0;
                                else {
                                    if (e.dts === this.latestDts_ && this.ignoreNextEqualDts_) return this.numSameDts_--, void (this.numSameDts_ || (this.ignoreNextEqualDts_ = !1));
                                    (n = Oe(e.pts, i)), (this.captionPackets_ = this.captionPackets_.concat(n)), this.latestDts_ !== e.dts && (this.numSameDts_ = 0), this.numSameDts_++, (this.latestDts_ = e.dts);
                                }
                        }),
                            (Re.prototype.flushCCStreams = function (e) {
                                this.ccStreams_.forEach(function (t) {
                                    return "flush" === e ? t.flush() : t.partialFlush();
                                }, this);
                            }),
                            (Re.prototype.flushStream = function (e) {
                                this.captionPackets_.length
                                    ? (this.captionPackets_.forEach(function (e, t) {
                                          e.presortIndex = t;
                                      }),
                                      this.captionPackets_.sort(function (e, t) {
                                          return e.pts === t.pts ? e.presortIndex - t.presortIndex : e.pts - t.pts;
                                      }),
                                      this.captionPackets_.forEach(function (e) {
                                          e.type < 2 && this.dispatchCea608Packet(e);
                                      }, this),
                                      (this.captionPackets_.length = 0),
                                      this.flushCCStreams(e))
                                    : this.flushCCStreams(e);
                            }),
                            (Re.prototype.flush = function () {
                                return this.flushStream("flush");
                            }),
                            (Re.prototype.partialFlush = function () {
                                return this.flushStream("partialFlush");
                            }),
                            (Re.prototype.reset = function () {
                                (this.latestDts_ = null),
                                    (this.ignoreNextEqualDts_ = !1),
                                    (this.numSameDts_ = 0),
                                    (this.activeCea608Channel_ = [null, null]),
                                    this.ccStreams_.forEach(function (e) {
                                        e.reset();
                                    });
                            }),
                            (Re.prototype.dispatchCea608Packet = function (e) {
                                this.setsTextOrXDSActive(e)
                                    ? (this.activeCea608Channel_[e.type] = null)
                                    : this.setsChannel1Active(e)
                                    ? (this.activeCea608Channel_[e.type] = 0)
                                    : this.setsChannel2Active(e) && (this.activeCea608Channel_[e.type] = 1),
                                    null !== this.activeCea608Channel_[e.type] && this.ccStreams_[(e.type << 1) + this.activeCea608Channel_[e.type]].push(e);
                            }),
                            (Re.prototype.setsChannel1Active = function (e) {
                                return 4096 == (30720 & e.ccData);
                            }),
                            (Re.prototype.setsChannel2Active = function (e) {
                                return 6144 == (30720 & e.ccData);
                            }),
                            (Re.prototype.setsTextOrXDSActive = function (e) {
                                return 256 == (28928 & e.ccData) || 4138 == (30974 & e.ccData) || 6186 == (30974 & e.ccData);
                            });
                        var Me = {
                                42: 225,
                                92: 233,
                                94: 237,
                                95: 243,
                                96: 250,
                                123: 231,
                                124: 247,
                                125: 209,
                                126: 241,
                                127: 9608,
                                304: 174,
                                305: 176,
                                306: 189,
                                307: 191,
                                308: 8482,
                                309: 162,
                                310: 163,
                                311: 9834,
                                312: 224,
                                313: 160,
                                314: 232,
                                315: 226,
                                316: 234,
                                317: 238,
                                318: 244,
                                319: 251,
                                544: 193,
                                545: 201,
                                546: 211,
                                547: 218,
                                548: 220,
                                549: 252,
                                550: 8216,
                                551: 161,
                                552: 42,
                                553: 39,
                                554: 8212,
                                555: 169,
                                556: 8480,
                                557: 8226,
                                558: 8220,
                                559: 8221,
                                560: 192,
                                561: 194,
                                562: 199,
                                563: 200,
                                564: 202,
                                565: 203,
                                566: 235,
                                567: 206,
                                568: 207,
                                569: 239,
                                570: 212,
                                571: 217,
                                572: 249,
                                573: 219,
                                574: 171,
                                575: 187,
                                800: 195,
                                801: 227,
                                802: 205,
                                803: 204,
                                804: 236,
                                805: 210,
                                806: 242,
                                807: 213,
                                808: 245,
                                809: 123,
                                810: 125,
                                811: 92,
                                812: 94,
                                813: 95,
                                814: 124,
                                815: 126,
                                816: 196,
                                817: 228,
                                818: 214,
                                819: 246,
                                820: 223,
                                821: 165,
                                822: 164,
                                823: 9474,
                                824: 197,
                                825: 229,
                                826: 216,
                                827: 248,
                                828: 9484,
                                829: 9488,
                                830: 9492,
                                831: 9496,
                            },
                            Ne = function (e) {
                                return null === e ? "" : ((e = Me[e] || e), String.fromCharCode(e));
                            },
                            Ue = [4352, 4384, 4608, 4640, 5376, 5408, 5632, 5664, 5888, 5920, 4096, 4864, 4896, 5120, 5152],
                            je = function () {
                                for (var e = [], t = 15; t--; ) e.push("");
                                return e;
                            },
                            Be = function e(t, i) {
                                e.prototype.init.call(this),
                                    (this.field_ = t || 0),
                                    (this.dataChannel_ = i || 0),
                                    (this.name_ = "CC" + (1 + ((this.field_ << 1) | this.dataChannel_))),
                                    this.setConstants(),
                                    this.reset(),
                                    (this.push = function (e) {
                                        var t, i, n, r, s;
                                        if ((t = 32639 & e.ccData) !== this.lastControlCode_) {
                                            if ((4096 == (61440 & t) ? (this.lastControlCode_ = t) : t !== this.PADDING_ && (this.lastControlCode_ = null), (n = t >>> 8), (r = 255 & t), t !== this.PADDING_))
                                                if (t === this.RESUME_CAPTION_LOADING_) this.mode_ = "popOn";
                                                else if (t === this.END_OF_CAPTION_)
                                                    (this.mode_ = "popOn"),
                                                        this.clearFormatting(e.pts),
                                                        this.flushDisplayed(e.pts),
                                                        (i = this.displayed_),
                                                        (this.displayed_ = this.nonDisplayed_),
                                                        (this.nonDisplayed_ = i),
                                                        (this.startPts_ = e.pts);
                                                else if (t === this.ROLL_UP_2_ROWS_) (this.rollUpRows_ = 2), this.setRollUp(e.pts);
                                                else if (t === this.ROLL_UP_3_ROWS_) (this.rollUpRows_ = 3), this.setRollUp(e.pts);
                                                else if (t === this.ROLL_UP_4_ROWS_) (this.rollUpRows_ = 4), this.setRollUp(e.pts);
                                                else if (t === this.CARRIAGE_RETURN_) this.clearFormatting(e.pts), this.flushDisplayed(e.pts), this.shiftRowsUp_(), (this.startPts_ = e.pts);
                                                else if (t === this.BACKSPACE_)
                                                    "popOn" === this.mode_ ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1)) : (this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1));
                                                else if (t === this.ERASE_DISPLAYED_MEMORY_) this.flushDisplayed(e.pts), (this.displayed_ = je());
                                                else if (t === this.ERASE_NON_DISPLAYED_MEMORY_) this.nonDisplayed_ = je();
                                                else if (t === this.RESUME_DIRECT_CAPTIONING_) "paintOn" !== this.mode_ && (this.flushDisplayed(e.pts), (this.displayed_ = je())), (this.mode_ = "paintOn"), (this.startPts_ = e.pts);
                                                else if (this.isSpecialCharacter(n, r)) (s = Ne((n = (3 & n) << 8) | r)), this[this.mode_](e.pts, s), this.column_++;
                                                else if (this.isExtCharacter(n, r))
                                                    "popOn" === this.mode_ ? (this.nonDisplayed_[this.row_] = this.nonDisplayed_[this.row_].slice(0, -1)) : (this.displayed_[this.row_] = this.displayed_[this.row_].slice(0, -1)),
                                                        (s = Ne((n = (3 & n) << 8) | r)),
                                                        this[this.mode_](e.pts, s),
                                                        this.column_++;
                                                else if (this.isMidRowCode(n, r))
                                                    this.clearFormatting(e.pts), this[this.mode_](e.pts, " "), this.column_++, 14 == (14 & r) && this.addFormatting(e.pts, ["i"]), 1 == (1 & r) && this.addFormatting(e.pts, ["u"]);
                                                else if (this.isOffsetControlCode(n, r)) this.column_ += 3 & r;
                                                else if (this.isPAC(n, r)) {
                                                    var a = Ue.indexOf(7968 & t);
                                                    "rollUp" === this.mode_ && (a - this.rollUpRows_ + 1 < 0 && (a = this.rollUpRows_ - 1), this.setRollUp(e.pts, a)),
                                                        a !== this.row_ && (this.clearFormatting(e.pts), (this.row_ = a)),
                                                        1 & r && -1 === this.formatting_.indexOf("u") && this.addFormatting(e.pts, ["u"]),
                                                        16 == (16 & t) && (this.column_ = 4 * ((14 & t) >> 1)),
                                                        this.isColorPAC(r) && 14 == (14 & r) && this.addFormatting(e.pts, ["i"]);
                                                } else this.isNormalChar(n) && (0 === r && (r = null), (s = Ne(n)), (s += Ne(r)), this[this.mode_](e.pts, s), (this.column_ += s.length));
                                        } else this.lastControlCode_ = null;
                                    });
                            };
                        (Be.prototype = new q()),
                            (Be.prototype.flushDisplayed = function (e) {
                                var t = this.displayed_
                                    .map(function (e) {
                                        try {
                                            return e.trim();
                                        } catch (e) {
                                            return console.error("Skipping malformed caption."), "";
                                        }
                                    })
                                    .join("\n")
                                    .replace(/^\n+|\n+$/g, "");
                                t.length && this.trigger("data", { startPts: this.startPts_, endPts: e, text: t, stream: this.name_ });
                            }),
                            (Be.prototype.reset = function () {
                                (this.mode_ = "popOn"),
                                    (this.topRow_ = 0),
                                    (this.startPts_ = 0),
                                    (this.displayed_ = je()),
                                    (this.nonDisplayed_ = je()),
                                    (this.lastControlCode_ = null),
                                    (this.column_ = 0),
                                    (this.row_ = 14),
                                    (this.rollUpRows_ = 2),
                                    (this.formatting_ = []);
                            }),
                            (Be.prototype.setConstants = function () {
                                0 === this.dataChannel_
                                    ? ((this.BASE_ = 16), (this.EXT_ = 17), (this.CONTROL_ = (20 | this.field_) << 8), (this.OFFSET_ = 23))
                                    : 1 === this.dataChannel_ && ((this.BASE_ = 24), (this.EXT_ = 25), (this.CONTROL_ = (28 | this.field_) << 8), (this.OFFSET_ = 31)),
                                    (this.PADDING_ = 0),
                                    (this.RESUME_CAPTION_LOADING_ = 32 | this.CONTROL_),
                                    (this.END_OF_CAPTION_ = 47 | this.CONTROL_),
                                    (this.ROLL_UP_2_ROWS_ = 37 | this.CONTROL_),
                                    (this.ROLL_UP_3_ROWS_ = 38 | this.CONTROL_),
                                    (this.ROLL_UP_4_ROWS_ = 39 | this.CONTROL_),
                                    (this.CARRIAGE_RETURN_ = 45 | this.CONTROL_),
                                    (this.RESUME_DIRECT_CAPTIONING_ = 41 | this.CONTROL_),
                                    (this.BACKSPACE_ = 33 | this.CONTROL_),
                                    (this.ERASE_DISPLAYED_MEMORY_ = 44 | this.CONTROL_),
                                    (this.ERASE_NON_DISPLAYED_MEMORY_ = 46 | this.CONTROL_);
                            }),
                            (Be.prototype.isSpecialCharacter = function (e, t) {
                                return e === this.EXT_ && t >= 48 && t <= 63;
                            }),
                            (Be.prototype.isExtCharacter = function (e, t) {
                                return (e === this.EXT_ + 1 || e === this.EXT_ + 2) && t >= 32 && t <= 63;
                            }),
                            (Be.prototype.isMidRowCode = function (e, t) {
                                return e === this.EXT_ && t >= 32 && t <= 47;
                            }),
                            (Be.prototype.isOffsetControlCode = function (e, t) {
                                return e === this.OFFSET_ && t >= 33 && t <= 35;
                            }),
                            (Be.prototype.isPAC = function (e, t) {
                                return e >= this.BASE_ && e < this.BASE_ + 8 && t >= 64 && t <= 127;
                            }),
                            (Be.prototype.isColorPAC = function (e) {
                                return (e >= 64 && e <= 79) || (e >= 96 && e <= 127);
                            }),
                            (Be.prototype.isNormalChar = function (e) {
                                return e >= 32 && e <= 127;
                            }),
                            (Be.prototype.setRollUp = function (e, t) {
                                if (("rollUp" !== this.mode_ && ((this.row_ = 14), (this.mode_ = "rollUp"), this.flushDisplayed(e), (this.nonDisplayed_ = je()), (this.displayed_ = je())), void 0 !== t && t !== this.row_))
                                    for (var i = 0; i < this.rollUpRows_; i++) (this.displayed_[t - i] = this.displayed_[this.row_ - i]), (this.displayed_[this.row_ - i] = "");
                                void 0 === t && (t = this.row_), (this.topRow_ = t - this.rollUpRows_ + 1);
                            }),
                            (Be.prototype.addFormatting = function (e, t) {
                                this.formatting_ = this.formatting_.concat(t);
                                var i = t.reduce(function (e, t) {
                                    return e + "<" + t + ">";
                                }, "");
                                this[this.mode_](e, i);
                            }),
                            (Be.prototype.clearFormatting = function (e) {
                                if (this.formatting_.length) {
                                    var t = this.formatting_.reverse().reduce(function (e, t) {
                                        return e + "</" + t + ">";
                                    }, "");
                                    (this.formatting_ = []), this[this.mode_](e, t);
                                }
                            }),
                            (Be.prototype.popOn = function (e, t) {
                                var i = this.nonDisplayed_[this.row_];
                                (i += t), (this.nonDisplayed_[this.row_] = i);
                            }),
                            (Be.prototype.rollUp = function (e, t) {
                                var i = this.displayed_[this.row_];
                                (i += t), (this.displayed_[this.row_] = i);
                            }),
                            (Be.prototype.shiftRowsUp_ = function () {
                                var e;
                                for (e = 0; e < this.topRow_; e++) this.displayed_[e] = "";
                                for (e = this.row_ + 1; e < 15; e++) this.displayed_[e] = "";
                                for (e = this.topRow_; e < this.row_; e++) this.displayed_[e] = this.displayed_[e + 1];
                                this.displayed_[this.row_] = "";
                            }),
                            (Be.prototype.paintOn = function (e, t) {
                                var i = this.displayed_[this.row_];
                                (i += t), (this.displayed_[this.row_] = i);
                            });
                        var Fe = { CaptionStream: Re, Cea608Stream: Be },
                            He = { H264_STREAM_TYPE: 27, ADTS_STREAM_TYPE: 15, METADATA_STREAM_TYPE: 21 },
                            qe = "shared",
                            Ve = function (e, t) {
                                var i = 1;
                                for (e > t && (i = -1); Math.abs(t - e) > 4294967296; ) e += 8589934592 * i;
                                return e;
                            },
                            $e = function e(t) {
                                var i, n;
                                e.prototype.init.call(this),
                                    (this.type_ = t || qe),
                                    (this.push = function (e) {
                                        (this.type_ !== qe && e.type !== this.type_) || (void 0 === n && (n = e.dts), (e.dts = Ve(e.dts, n)), (e.pts = Ve(e.pts, n)), (i = e.dts), this.trigger("data", e));
                                    }),
                                    (this.flush = function () {
                                        (n = i), this.trigger("done");
                                    }),
                                    (this.endTimeline = function () {
                                        this.flush(), this.trigger("endedtimeline");
                                    }),
                                    (this.discontinuity = function () {
                                        (n = void 0), (i = void 0);
                                    }),
                                    (this.reset = function () {
                                        this.discontinuity(), this.trigger("reset");
                                    });
                            };
                        $e.prototype = new q();
                        var ze,
                            We = $e,
                            Ge = function (e, t, i) {
                                var n,
                                    r = "";
                                for (n = t; n < i; n++) r += "%" + ("00" + e[n].toString(16)).slice(-2);
                                return r;
                            },
                            Ye = function (e, t, i) {
                                return decodeURIComponent(Ge(e, t, i));
                            },
                            Xe = function (e) {
                                return (e[0] << 21) | (e[1] << 14) | (e[2] << 7) | e[3];
                            },
                            Ke = {
                                TXXX: function (e) {
                                    var t;
                                    if (3 === e.data[0]) {
                                        for (t = 1; t < e.data.length; t++)
                                            if (0 === e.data[t]) {
                                                (e.description = Ye(e.data, 1, t)), (e.value = Ye(e.data, t + 1, e.data.length).replace(/\0*$/, ""));
                                                break;
                                            }
                                        e.data = e.value;
                                    }
                                },
                                WXXX: function (e) {
                                    var t;
                                    if (3 === e.data[0])
                                        for (t = 1; t < e.data.length; t++)
                                            if (0 === e.data[t]) {
                                                (e.description = Ye(e.data, 1, t)), (e.url = Ye(e.data, t + 1, e.data.length));
                                                break;
                                            }
                                },
                                PRIV: function (e) {
                                    var t, i;
                                    for (t = 0; t < e.data.length; t++)
                                        if (0 === e.data[t]) {
                                            e.owner = ((i = e.data), unescape(Ge(i, 0, t)));
                                            break;
                                        }
                                    (e.privateData = e.data.subarray(t + 1)), (e.data = e.privateData);
                                },
                            };
                        (ze = function (e) {
                            var t,
                                i = { debug: !(!e || !e.debug), descriptor: e && e.descriptor },
                                n = 0,
                                r = [],
                                s = 0;
                            if ((ze.prototype.init.call(this), (this.dispatchType = He.METADATA_STREAM_TYPE.toString(16)), i.descriptor))
                                for (t = 0; t < i.descriptor.length; t++) this.dispatchType += ("00" + i.descriptor[t].toString(16)).slice(-2);
                            this.push = function (e) {
                                var t, a, o, l, u;
                                if ("timed-metadata" === e.type)
                                    if (
                                        (e.dataAlignmentIndicator && ((s = 0), (r.length = 0)), 0 === r.length && (e.data.length < 10 || e.data[0] !== "I".charCodeAt(0) || e.data[1] !== "D".charCodeAt(0) || e.data[2] !== "3".charCodeAt(0)))
                                    )
                                        i.debug && console.log("Skipping unrecognized metadata packet");
                                    else if ((r.push(e), (s += e.data.byteLength), 1 === r.length && ((n = Xe(e.data.subarray(6, 10))), (n += 10)), !(s < n))) {
                                        for (t = { data: new Uint8Array(n), frames: [], pts: r[0].pts, dts: r[0].dts }, u = 0; u < n; )
                                            t.data.set(r[0].data.subarray(0, n - u), u), (u += r[0].data.byteLength), (s -= r[0].data.byteLength), r.shift();
                                        (a = 10), 64 & t.data[5] && ((a += 4), (a += Xe(t.data.subarray(10, 14))), (n -= Xe(t.data.subarray(16, 20))));
                                        do {
                                            if ((o = Xe(t.data.subarray(a + 4, a + 8))) < 1) return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");
                                            if (
                                                (((l = { id: String.fromCharCode(t.data[a], t.data[a + 1], t.data[a + 2], t.data[a + 3]), data: t.data.subarray(a + 10, a + o + 10) }).key = l.id),
                                                Ke[l.id] && (Ke[l.id](l), "com.apple.streaming.transportStreamTimestamp" === l.owner))
                                            ) {
                                                var c = l.data,
                                                    d = ((1 & c[3]) << 30) | (c[4] << 22) | (c[5] << 14) | (c[6] << 6) | (c[7] >>> 2);
                                                (d *= 4), (d += 3 & c[7]), (l.timeStamp = d), void 0 === t.pts && void 0 === t.dts && ((t.pts = l.timeStamp), (t.dts = l.timeStamp)), this.trigger("timestamp", l);
                                            }
                                            t.frames.push(l), (a += 10), (a += o);
                                        } while (a < n);
                                        this.trigger("data", t);
                                    }
                            };
                        }).prototype = new q();
                        var Qe,
                            Je,
                            Ze,
                            et = ze,
                            tt = We,
                            it = 188;
                        ((Qe = function () {
                            var e = new Uint8Array(it),
                                t = 0;
                            Qe.prototype.init.call(this),
                                (this.push = function (i) {
                                    var n,
                                        r = 0,
                                        s = it;
                                    for (t ? ((n = new Uint8Array(i.byteLength + t)).set(e.subarray(0, t)), n.set(i, t), (t = 0)) : (n = i); s < n.byteLength; )
                                        71 !== n[r] || 71 !== n[s] ? (r++, s++) : (this.trigger("data", n.subarray(r, s)), (r += it), (s += it));
                                    r < n.byteLength && (e.set(n.subarray(r), 0), (t = n.byteLength - r));
                                }),
                                (this.flush = function () {
                                    t === it && 71 === e[0] && (this.trigger("data", e), (t = 0)), this.trigger("done");
                                }),
                                (this.endTimeline = function () {
                                    this.flush(), this.trigger("endedtimeline");
                                }),
                                (this.reset = function () {
                                    (t = 0), this.trigger("reset");
                                });
                        }).prototype = new q()),
                            ((Je = function () {
                                var e, t, i, n;
                                Je.prototype.init.call(this),
                                    (n = this),
                                    (this.packetsWaitingForPmt = []),
                                    (this.programMapTable = void 0),
                                    (e = function (e, n) {
                                        var r = 0;
                                        n.payloadUnitStartIndicator && (r += e[r] + 1), "pat" === n.type ? t(e.subarray(r), n) : i(e.subarray(r), n);
                                    }),
                                    (t = function (e, t) {
                                        (t.section_number = e[7]), (t.last_section_number = e[8]), (n.pmtPid = ((31 & e[10]) << 8) | e[11]), (t.pmtPid = n.pmtPid);
                                    }),
                                    (i = function (e, t) {
                                        var i, r;
                                        if (1 & e[5]) {
                                            for (n.programMapTable = { video: null, audio: null, "timed-metadata": {} }, i = 3 + (((15 & e[1]) << 8) | e[2]) - 4, r = 12 + (((15 & e[10]) << 8) | e[11]); r < i; ) {
                                                var s = e[r],
                                                    a = ((31 & e[r + 1]) << 8) | e[r + 2];
                                                s === He.H264_STREAM_TYPE && null === n.programMapTable.video
                                                    ? (n.programMapTable.video = a)
                                                    : s === He.ADTS_STREAM_TYPE && null === n.programMapTable.audio
                                                    ? (n.programMapTable.audio = a)
                                                    : s === He.METADATA_STREAM_TYPE && (n.programMapTable["timed-metadata"][a] = s),
                                                    (r += 5 + (((15 & e[r + 3]) << 8) | e[r + 4]));
                                            }
                                            t.programMapTable = n.programMapTable;
                                        }
                                    }),
                                    (this.push = function (t) {
                                        var i = {},
                                            n = 4;
                                        if (((i.payloadUnitStartIndicator = !!(64 & t[1])), (i.pid = 31 & t[1]), (i.pid <<= 8), (i.pid |= t[2]), (48 & t[3]) >>> 4 > 1 && (n += t[n] + 1), 0 === i.pid))
                                            (i.type = "pat"), e(t.subarray(n), i), this.trigger("data", i);
                                        else if (i.pid === this.pmtPid) for (i.type = "pmt", e(t.subarray(n), i), this.trigger("data", i); this.packetsWaitingForPmt.length; ) this.processPes_.apply(this, this.packetsWaitingForPmt.shift());
                                        else void 0 === this.programMapTable ? this.packetsWaitingForPmt.push([t, n, i]) : this.processPes_(t, n, i);
                                    }),
                                    (this.processPes_ = function (e, t, i) {
                                        i.pid === this.programMapTable.video
                                            ? (i.streamType = He.H264_STREAM_TYPE)
                                            : i.pid === this.programMapTable.audio
                                            ? (i.streamType = He.ADTS_STREAM_TYPE)
                                            : (i.streamType = this.programMapTable["timed-metadata"][i.pid]),
                                            (i.type = "pes"),
                                            (i.data = e.subarray(t)),
                                            this.trigger("data", i);
                                    });
                            }).prototype = new q()),
                            (Je.STREAM_TYPES = { h264: 27, adts: 15 }),
                            ((Ze = function () {
                                var e,
                                    t = this,
                                    i = { data: [], size: 0 },
                                    n = { data: [], size: 0 },
                                    r = { data: [], size: 0 },
                                    s = function (e, i, n) {
                                        var r,
                                            s,
                                            a = new Uint8Array(e.size),
                                            o = { type: i },
                                            l = 0,
                                            u = 0;
                                        if (e.data.length && !(e.size < 9)) {
                                            for (o.trackId = e.data[0].pid, l = 0; l < e.data.length; l++) (s = e.data[l]), a.set(s.data, u), (u += s.data.byteLength);
                                            var c, d, h;
                                            (c = a),
                                                ((d = o).packetLength = 6 + ((c[4] << 8) | c[5])),
                                                (d.dataAlignmentIndicator = 0 != (4 & c[6])),
                                                192 & (h = c[7]) &&
                                                    ((d.pts = ((14 & c[9]) << 27) | ((255 & c[10]) << 20) | ((254 & c[11]) << 12) | ((255 & c[12]) << 5) | ((254 & c[13]) >>> 3)),
                                                    (d.pts *= 4),
                                                    (d.pts += (6 & c[13]) >>> 1),
                                                    (d.dts = d.pts),
                                                    64 & h && ((d.dts = ((14 & c[14]) << 27) | ((255 & c[15]) << 20) | ((254 & c[16]) << 12) | ((255 & c[17]) << 5) | ((254 & c[18]) >>> 3)), (d.dts *= 4), (d.dts += (6 & c[18]) >>> 1))),
                                                (d.data = c.subarray(9 + c[8])),
                                                (r = "video" === i || o.packetLength <= e.size),
                                                (n || r) && ((e.size = 0), (e.data.length = 0)),
                                                r && t.trigger("data", o);
                                        }
                                    };
                                Ze.prototype.init.call(this),
                                    (this.push = function (a) {
                                        ({
                                            pat: function () {},
                                            pes: function () {
                                                var e, t;
                                                switch (a.streamType) {
                                                    case He.H264_STREAM_TYPE:
                                                        (e = i), (t = "video");
                                                        break;
                                                    case He.ADTS_STREAM_TYPE:
                                                        (e = n), (t = "audio");
                                                        break;
                                                    case He.METADATA_STREAM_TYPE:
                                                        (e = r), (t = "timed-metadata");
                                                        break;
                                                    default:
                                                        return;
                                                }
                                                a.payloadUnitStartIndicator && s(e, t, !0), e.data.push(a), (e.size += a.data.byteLength);
                                            },
                                            pmt: function () {
                                                var i = { type: "metadata", tracks: [] };
                                                null !== (e = a.programMapTable).video && i.tracks.push({ timelineStartInfo: { baseMediaDecodeTime: 0 }, id: +e.video, codec: "avc", type: "video" }),
                                                    null !== e.audio && i.tracks.push({ timelineStartInfo: { baseMediaDecodeTime: 0 }, id: +e.audio, codec: "adts", type: "audio" }),
                                                    t.trigger("data", i);
                                            },
                                        }[a.type]());
                                    }),
                                    (this.reset = function () {
                                        (i.size = 0), (i.data.length = 0), (n.size = 0), (n.data.length = 0), this.trigger("reset");
                                    }),
                                    (this.flushStreams_ = function () {
                                        s(i, "video"), s(n, "audio"), s(r, "timed-metadata");
                                    }),
                                    (this.flush = function () {
                                        this.flushStreams_(), this.trigger("done");
                                    });
                            }).prototype = new q());
                        var nt = {
                            PAT_PID: 0,
                            MP2T_PACKET_LENGTH: it,
                            TransportPacketStream: Qe,
                            TransportParseStream: Je,
                            ElementaryStream: Ze,
                            TimestampRolloverStream: tt,
                            CaptionStream: Fe.CaptionStream,
                            Cea608Stream: Fe.Cea608Stream,
                            MetadataStream: et,
                        };
                        for (var rt in He) He.hasOwnProperty(rt) && (nt[rt] = He[rt]);
                        var st,
                            at = nt,
                            ot = fe,
                            lt = [96e3, 88200, 64e3, 48e3, 44100, 32e3, 24e3, 22050, 16e3, 12e3, 11025, 8e3, 7350];
                        (st = function (e) {
                            var t,
                                i = 0;
                            st.prototype.init.call(this),
                                (this.push = function (n) {
                                    var r,
                                        s,
                                        a,
                                        o,
                                        l,
                                        u,
                                        c = 0;
                                    if ((e || (i = 0), "audio" === n.type))
                                        for (t ? ((o = t), (t = new Uint8Array(o.byteLength + n.data.byteLength)).set(o), t.set(n.data, o.byteLength)) : (t = n.data); c + 5 < t.length; )
                                            if (255 === t[c] && 240 == (246 & t[c + 1])) {
                                                if (
                                                    ((s = 2 * (1 & ~t[c + 1])),
                                                    (r = ((3 & t[c + 3]) << 11) | (t[c + 4] << 3) | ((224 & t[c + 5]) >> 5)),
                                                    (u = ((l = 1024 * (1 + (3 & t[c + 6]))) * ot) / lt[(60 & t[c + 2]) >>> 2]),
                                                    (a = c + r),
                                                    t.byteLength < a)
                                                )
                                                    return;
                                                if (
                                                    (this.trigger("data", {
                                                        pts: n.pts + i * u,
                                                        dts: n.dts + i * u,
                                                        sampleCount: l,
                                                        audioobjecttype: 1 + ((t[c + 2] >>> 6) & 3),
                                                        channelcount: ((1 & t[c + 2]) << 2) | ((192 & t[c + 3]) >>> 6),
                                                        samplerate: lt[(60 & t[c + 2]) >>> 2],
                                                        samplingfrequencyindex: (60 & t[c + 2]) >>> 2,
                                                        samplesize: 16,
                                                        data: t.subarray(c + 7 + s, a),
                                                    }),
                                                    i++,
                                                    t.byteLength === a)
                                                )
                                                    return void (t = void 0);
                                                t = t.subarray(a);
                                            } else c++;
                                }),
                                (this.flush = function () {
                                    (i = 0), this.trigger("done");
                                }),
                                (this.reset = function () {
                                    (t = void 0), this.trigger("reset");
                                }),
                                (this.endTimeline = function () {
                                    (t = void 0), this.trigger("endedtimeline");
                                });
                        }).prototype = new q();
                        var ut,
                            ct,
                            dt,
                            ht = st,
                            pt = function (e) {
                                var t = e.byteLength,
                                    i = 0,
                                    n = 0;
                                (this.length = function () {
                                    return 8 * t;
                                }),
                                    (this.bitsAvailable = function () {
                                        return 8 * t + n;
                                    }),
                                    (this.loadWord = function () {
                                        var r = e.byteLength - t,
                                            s = new Uint8Array(4),
                                            a = Math.min(4, t);
                                        if (0 === a) throw new Error("no bytes available");
                                        s.set(e.subarray(r, r + a)), (i = new DataView(s.buffer).getUint32(0)), (n = 8 * a), (t -= a);
                                    }),
                                    (this.skipBits = function (e) {
                                        var r;
                                        n > e ? ((i <<= e), (n -= e)) : ((e -= n), (e -= 8 * (r = Math.floor(e / 8))), (t -= r), this.loadWord(), (i <<= e), (n -= e));
                                    }),
                                    (this.readBits = function (e) {
                                        var r = Math.min(n, e),
                                            s = i >>> (32 - r);
                                        return (n -= r) > 0 ? (i <<= r) : t > 0 && this.loadWord(), (r = e - r) > 0 ? (s << r) | this.readBits(r) : s;
                                    }),
                                    (this.skipLeadingZeros = function () {
                                        var e;
                                        for (e = 0; e < n; ++e) if (0 != (i & (2147483648 >>> e))) return (i <<= e), (n -= e), e;
                                        return this.loadWord(), e + this.skipLeadingZeros();
                                    }),
                                    (this.skipUnsignedExpGolomb = function () {
                                        this.skipBits(1 + this.skipLeadingZeros());
                                    }),
                                    (this.skipExpGolomb = function () {
                                        this.skipBits(1 + this.skipLeadingZeros());
                                    }),
                                    (this.readUnsignedExpGolomb = function () {
                                        var e = this.skipLeadingZeros();
                                        return this.readBits(e + 1) - 1;
                                    }),
                                    (this.readExpGolomb = function () {
                                        var e = this.readUnsignedExpGolomb();
                                        return 1 & e ? (1 + e) >>> 1 : -1 * (e >>> 1);
                                    }),
                                    (this.readBoolean = function () {
                                        return 1 === this.readBits(1);
                                    }),
                                    (this.readUnsignedByte = function () {
                                        return this.readBits(8);
                                    }),
                                    this.loadWord();
                            };
                        ((ct = function () {
                            var e,
                                t,
                                i = 0;
                            ct.prototype.init.call(this),
                                (this.push = function (n) {
                                    var r;
                                    t ? ((r = new Uint8Array(t.byteLength + n.data.byteLength)).set(t), r.set(n.data, t.byteLength), (t = r)) : (t = n.data);
                                    for (var s = t.byteLength; i < s - 3; i++)
                                        if (1 === t[i + 2]) {
                                            e = i + 5;
                                            break;
                                        }
                                    for (; e < s; )
                                        switch (t[e]) {
                                            case 0:
                                                if (0 !== t[e - 1]) {
                                                    e += 2;
                                                    break;
                                                }
                                                if (0 !== t[e - 2]) {
                                                    e++;
                                                    break;
                                                }
                                                i + 3 !== e - 2 && this.trigger("data", t.subarray(i + 3, e - 2));
                                                do {
                                                    e++;
                                                } while (1 !== t[e] && e < s);
                                                (i = e - 2), (e += 3);
                                                break;
                                            case 1:
                                                if (0 !== t[e - 1] || 0 !== t[e - 2]) {
                                                    e += 3;
                                                    break;
                                                }
                                                this.trigger("data", t.subarray(i + 3, e - 2)), (i = e - 2), (e += 3);
                                                break;
                                            default:
                                                e += 3;
                                        }
                                    (t = t.subarray(i)), (e -= i), (i = 0);
                                }),
                                (this.reset = function () {
                                    (t = null), (i = 0), this.trigger("reset");
                                }),
                                (this.flush = function () {
                                    t && t.byteLength > 3 && this.trigger("data", t.subarray(i + 3)), (t = null), (i = 0), this.trigger("done");
                                }),
                                (this.endTimeline = function () {
                                    this.flush(), this.trigger("endedtimeline");
                                });
                        }).prototype = new q()),
                            (dt = { 100: !0, 110: !0, 122: !0, 244: !0, 44: !0, 83: !0, 86: !0, 118: !0, 128: !0, 138: !0, 139: !0, 134: !0 }),
                            ((ut = function () {
                                var e,
                                    t,
                                    i,
                                    n,
                                    r,
                                    s,
                                    a,
                                    o = new ct();
                                ut.prototype.init.call(this),
                                    (e = this),
                                    (this.push = function (e) {
                                        "video" === e.type && ((t = e.trackId), (i = e.pts), (n = e.dts), o.push(e));
                                    }),
                                    o.on("data", function (a) {
                                        var o = { trackId: t, pts: i, dts: n, data: a };
                                        switch (31 & a[0]) {
                                            case 5:
                                                o.nalUnitType = "slice_layer_without_partitioning_rbsp_idr";
                                                break;
                                            case 6:
                                                (o.nalUnitType = "sei_rbsp"), (o.escapedRBSP = r(a.subarray(1)));
                                                break;
                                            case 7:
                                                (o.nalUnitType = "seq_parameter_set_rbsp"), (o.escapedRBSP = r(a.subarray(1))), (o.config = s(o.escapedRBSP));
                                                break;
                                            case 8:
                                                o.nalUnitType = "pic_parameter_set_rbsp";
                                                break;
                                            case 9:
                                                o.nalUnitType = "access_unit_delimiter_rbsp";
                                        }
                                        e.trigger("data", o);
                                    }),
                                    o.on("done", function () {
                                        e.trigger("done");
                                    }),
                                    o.on("partialdone", function () {
                                        e.trigger("partialdone");
                                    }),
                                    o.on("reset", function () {
                                        e.trigger("reset");
                                    }),
                                    o.on("endedtimeline", function () {
                                        e.trigger("endedtimeline");
                                    }),
                                    (this.flush = function () {
                                        o.flush();
                                    }),
                                    (this.partialFlush = function () {
                                        o.partialFlush();
                                    }),
                                    (this.reset = function () {
                                        o.reset();
                                    }),
                                    (this.endTimeline = function () {
                                        o.endTimeline();
                                    }),
                                    (a = function (e, t) {
                                        var i,
                                            n = 8,
                                            r = 8;
                                        for (i = 0; i < e; i++) 0 !== r && (r = (n + t.readExpGolomb() + 256) % 256), (n = 0 === r ? n : r);
                                    }),
                                    (r = function (e) {
                                        for (var t, i, n = e.byteLength, r = [], s = 1; s < n - 2; ) 0 === e[s] && 0 === e[s + 1] && 3 === e[s + 2] ? (r.push(s + 2), (s += 2)) : s++;
                                        if (0 === r.length) return e;
                                        (t = n - r.length), (i = new Uint8Array(t));
                                        var a = 0;
                                        for (s = 0; s < t; a++, s++) a === r[0] && (a++, r.shift()), (i[s] = e[a]);
                                        return i;
                                    }),
                                    (s = function (e) {
                                        var t,
                                            i,
                                            n,
                                            r,
                                            s,
                                            o,
                                            l,
                                            u,
                                            c,
                                            d,
                                            h,
                                            p,
                                            f,
                                            m = 0,
                                            g = 0,
                                            v = 0,
                                            y = 0,
                                            _ = 1;
                                        if (
                                            ((i = (t = new pt(e)).readUnsignedByte()),
                                            (r = t.readUnsignedByte()),
                                            (n = t.readUnsignedByte()),
                                            t.skipUnsignedExpGolomb(),
                                            dt[i] && (3 === (s = t.readUnsignedExpGolomb()) && t.skipBits(1), t.skipUnsignedExpGolomb(), t.skipUnsignedExpGolomb(), t.skipBits(1), t.readBoolean()))
                                        )
                                            for (h = 3 !== s ? 8 : 12, f = 0; f < h; f++) t.readBoolean() && a(f < 6 ? 16 : 64, t);
                                        if ((t.skipUnsignedExpGolomb(), 0 === (o = t.readUnsignedExpGolomb()))) t.readUnsignedExpGolomb();
                                        else if (1 === o) for (t.skipBits(1), t.skipExpGolomb(), t.skipExpGolomb(), l = t.readUnsignedExpGolomb(), f = 0; f < l; f++) t.skipExpGolomb();
                                        if (
                                            (t.skipUnsignedExpGolomb(),
                                            t.skipBits(1),
                                            (u = t.readUnsignedExpGolomb()),
                                            (c = t.readUnsignedExpGolomb()),
                                            0 === (d = t.readBits(1)) && t.skipBits(1),
                                            t.skipBits(1),
                                            t.readBoolean() && ((m = t.readUnsignedExpGolomb()), (g = t.readUnsignedExpGolomb()), (v = t.readUnsignedExpGolomb()), (y = t.readUnsignedExpGolomb())),
                                            t.readBoolean() && t.readBoolean())
                                        ) {
                                            switch (t.readUnsignedByte()) {
                                                case 1:
                                                    p = [1, 1];
                                                    break;
                                                case 2:
                                                    p = [12, 11];
                                                    break;
                                                case 3:
                                                    p = [10, 11];
                                                    break;
                                                case 4:
                                                    p = [16, 11];
                                                    break;
                                                case 5:
                                                    p = [40, 33];
                                                    break;
                                                case 6:
                                                    p = [24, 11];
                                                    break;
                                                case 7:
                                                    p = [20, 11];
                                                    break;
                                                case 8:
                                                    p = [32, 11];
                                                    break;
                                                case 9:
                                                    p = [80, 33];
                                                    break;
                                                case 10:
                                                    p = [18, 11];
                                                    break;
                                                case 11:
                                                    p = [15, 11];
                                                    break;
                                                case 12:
                                                    p = [64, 33];
                                                    break;
                                                case 13:
                                                    p = [160, 99];
                                                    break;
                                                case 14:
                                                    p = [4, 3];
                                                    break;
                                                case 15:
                                                    p = [3, 2];
                                                    break;
                                                case 16:
                                                    p = [2, 1];
                                                    break;
                                                case 255:
                                                    p = [(t.readUnsignedByte() << 8) | t.readUnsignedByte(), (t.readUnsignedByte() << 8) | t.readUnsignedByte()];
                                            }
                                            p && (_ = p[0] / p[1]);
                                        }
                                        return { profileIdc: i, levelIdc: n, profileCompatibility: r, width: Math.ceil((16 * (u + 1) - 2 * m - 2 * g) * _), height: (2 - d) * (c + 1) * 16 - 2 * v - 2 * y, sarRatio: p };
                                    });
                            }).prototype = new q());
                        var ft,
                            mt = { H264Stream: ut, NalByteStream: ct },
                            gt = function (e, t) {
                                var i = (e[t + 6] << 21) | (e[t + 7] << 14) | (e[t + 8] << 7) | e[t + 9];
                                return (i = i >= 0 ? i : 0), (16 & e[t + 5]) >> 4 ? i + 20 : i + 10;
                            },
                            vt = function e(t, i) {
                                return t.length - i < 10 || t[i] !== "I".charCodeAt(0) || t[i + 1] !== "D".charCodeAt(0) || t[i + 2] !== "3".charCodeAt(0) ? i : e(t, (i += gt(t, i)));
                            },
                            yt = function (e) {
                                var t = vt(e, 0);
                                return e.length >= t + 2 && 255 == (255 & e[t]) && 240 == (240 & e[t + 1]) && 16 == (22 & e[t + 1]);
                            },
                            _t = gt,
                            bt = function (e, t) {
                                var i = (224 & e[t + 5]) >> 5,
                                    n = e[t + 4] << 3;
                                return (6144 & e[t + 3]) | n | i;
                            };
                        (ft = function () {
                            var e = new Uint8Array(),
                                t = 0;
                            ft.prototype.init.call(this),
                                (this.setTimestamp = function (e) {
                                    t = e;
                                }),
                                (this.push = function (i) {
                                    var n,
                                        r,
                                        s,
                                        a,
                                        o = 0,
                                        l = 0;
                                    for (e.length ? ((a = e.length), (e = new Uint8Array(i.byteLength + a)).set(e.subarray(0, a)), e.set(i, a)) : (e = i); e.length - l >= 3; )
                                        if (e[l] !== "I".charCodeAt(0) || e[l + 1] !== "D".charCodeAt(0) || e[l + 2] !== "3".charCodeAt(0))
                                            if (255 != (255 & e[l]) || 240 != (240 & e[l + 1])) l++;
                                            else {
                                                if (e.length - l < 7) break;
                                                if (l + (o = bt(e, l)) > e.length) break;
                                                (s = { type: "audio", data: e.subarray(l, l + o), pts: t, dts: t }), this.trigger("data", s), (l += o);
                                            }
                                        else {
                                            if (e.length - l < 10) break;
                                            if (l + (o = _t(e, l)) > e.length) break;
                                            (r = { type: "timed-metadata", data: e.subarray(l, l + o) }), this.trigger("data", r), (l += o);
                                        }
                                    (n = e.length - l), (e = n > 0 ? e.subarray(l) : new Uint8Array());
                                }),
                                (this.reset = function () {
                                    (e = new Uint8Array()), this.trigger("reset");
                                }),
                                (this.endTimeline = function () {
                                    (e = new Uint8Array()), this.trigger("endedtimeline");
                                });
                        }).prototype = new q();
                        var Tt,
                            St,
                            wt,
                            kt,
                            Ct = ft,
                            Et = ["audioobjecttype", "channelcount", "samplerate", "samplingfrequencyindex", "samplesize"],
                            xt = ["width", "height", "profileIdc", "levelIdc", "profileCompatibility", "sarRatio"],
                            At = mt.H264Stream,
                            It = yt,
                            Pt = fe,
                            Ot = function (e, t) {
                                var i;
                                if (e.length !== t.length) return !1;
                                for (i = 0; i < e.length; i++) if (e[i] !== t[i]) return !1;
                                return !0;
                            },
                            Lt = function (e, t, i, n, r, s) {
                                return { start: { dts: e, pts: e + (i - t) }, end: { dts: e + (n - t), pts: e + (r - i) }, prependedContentDuration: s, baseMediaDecodeTime: e };
                            };
                        ((St = function (e, t) {
                            var i = [],
                                n = 0,
                                r = 0,
                                s = 0,
                                a = 1 / 0;
                            (t = t || {}),
                                St.prototype.init.call(this),
                                (this.push = function (t) {
                                    Ae(e, t),
                                        e &&
                                            Et.forEach(function (i) {
                                                e[i] = t[i];
                                            }),
                                        i.push(t);
                                }),
                                (this.setEarliestDts = function (e) {
                                    r = e;
                                }),
                                (this.setVideoBaseMediaDecodeTime = function (e) {
                                    a = e;
                                }),
                                (this.setAudioAppendStart = function (e) {
                                    s = e;
                                }),
                                (this.flush = function () {
                                    var o, l, u, c, d;
                                    0 !== i.length
                                        ? ((o = Se(i, e, r)),
                                          (e.baseMediaDecodeTime = xe(e, t.keepOriginalTimestamps)),
                                          Te(e, o, s, a),
                                          (e.samples = we(o)),
                                          (u = J(ke(o))),
                                          (i = []),
                                          (l = Z(n, [e])),
                                          (c = new Uint8Array(l.byteLength + u.byteLength)),
                                          n++,
                                          c.set(l),
                                          c.set(u, l.byteLength),
                                          Ee(e),
                                          (d = Math.ceil((1024 * Pt) / e.samplerate)),
                                          o.length && this.trigger("timingInfo", { start: o[0].pts, end: o[0].pts + o.length * d }),
                                          this.trigger("data", { track: e, boxes: c }),
                                          this.trigger("done", "AudioSegmentStream"))
                                        : this.trigger("done", "AudioSegmentStream");
                                }),
                                (this.reset = function () {
                                    Ee(e), (i = []), this.trigger("reset");
                                });
                        }).prototype = new q()),
                            ((Tt = function (e, t) {
                                var i,
                                    n,
                                    r = 0,
                                    s = [],
                                    a = [];
                                (t = t || {}),
                                    Tt.prototype.init.call(this),
                                    delete e.minPTS,
                                    (this.gopCache_ = []),
                                    (this.push = function (t) {
                                        Ae(e, t),
                                            "seq_parameter_set_rbsp" !== t.nalUnitType ||
                                                i ||
                                                ((i = t.config),
                                                (e.sps = [t.data]),
                                                xt.forEach(function (t) {
                                                    e[t] = i[t];
                                                }, this)),
                                            "pic_parameter_set_rbsp" !== t.nalUnitType || n || ((n = t.data), (e.pps = [t.data])),
                                            s.push(t);
                                    }),
                                    (this.flush = function () {
                                        for (var i, n, o, l, u, c, d, h, p = 0; s.length && "access_unit_delimiter_rbsp" !== s[0].nalUnitType; ) s.shift();
                                        if (0 === s.length) return this.resetStream_(), void this.trigger("done", "VideoSegmentStream");
                                        if (
                                            ((i = ie(s)),
                                            (o = ne(i))[0][0].keyFrame ||
                                                ((n = this.getGopForFusion_(s[0], e))
                                                    ? ((p = n.duration), o.unshift(n), (o.byteLength += n.byteLength), (o.nalCount += n.nalCount), (o.pts = n.pts), (o.dts = n.dts), (o.duration += n.duration))
                                                    : (o = re(o))),
                                            a.length)
                                        ) {
                                            var f;
                                            if (!(f = t.alignGopsAtEnd ? this.alignGopsAtEnd_(o) : this.alignGopsAtStart_(o)))
                                                return (
                                                    this.gopCache_.unshift({ gop: o.pop(), pps: e.pps, sps: e.sps }),
                                                    (this.gopCache_.length = Math.min(6, this.gopCache_.length)),
                                                    (s = []),
                                                    this.resetStream_(),
                                                    void this.trigger("done", "VideoSegmentStream")
                                                );
                                            Ee(e), (o = f);
                                        }
                                        Ae(e, o),
                                            (e.samples = se(o)),
                                            (u = J(ae(o))),
                                            (e.baseMediaDecodeTime = xe(e, t.keepOriginalTimestamps)),
                                            this.trigger(
                                                "processedGopsInfo",
                                                o.map(function (e) {
                                                    return { pts: e.pts, dts: e.dts, byteLength: e.byteLength };
                                                })
                                            ),
                                            (d = o[0]),
                                            (h = o[o.length - 1]),
                                            this.trigger("segmentTimingInfo", Lt(e.baseMediaDecodeTime, d.dts, d.pts, h.dts + h.duration, h.pts + h.duration, p)),
                                            this.trigger("timingInfo", { start: o[0].pts, end: o[o.length - 1].pts + o[o.length - 1].duration }),
                                            this.gopCache_.unshift({ gop: o.pop(), pps: e.pps, sps: e.sps }),
                                            (this.gopCache_.length = Math.min(6, this.gopCache_.length)),
                                            (s = []),
                                            this.trigger("baseMediaDecodeTime", e.baseMediaDecodeTime),
                                            this.trigger("timelineStartInfo", e.timelineStartInfo),
                                            (l = Z(r, [e])),
                                            (c = new Uint8Array(l.byteLength + u.byteLength)),
                                            r++,
                                            c.set(l),
                                            c.set(u, l.byteLength),
                                            this.trigger("data", { track: e, boxes: c }),
                                            this.resetStream_(),
                                            this.trigger("done", "VideoSegmentStream");
                                    }),
                                    (this.reset = function () {
                                        this.resetStream_(), (s = []), (this.gopCache_.length = 0), (a.length = 0), this.trigger("reset");
                                    }),
                                    (this.resetStream_ = function () {
                                        Ee(e), (i = void 0), (n = void 0);
                                    }),
                                    (this.getGopForFusion_ = function (t) {
                                        var i,
                                            n,
                                            r,
                                            s,
                                            a,
                                            o = 1 / 0;
                                        for (a = 0; a < this.gopCache_.length; a++)
                                            (r = (s = this.gopCache_[a]).gop),
                                                e.pps &&
                                                    Ot(e.pps[0], s.pps[0]) &&
                                                    e.sps &&
                                                    Ot(e.sps[0], s.sps[0]) &&
                                                    (r.dts < e.timelineStartInfo.dts || ((i = t.dts - r.dts - r.duration) >= -1e4 && i <= 45e3 && (!n || o > i) && ((n = s), (o = i))));
                                        return n ? n.gop : null;
                                    }),
                                    (this.alignGopsAtStart_ = function (e) {
                                        var t, i, n, r, s, o, l, u;
                                        for (s = e.byteLength, o = e.nalCount, l = e.duration, t = i = 0; t < a.length && i < e.length && ((n = a[t]), (r = e[i]), n.pts !== r.pts); )
                                            r.pts > n.pts ? t++ : (i++, (s -= r.byteLength), (o -= r.nalCount), (l -= r.duration));
                                        return 0 === i ? e : i === e.length ? null : (((u = e.slice(i)).byteLength = s), (u.duration = l), (u.nalCount = o), (u.pts = u[0].pts), (u.dts = u[0].dts), u);
                                    }),
                                    (this.alignGopsAtEnd_ = function (e) {
                                        var t, i, n, r, s, o, l;
                                        for (t = a.length - 1, i = e.length - 1, s = null, o = !1; t >= 0 && i >= 0; ) {
                                            if (((n = a[t]), (r = e[i]), n.pts === r.pts)) {
                                                o = !0;
                                                break;
                                            }
                                            n.pts > r.pts ? t-- : (t === a.length - 1 && (s = i), i--);
                                        }
                                        if (!o && null === s) return null;
                                        if (0 === (l = o ? i : s)) return e;
                                        var u = e.slice(l),
                                            c = u.reduce(
                                                function (e, t) {
                                                    return (e.byteLength += t.byteLength), (e.duration += t.duration), (e.nalCount += t.nalCount), e;
                                                },
                                                { byteLength: 0, duration: 0, nalCount: 0 }
                                            );
                                        return (u.byteLength = c.byteLength), (u.duration = c.duration), (u.nalCount = c.nalCount), (u.pts = u[0].pts), (u.dts = u[0].dts), u;
                                    }),
                                    (this.alignGopsWith = function (e) {
                                        a = e;
                                    });
                            }).prototype = new q()),
                            ((kt = function (e, t) {
                                (this.numberOfTracks = 0),
                                    (this.metadataStream = t),
                                    void 0 !== (e = e || {}).remux ? (this.remuxTracks = !!e.remux) : (this.remuxTracks = !0),
                                    "boolean" == typeof e.keepOriginalTimestamps ? (this.keepOriginalTimestamps = e.keepOriginalTimestamps) : (this.keepOriginalTimestamps = !1),
                                    (this.pendingTracks = []),
                                    (this.videoTrack = null),
                                    (this.pendingBoxes = []),
                                    (this.pendingCaptions = []),
                                    (this.pendingMetadata = []),
                                    (this.pendingBytes = 0),
                                    (this.emittedTracks = 0),
                                    kt.prototype.init.call(this),
                                    (this.push = function (e) {
                                        return e.text
                                            ? this.pendingCaptions.push(e)
                                            : e.frames
                                            ? this.pendingMetadata.push(e)
                                            : (this.pendingTracks.push(e.track),
                                              (this.pendingBytes += e.boxes.byteLength),
                                              "video" === e.track.type && ((this.videoTrack = e.track), this.pendingBoxes.push(e.boxes)),
                                              void ("audio" === e.track.type && ((this.audioTrack = e.track), this.pendingBoxes.unshift(e.boxes))));
                                    });
                            }).prototype = new q()),
                            (kt.prototype.flush = function (e) {
                                var t,
                                    i,
                                    n,
                                    r,
                                    s = 0,
                                    a = { captions: [], captionStreams: {}, metadata: [], info: {} },
                                    o = 0;
                                if (this.pendingTracks.length < this.numberOfTracks) {
                                    if ("VideoSegmentStream" !== e && "AudioSegmentStream" !== e) return;
                                    if (this.remuxTracks) return;
                                    if (0 === this.pendingTracks.length) return this.emittedTracks++, void (this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), (this.emittedTracks = 0)));
                                }
                                if (
                                    (this.videoTrack
                                        ? ((o = this.videoTrack.timelineStartInfo.pts),
                                          xt.forEach(function (e) {
                                              a.info[e] = this.videoTrack[e];
                                          }, this))
                                        : this.audioTrack &&
                                          ((o = this.audioTrack.timelineStartInfo.pts),
                                          Et.forEach(function (e) {
                                              a.info[e] = this.audioTrack[e];
                                          }, this)),
                                    this.videoTrack || this.audioTrack)
                                ) {
                                    for (
                                        1 === this.pendingTracks.length ? (a.type = this.pendingTracks[0].type) : (a.type = "combined"),
                                            this.emittedTracks += this.pendingTracks.length,
                                            n = ee(this.pendingTracks),
                                            a.initSegment = new Uint8Array(n.byteLength),
                                            a.initSegment.set(n),
                                            a.data = new Uint8Array(this.pendingBytes),
                                            r = 0;
                                        r < this.pendingBoxes.length;
                                        r++
                                    )
                                        a.data.set(this.pendingBoxes[r], s), (s += this.pendingBoxes[r].byteLength);
                                    for (r = 0; r < this.pendingCaptions.length; r++)
                                        ((t = this.pendingCaptions[r]).startTime = ye(t.startPts, o, this.keepOriginalTimestamps)),
                                            (t.endTime = ye(t.endPts, o, this.keepOriginalTimestamps)),
                                            (a.captionStreams[t.stream] = !0),
                                            a.captions.push(t);
                                    for (r = 0; r < this.pendingMetadata.length; r++) ((i = this.pendingMetadata[r]).cueTime = ye(i.pts, o, this.keepOriginalTimestamps)), a.metadata.push(i);
                                    for (
                                        a.metadata.dispatchType = this.metadataStream.dispatchType,
                                            this.pendingTracks.length = 0,
                                            this.videoTrack = null,
                                            this.pendingBoxes.length = 0,
                                            this.pendingCaptions.length = 0,
                                            this.pendingBytes = 0,
                                            this.pendingMetadata.length = 0,
                                            this.trigger("data", a),
                                            r = 0;
                                        r < a.captions.length;
                                        r++
                                    )
                                        (t = a.captions[r]), this.trigger("caption", t);
                                    for (r = 0; r < a.metadata.length; r++) (i = a.metadata[r]), this.trigger("id3Frame", i);
                                }
                                this.emittedTracks >= this.numberOfTracks && (this.trigger("done"), (this.emittedTracks = 0));
                            }),
                            (kt.prototype.setRemux = function (e) {
                                this.remuxTracks = e;
                            }),
                            ((wt = function (e) {
                                var t,
                                    i,
                                    n = this,
                                    r = !0;
                                wt.prototype.init.call(this),
                                    (e = e || {}),
                                    (this.baseMediaDecodeTime = e.baseMediaDecodeTime || 0),
                                    (this.transmuxPipeline_ = {}),
                                    (this.setupAacPipeline = function () {
                                        var r = {};
                                        (this.transmuxPipeline_ = r),
                                            (r.type = "aac"),
                                            (r.metadataStream = new at.MetadataStream()),
                                            (r.aacStream = new Ct()),
                                            (r.audioTimestampRolloverStream = new at.TimestampRolloverStream("audio")),
                                            (r.timedMetadataTimestampRolloverStream = new at.TimestampRolloverStream("timed-metadata")),
                                            (r.adtsStream = new ht()),
                                            (r.coalesceStream = new kt(e, r.metadataStream)),
                                            (r.headOfPipeline = r.aacStream),
                                            r.aacStream.pipe(r.audioTimestampRolloverStream).pipe(r.adtsStream),
                                            r.aacStream.pipe(r.timedMetadataTimestampRolloverStream).pipe(r.metadataStream).pipe(r.coalesceStream),
                                            r.metadataStream.on("timestamp", function (e) {
                                                r.aacStream.setTimestamp(e.timeStamp);
                                            }),
                                            r.aacStream.on("data", function (s) {
                                                ("timed-metadata" !== s.type && "audio" !== s.type) ||
                                                    r.audioSegmentStream ||
                                                    ((i = i || { timelineStartInfo: { baseMediaDecodeTime: n.baseMediaDecodeTime }, codec: "adts", type: "audio" }),
                                                    r.coalesceStream.numberOfTracks++,
                                                    (r.audioSegmentStream = new St(i, e)),
                                                    r.audioSegmentStream.on("timingInfo", n.trigger.bind(n, "audioTimingInfo")),
                                                    r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream),
                                                    n.trigger("trackinfo", { hasAudio: !!i, hasVideo: !!t }));
                                            }),
                                            r.coalesceStream.on("data", this.trigger.bind(this, "data")),
                                            r.coalesceStream.on("done", this.trigger.bind(this, "done"));
                                    }),
                                    (this.setupTsPipeline = function () {
                                        var r = {};
                                        (this.transmuxPipeline_ = r),
                                            (r.type = "ts"),
                                            (r.metadataStream = new at.MetadataStream()),
                                            (r.packetStream = new at.TransportPacketStream()),
                                            (r.parseStream = new at.TransportParseStream()),
                                            (r.elementaryStream = new at.ElementaryStream()),
                                            (r.timestampRolloverStream = new at.TimestampRolloverStream()),
                                            (r.adtsStream = new ht()),
                                            (r.h264Stream = new At()),
                                            (r.captionStream = new at.CaptionStream()),
                                            (r.coalesceStream = new kt(e, r.metadataStream)),
                                            (r.headOfPipeline = r.packetStream),
                                            r.packetStream.pipe(r.parseStream).pipe(r.elementaryStream).pipe(r.timestampRolloverStream),
                                            r.timestampRolloverStream.pipe(r.h264Stream),
                                            r.timestampRolloverStream.pipe(r.adtsStream),
                                            r.timestampRolloverStream.pipe(r.metadataStream).pipe(r.coalesceStream),
                                            r.h264Stream.pipe(r.captionStream).pipe(r.coalesceStream),
                                            r.elementaryStream.on("data", function (s) {
                                                var a;
                                                if ("metadata" === s.type) {
                                                    for (a = s.tracks.length; a--; )
                                                        t || "video" !== s.tracks[a].type
                                                            ? i || "audio" !== s.tracks[a].type || ((i = s.tracks[a]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime)
                                                            : ((t = s.tracks[a]).timelineStartInfo.baseMediaDecodeTime = n.baseMediaDecodeTime);
                                                    t &&
                                                        !r.videoSegmentStream &&
                                                        (r.coalesceStream.numberOfTracks++,
                                                        (r.videoSegmentStream = new Tt(t, e)),
                                                        r.videoSegmentStream.on("timelineStartInfo", function (t) {
                                                            i && !e.keepOriginalTimestamps && ((i.timelineStartInfo = t), r.audioSegmentStream.setEarliestDts(t.dts - n.baseMediaDecodeTime));
                                                        }),
                                                        r.videoSegmentStream.on("processedGopsInfo", n.trigger.bind(n, "gopInfo")),
                                                        r.videoSegmentStream.on("segmentTimingInfo", n.trigger.bind(n, "videoSegmentTimingInfo")),
                                                        r.videoSegmentStream.on("baseMediaDecodeTime", function (e) {
                                                            i && r.audioSegmentStream.setVideoBaseMediaDecodeTime(e);
                                                        }),
                                                        r.videoSegmentStream.on("timingInfo", n.trigger.bind(n, "videoTimingInfo")),
                                                        r.h264Stream.pipe(r.videoSegmentStream).pipe(r.coalesceStream)),
                                                        i &&
                                                            !r.audioSegmentStream &&
                                                            (r.coalesceStream.numberOfTracks++,
                                                            (r.audioSegmentStream = new St(i, e)),
                                                            r.audioSegmentStream.on("timingInfo", n.trigger.bind(n, "audioTimingInfo")),
                                                            r.adtsStream.pipe(r.audioSegmentStream).pipe(r.coalesceStream)),
                                                        n.trigger("trackinfo", { hasAudio: !!i, hasVideo: !!t });
                                                }
                                            }),
                                            r.coalesceStream.on("data", this.trigger.bind(this, "data")),
                                            r.coalesceStream.on("id3Frame", function (e) {
                                                (e.dispatchType = r.metadataStream.dispatchType), n.trigger("id3Frame", e);
                                            }),
                                            r.coalesceStream.on("caption", this.trigger.bind(this, "caption")),
                                            r.coalesceStream.on("done", this.trigger.bind(this, "done"));
                                    }),
                                    (this.setBaseMediaDecodeTime = function (n) {
                                        var r = this.transmuxPipeline_;
                                        e.keepOriginalTimestamps || (this.baseMediaDecodeTime = n),
                                            i && ((i.timelineStartInfo.dts = void 0), (i.timelineStartInfo.pts = void 0), Ee(i), r.audioTimestampRolloverStream && r.audioTimestampRolloverStream.discontinuity()),
                                            t && (r.videoSegmentStream && (r.videoSegmentStream.gopCache_ = []), (t.timelineStartInfo.dts = void 0), (t.timelineStartInfo.pts = void 0), Ee(t), r.captionStream.reset()),
                                            r.timestampRolloverStream && r.timestampRolloverStream.discontinuity();
                                    }),
                                    (this.setAudioAppendStart = function (e) {
                                        i && this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(e);
                                    }),
                                    (this.setRemux = function (t) {
                                        var i = this.transmuxPipeline_;
                                        (e.remux = t), i && i.coalesceStream && i.coalesceStream.setRemux(t);
                                    }),
                                    (this.alignGopsWith = function (e) {
                                        t && this.transmuxPipeline_.videoSegmentStream && this.transmuxPipeline_.videoSegmentStream.alignGopsWith(e);
                                    }),
                                    (this.push = function (e) {
                                        if (r) {
                                            var t = It(e);
                                            t && "aac" !== this.transmuxPipeline_.type ? this.setupAacPipeline() : t || "ts" === this.transmuxPipeline_.type || this.setupTsPipeline(), (r = !1);
                                        }
                                        this.transmuxPipeline_.headOfPipeline.push(e);
                                    }),
                                    (this.flush = function () {
                                        (r = !0), this.transmuxPipeline_.headOfPipeline.flush();
                                    }),
                                    (this.endTimeline = function () {
                                        this.transmuxPipeline_.headOfPipeline.endTimeline();
                                    }),
                                    (this.reset = function () {
                                        this.transmuxPipeline_.headOfPipeline && this.transmuxPipeline_.headOfPipeline.reset();
                                    }),
                                    (this.resetCaptions = function () {
                                        this.transmuxPipeline_.captionStream && this.transmuxPipeline_.captionStream.reset();
                                    });
                            }).prototype = new q());
                        var Dt = { Transmuxer: wt, VideoSegmentStream: Tt, AudioSegmentStream: St, AUDIO_PROPERTIES: Et, VIDEO_PROPERTIES: xt, generateVideoSegmentTimingInfo: Lt }.Transmuxer,
                            Rt = { Adts: ht, h264: mt },
                            Mt = fe,
                            Nt = function e(t, i) {
                                var n = [],
                                    r = 0,
                                    s = 0,
                                    a = 0,
                                    o = 1 / 0,
                                    l = null,
                                    u = null;
                                (i = i || {}),
                                    e.prototype.init.call(this),
                                    (this.push = function (e) {
                                        Ae(t, e),
                                            t &&
                                                Et.forEach(function (i) {
                                                    t[i] = e[i];
                                                }),
                                            n.push(e);
                                    }),
                                    (this.setEarliestDts = function (e) {
                                        s = e;
                                    }),
                                    (this.setVideoBaseMediaDecodeTime = function (e) {
                                        o = e;
                                    }),
                                    (this.setAudioAppendStart = function (e) {
                                        a = e;
                                    }),
                                    (this.processFrames_ = function () {
                                        var e, c, d, h, p;
                                        0 !== n.length &&
                                            0 !== (e = Se(n, t, s)).length &&
                                            ((t.baseMediaDecodeTime = xe(t, i.keepOriginalTimestamps)),
                                            Te(t, e, a, o),
                                            (t.samples = we(e)),
                                            (d = J(ke(e))),
                                            (n = []),
                                            (c = Z(r, [t])),
                                            r++,
                                            (t.initSegment = ee([t])),
                                            (h = new Uint8Array(c.byteLength + d.byteLength)).set(c),
                                            h.set(d, c.byteLength),
                                            Ee(t),
                                            null === l && (u = l = e[0].pts),
                                            (u += e.length * ((1024 * Mt) / t.samplerate)),
                                            (p = { start: l }),
                                            this.trigger("timingInfo", p),
                                            this.trigger("data", { track: t, boxes: h }));
                                    }),
                                    (this.flush = function () {
                                        this.processFrames_(), this.trigger("timingInfo", { start: l, end: u }), this.resetTiming_(), this.trigger("done", "AudioSegmentStream");
                                    }),
                                    (this.partialFlush = function () {
                                        this.processFrames_(), this.trigger("partialdone", "AudioSegmentStream");
                                    }),
                                    (this.endTimeline = function () {
                                        this.flush(), this.trigger("endedtimeline", "AudioSegmentStream");
                                    }),
                                    (this.resetTiming_ = function () {
                                        Ee(t), (l = null), (u = null);
                                    }),
                                    (this.reset = function () {
                                        this.resetTiming_(), (n = []), this.trigger("reset");
                                    });
                            };
                        Nt.prototype = new q();
                        var Ut = Nt,
                            jt = function e(t, i) {
                                var n,
                                    r,
                                    s,
                                    a = 0,
                                    o = [],
                                    l = [],
                                    u = null,
                                    c = null,
                                    d = !0;
                                (i = i || {}),
                                    e.prototype.init.call(this),
                                    (this.push = function (e) {
                                        Ae(t, e),
                                            void 0 === t.timelineStartInfo.dts && (t.timelineStartInfo.dts = e.dts),
                                            "seq_parameter_set_rbsp" !== e.nalUnitType ||
                                                n ||
                                                ((n = e.config),
                                                (t.sps = [e.data]),
                                                xt.forEach(function (e) {
                                                    t[e] = n[e];
                                                }, this)),
                                            "pic_parameter_set_rbsp" !== e.nalUnitType || r || ((r = e.data), (t.pps = [e.data])),
                                            o.push(e);
                                    }),
                                    (this.processNals_ = function (e) {
                                        var n;
                                        for (o = l.concat(o); o.length && "access_unit_delimiter_rbsp" !== o[0].nalUnitType; ) o.shift();
                                        if (0 !== o.length) {
                                            var r = ie(o);
                                            if (r.length)
                                                if (((l = r[r.length - 1]), e && (r.pop(), (r.duration -= l.duration), (r.nalCount -= l.length), (r.byteLength -= l.byteLength)), r.length)) {
                                                    if ((this.trigger("timelineStartInfo", t.timelineStartInfo), d)) {
                                                        if (!(s = ne(r))[0][0].keyFrame) {
                                                            if (!(s = re(s))[0][0].keyFrame) return (o = [].concat.apply([], r).concat(l)), void (l = []);
                                                            (r = [].concat.apply([], s)).duration = s.duration;
                                                        }
                                                        d = !1;
                                                    }
                                                    for (null === u && ((u = r[0].pts), (c = u)), c += r.duration, this.trigger("timingInfo", { start: u, end: c }), n = 0; n < r.length; n++) {
                                                        var h = r[n];
                                                        t.samples = oe(h);
                                                        var p = J(le(h));
                                                        Ee(t), Ae(t, h), (t.baseMediaDecodeTime = xe(t, i.keepOriginalTimestamps));
                                                        var f = Z(a, [t]);
                                                        a++, (t.initSegment = ee([t]));
                                                        var m = new Uint8Array(f.byteLength + p.byteLength);
                                                        m.set(f), m.set(p, f.byteLength), this.trigger("data", { track: t, boxes: m, sequence: a, videoFrameDts: h.dts, videoFramePts: h.pts });
                                                    }
                                                    o = [];
                                                } else o = [];
                                        }
                                    }),
                                    (this.resetTimingAndConfig_ = function () {
                                        (n = void 0), (r = void 0), (u = null), (c = null);
                                    }),
                                    (this.partialFlush = function () {
                                        this.processNals_(!0), this.trigger("partialdone", "VideoSegmentStream");
                                    }),
                                    (this.flush = function () {
                                        this.processNals_(!1), this.resetTimingAndConfig_(), this.trigger("done", "VideoSegmentStream");
                                    }),
                                    (this.endTimeline = function () {
                                        this.flush(), this.trigger("endedtimeline", "VideoSegmentStream");
                                    }),
                                    (this.reset = function () {
                                        this.resetTimingAndConfig_(), (l = []), (o = []), (d = !0), this.trigger("reset");
                                    });
                            };
                        jt.prototype = new q();
                        var Bt = jt,
                            Ft = yt,
                            Ht = function (e) {
                                return (e.prototype = new q()), e.prototype.init.call(e), e;
                            },
                            qt = function (e, t) {
                                e.on("data", t.trigger.bind(t, "data")),
                                    e.on("done", t.trigger.bind(t, "done")),
                                    e.on("partialdone", t.trigger.bind(t, "partialdone")),
                                    e.on("endedtimeline", t.trigger.bind(t, "endedtimeline")),
                                    e.on("audioTimingInfo", t.trigger.bind(t, "audioTimingInfo")),
                                    e.on("videoTimingInfo", t.trigger.bind(t, "videoTimingInfo")),
                                    e.on("trackinfo", t.trigger.bind(t, "trackinfo")),
                                    e.on("id3Frame", function (i) {
                                        (i.dispatchType = e.metadataStream.dispatchType), (i.cueTime = me(i.pts)), t.trigger("id3Frame", i);
                                    }),
                                    e.on("caption", function (e) {
                                        t.trigger("caption", e);
                                    });
                            },
                            Vt = function e(t) {
                                var i = null,
                                    n = !0;
                                (t = t || {}),
                                    e.prototype.init.call(this),
                                    (t.baseMediaDecodeTime = t.baseMediaDecodeTime || 0),
                                    (this.push = function (e) {
                                        if (n) {
                                            var r = Ft(e);
                                            !r || (i && "aac" === i.type)
                                                ? r ||
                                                  (i && "ts" === i.type) ||
                                                  ((i = (function (e) {
                                                      var t = {
                                                          type: "ts",
                                                          tracks: { audio: null, video: null },
                                                          packet: new at.TransportPacketStream(),
                                                          parse: new at.TransportParseStream(),
                                                          elementary: new at.ElementaryStream(),
                                                          timestampRollover: new at.TimestampRolloverStream(),
                                                          adts: new Rt.Adts(),
                                                          h264: new Rt.h264.H264Stream(),
                                                          captionStream: new at.CaptionStream(),
                                                          metadataStream: new at.MetadataStream(),
                                                      };
                                                      return (
                                                          (t.headOfPipeline = t.packet),
                                                          t.packet.pipe(t.parse).pipe(t.elementary).pipe(t.timestampRollover),
                                                          t.timestampRollover.pipe(t.h264),
                                                          t.h264.pipe(t.captionStream),
                                                          t.timestampRollover.pipe(t.metadataStream),
                                                          t.timestampRollover.pipe(t.adts),
                                                          t.elementary.on("data", function (i) {
                                                              if ("metadata" === i.type) {
                                                                  for (var n = 0; n < i.tracks.length; n++)
                                                                      t.tracks[i.tracks[n].type] || ((t.tracks[i.tracks[n].type] = i.tracks[n]), (t.tracks[i.tracks[n].type].timelineStartInfo.baseMediaDecodeTime = e.baseMediaDecodeTime));
                                                                  t.tracks.video &&
                                                                      !t.videoSegmentStream &&
                                                                      ((t.videoSegmentStream = new Bt(t.tracks.video, e)),
                                                                      t.videoSegmentStream.on("timelineStartInfo", function (i) {
                                                                          t.tracks.audio && !e.keepOriginalTimestamps && t.audioSegmentStream.setEarliestDts(i.dts - e.baseMediaDecodeTime);
                                                                      }),
                                                                      t.videoSegmentStream.on("timingInfo", t.trigger.bind(t, "videoTimingInfo")),
                                                                      t.videoSegmentStream.on("data", function (e) {
                                                                          t.trigger("data", { type: "video", data: e });
                                                                      }),
                                                                      t.videoSegmentStream.on("done", t.trigger.bind(t, "done")),
                                                                      t.videoSegmentStream.on("partialdone", t.trigger.bind(t, "partialdone")),
                                                                      t.videoSegmentStream.on("endedtimeline", t.trigger.bind(t, "endedtimeline")),
                                                                      t.h264.pipe(t.videoSegmentStream)),
                                                                      t.tracks.audio &&
                                                                          !t.audioSegmentStream &&
                                                                          ((t.audioSegmentStream = new Ut(t.tracks.audio, e)),
                                                                          t.audioSegmentStream.on("data", function (e) {
                                                                              t.trigger("data", { type: "audio", data: e });
                                                                          }),
                                                                          t.audioSegmentStream.on("done", t.trigger.bind(t, "done")),
                                                                          t.audioSegmentStream.on("partialdone", t.trigger.bind(t, "partialdone")),
                                                                          t.audioSegmentStream.on("endedtimeline", t.trigger.bind(t, "endedtimeline")),
                                                                          t.audioSegmentStream.on("timingInfo", t.trigger.bind(t, "audioTimingInfo")),
                                                                          t.adts.pipe(t.audioSegmentStream)),
                                                                      t.trigger("trackinfo", { hasAudio: !!t.tracks.audio, hasVideo: !!t.tracks.video });
                                                              }
                                                          }),
                                                          t.captionStream.on("data", function (i) {
                                                              var n;
                                                              (n = (t.tracks.video && t.tracks.video.timelineStartInfo.pts) || 0),
                                                                  (i.startTime = ye(i.startPts, n, e.keepOriginalTimestamps)),
                                                                  (i.endTime = ye(i.endPts, n, e.keepOriginalTimestamps)),
                                                                  t.trigger("caption", i);
                                                          }),
                                                          (t = Ht(t)).metadataStream.on("data", t.trigger.bind(t, "id3Frame")),
                                                          t
                                                      );
                                                  })(t)),
                                                  qt(i, this))
                                                : ((i = (function (e) {
                                                      var t = {
                                                          type: "aac",
                                                          tracks: { audio: null },
                                                          metadataStream: new at.MetadataStream(),
                                                          aacStream: new Ct(),
                                                          audioRollover: new at.TimestampRolloverStream("audio"),
                                                          timedMetadataRollover: new at.TimestampRolloverStream("timed-metadata"),
                                                          adtsStream: new ht(!0),
                                                      };
                                                      return (
                                                          (t.headOfPipeline = t.aacStream),
                                                          t.aacStream.pipe(t.audioRollover).pipe(t.adtsStream),
                                                          t.aacStream.pipe(t.timedMetadataRollover).pipe(t.metadataStream),
                                                          t.metadataStream.on("timestamp", function (e) {
                                                              t.aacStream.setTimestamp(e.timeStamp);
                                                          }),
                                                          t.aacStream.on("data", function (i) {
                                                              ("timed-metadata" !== i.type && "audio" !== i.type) ||
                                                                  t.audioSegmentStream ||
                                                                  ((t.tracks.audio = t.tracks.audio || { timelineStartInfo: { baseMediaDecodeTime: e.baseMediaDecodeTime }, codec: "adts", type: "audio" }),
                                                                  (t.audioSegmentStream = new Ut(t.tracks.audio, e)),
                                                                  t.audioSegmentStream.on("data", function (e) {
                                                                      t.trigger("data", { type: "audio", data: e });
                                                                  }),
                                                                  t.audioSegmentStream.on("partialdone", t.trigger.bind(t, "partialdone")),
                                                                  t.audioSegmentStream.on("done", t.trigger.bind(t, "done")),
                                                                  t.audioSegmentStream.on("endedtimeline", t.trigger.bind(t, "endedtimeline")),
                                                                  t.audioSegmentStream.on("timingInfo", t.trigger.bind(t, "audioTimingInfo")),
                                                                  t.adtsStream.pipe(t.audioSegmentStream),
                                                                  t.trigger("trackinfo", { hasAudio: !!t.tracks.audio, hasVideo: !!t.tracks.video }));
                                                          }),
                                                          (t = Ht(t)).metadataStream.on("data", t.trigger.bind(t, "id3Frame")),
                                                          t
                                                      );
                                                  })(t)),
                                                  qt(i, this)),
                                                (n = !1);
                                        }
                                        i.headOfPipeline.push(e);
                                    }),
                                    (this.flush = function () {
                                        i && ((n = !0), i.headOfPipeline.flush());
                                    }),
                                    (this.partialFlush = function () {
                                        i && i.headOfPipeline.partialFlush();
                                    }),
                                    (this.endTimeline = function () {
                                        i && i.headOfPipeline.endTimeline();
                                    }),
                                    (this.reset = function () {
                                        i && i.headOfPipeline.reset();
                                    }),
                                    (this.setBaseMediaDecodeTime = function (e) {
                                        t.keepOriginalTimestamps || (t.baseMediaDecodeTime = e),
                                            i &&
                                                (i.tracks.audio && ((i.tracks.audio.timelineStartInfo.dts = void 0), (i.tracks.audio.timelineStartInfo.pts = void 0), Ee(i.tracks.audio), i.audioRollover && i.audioRollover.discontinuity()),
                                                i.tracks.video &&
                                                    (i.videoSegmentStream && (i.videoSegmentStream.gopCache_ = []), (i.tracks.video.timelineStartInfo.dts = void 0), (i.tracks.video.timelineStartInfo.pts = void 0), Ee(i.tracks.video)),
                                                i.timestampRollover && i.timestampRollover.discontinuity());
                                    }),
                                    (this.setRemux = function (e) {
                                        (t.remux = e), i && i.coalesceStream && i.coalesceStream.setRemux(e);
                                    }),
                                    (this.setAudioAppendStart = function (e) {
                                        i && i.tracks.audio && i.audioSegmentStream && i.audioSegmentStream.setAudioAppendStart(e);
                                    }),
                                    (this.alignGopsWith = function () {});
                            };
                        Vt.prototype = new q();
                        var $t = Vt,
                            zt = function (e) {
                                return e >>> 0;
                            },
                            Wt = function (e) {
                                var t = "";
                                return (t += String.fromCharCode(e[0])), (t += String.fromCharCode(e[1])), (t += String.fromCharCode(e[2])), (t += String.fromCharCode(e[3]));
                            },
                            Gt = zt,
                            Yt = function e(t, i) {
                                var n,
                                    r,
                                    s,
                                    a,
                                    o,
                                    l = [];
                                if (!i.length) return null;
                                for (n = 0; n < t.byteLength; )
                                    (r = Gt((t[n] << 24) | (t[n + 1] << 16) | (t[n + 2] << 8) | t[n + 3])),
                                        (s = Wt(t.subarray(n + 4, n + 8))),
                                        (a = r > 1 ? n + r : t.byteLength),
                                        s === i[0] && (1 === i.length ? l.push(t.subarray(n + 8, a)) : (o = e(t.subarray(n + 8, a), i.slice(1))).length && (l = l.concat(o))),
                                        (n = a);
                                return l;
                            },
                            Xt = zt,
                            Kt = function (e) {
                                var t = { version: e[0], flags: new Uint8Array(e.subarray(1, 4)), baseMediaDecodeTime: Xt((e[4] << 24) | (e[5] << 16) | (e[6] << 8) | e[7]) };
                                return 1 === t.version && ((t.baseMediaDecodeTime *= Math.pow(2, 32)), (t.baseMediaDecodeTime += Xt((e[8] << 24) | (e[9] << 16) | (e[10] << 8) | e[11]))), t;
                            },
                            Qt = function (e) {
                                return {
                                    isLeading: (12 & e[0]) >>> 2,
                                    dependsOn: 3 & e[0],
                                    isDependedOn: (192 & e[1]) >>> 6,
                                    hasRedundancy: (48 & e[1]) >>> 4,
                                    paddingValue: (14 & e[1]) >>> 1,
                                    isNonSyncSample: 1 & e[1],
                                    degradationPriority: (e[2] << 8) | e[3],
                                };
                            },
                            Jt = function (e) {
                                var t,
                                    i = { version: e[0], flags: new Uint8Array(e.subarray(1, 4)), samples: [] },
                                    n = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    r = 1 & i.flags[2],
                                    s = 4 & i.flags[2],
                                    a = 1 & i.flags[1],
                                    o = 2 & i.flags[1],
                                    l = 4 & i.flags[1],
                                    u = 8 & i.flags[1],
                                    c = n.getUint32(4),
                                    d = 8;
                                for (
                                    r && ((i.dataOffset = n.getInt32(d)), (d += 4)),
                                        s &&
                                            c &&
                                            ((t = { flags: Qt(e.subarray(d, d + 4)) }),
                                            (d += 4),
                                            a && ((t.duration = n.getUint32(d)), (d += 4)),
                                            o && ((t.size = n.getUint32(d)), (d += 4)),
                                            u && (1 === i.version ? (t.compositionTimeOffset = n.getInt32(d)) : (t.compositionTimeOffset = n.getUint32(d)), (d += 4)),
                                            i.samples.push(t),
                                            c--);
                                    c--;

                                )
                                    (t = {}),
                                        a && ((t.duration = n.getUint32(d)), (d += 4)),
                                        o && ((t.size = n.getUint32(d)), (d += 4)),
                                        l && ((t.flags = Qt(e.subarray(d, d + 4))), (d += 4)),
                                        u && (1 === i.version ? (t.compositionTimeOffset = n.getInt32(d)) : (t.compositionTimeOffset = n.getUint32(d)), (d += 4)),
                                        i.samples.push(t);
                                return i;
                            },
                            Zt = function (e) {
                                var t,
                                    i = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                    n = { version: e[0], flags: new Uint8Array(e.subarray(1, 4)), trackId: i.getUint32(4) },
                                    r = 1 & n.flags[2],
                                    s = 2 & n.flags[2],
                                    a = 8 & n.flags[2],
                                    o = 16 & n.flags[2],
                                    l = 32 & n.flags[2],
                                    u = 65536 & n.flags[0],
                                    c = 131072 & n.flags[0];
                                return (
                                    (t = 8),
                                    r && ((t += 4), (n.baseDataOffset = i.getUint32(12)), (t += 4)),
                                    s && ((n.sampleDescriptionIndex = i.getUint32(t)), (t += 4)),
                                    a && ((n.defaultSampleDuration = i.getUint32(t)), (t += 4)),
                                    o && ((n.defaultSampleSize = i.getUint32(t)), (t += 4)),
                                    l && (n.defaultSampleFlags = i.getUint32(t)),
                                    u && (n.durationIsEmpty = !0),
                                    !r && c && (n.baseDataOffsetIsMoof = !0),
                                    n
                                );
                            },
                            ei = Le,
                            ti = Fe.CaptionStream,
                            ii = function (e, t) {
                                for (var i = e, n = 0; n < t.length; n++) {
                                    var r = t[n];
                                    if (i < r.size) return r;
                                    i -= r.size;
                                }
                                return null;
                            },
                            ni = function (e, t) {
                                var i = Yt(e, ["moof", "traf"]),
                                    n = Yt(e, ["mdat"]),
                                    r = {},
                                    s = [];
                                return (
                                    n.forEach(function (e, t) {
                                        var n = i[t];
                                        s.push({ mdat: e, traf: n });
                                    }),
                                    s.forEach(function (e) {
                                        var i,
                                            n = e.mdat,
                                            s = e.traf,
                                            a = Yt(s, ["tfhd"]),
                                            o = Zt(a[0]),
                                            l = o.trackId,
                                            u = Yt(s, ["tfdt"]),
                                            c = u.length > 0 ? Kt(u[0]).baseMediaDecodeTime : 0,
                                            d = Yt(s, ["trun"]);
                                        t === l &&
                                            d.length > 0 &&
                                            ((i = (function (e, t, i) {
                                                var n,
                                                    r,
                                                    s,
                                                    a,
                                                    o = new DataView(e.buffer, e.byteOffset, e.byteLength),
                                                    l = [];
                                                for (r = 0; r + 4 < e.length; r += s)
                                                    if (((s = o.getUint32(r)), (r += 4), !(s <= 0)))
                                                        switch (31 & e[r]) {
                                                            case 6:
                                                                var u = e.subarray(r + 1, r + 1 + s),
                                                                    c = ii(r, t);
                                                                if (((n = { nalUnitType: "sei_rbsp", size: s, data: u, escapedRBSP: ei(u), trackId: i }), c)) (n.pts = c.pts), (n.dts = c.dts), (a = c);
                                                                else {
                                                                    if (!a) {
                                                                        console.log("We've encountered a nal unit without data. See mux.js#233.");
                                                                        break;
                                                                    }
                                                                    (n.pts = a.pts), (n.dts = a.dts);
                                                                }
                                                                l.push(n);
                                                        }
                                                return l;
                                            })(
                                                n,
                                                (function (e, t, i) {
                                                    var n = t,
                                                        r = i.defaultSampleDuration || 0,
                                                        s = i.defaultSampleSize || 0,
                                                        a = i.trackId,
                                                        o = [];
                                                    return (
                                                        e.forEach(function (e) {
                                                            var t = Jt(e).samples;
                                                            t.forEach(function (e) {
                                                                void 0 === e.duration && (e.duration = r),
                                                                    void 0 === e.size && (e.size = s),
                                                                    (e.trackId = a),
                                                                    (e.dts = n),
                                                                    void 0 === e.compositionTimeOffset && (e.compositionTimeOffset = 0),
                                                                    (e.pts = n + e.compositionTimeOffset),
                                                                    (n += e.duration);
                                                            }),
                                                                (o = o.concat(t));
                                                        }),
                                                        o
                                                    );
                                                })(d, c, o),
                                                l
                                            )),
                                            r[l] || (r[l] = []),
                                            (r[l] = r[l].concat(i)));
                                    }),
                                    r
                                );
                            },
                            ri = function () {
                                var e,
                                    t,
                                    i,
                                    n,
                                    r,
                                    s,
                                    a = !1;
                                (this.isInitialized = function () {
                                    return a;
                                }),
                                    (this.init = function (t) {
                                        (e = new ti()),
                                            (a = !0),
                                            (s = !!t && t.isPartial),
                                            e.on("data", function (e) {
                                                (e.startTime = e.startPts / n), (e.endTime = e.endPts / n), r.captions.push(e), (r.captionStreams[e.stream] = !0);
                                            });
                                    }),
                                    (this.isNewInit = function (e, t) {
                                        return !((e && 0 === e.length) || (t && "object" == typeof t && 0 === Object.keys(t).length)) && (i !== e[0] || n !== t[i]);
                                    }),
                                    (this.parse = function (e, s, a) {
                                        var o;
                                        if (!this.isInitialized()) return null;
                                        if (!s || !a) return null;
                                        if (this.isNewInit(s, a)) (i = s[0]), (n = a[i]);
                                        else if (null === i || !n) return t.push(e), null;
                                        for (; t.length > 0; ) {
                                            var l = t.shift();
                                            this.parse(l, s, a);
                                        }
                                        return null !==
                                            (o = (function (e, t, i) {
                                                return null === t ? null : { seiNals: ni(e, t)[t], timescale: i };
                                            })(e, i, n)) && o.seiNals
                                            ? (this.pushNals(o.seiNals), this.flushStream(), r)
                                            : null;
                                    }),
                                    (this.pushNals = function (t) {
                                        if (!this.isInitialized() || !t || 0 === t.length) return null;
                                        t.forEach(function (t) {
                                            e.push(t);
                                        });
                                    }),
                                    (this.flushStream = function () {
                                        if (!this.isInitialized()) return null;
                                        s ? e.partialFlush() : e.flush();
                                    }),
                                    (this.clearParsedCaptions = function () {
                                        (r.captions = []), (r.captionStreams = {});
                                    }),
                                    (this.resetCaptionStream = function () {
                                        if (!this.isInitialized()) return null;
                                        e.reset();
                                    }),
                                    (this.clearAllCaptions = function () {
                                        this.clearParsedCaptions(), this.resetCaptionStream();
                                    }),
                                    (this.reset = function () {
                                        (t = []), (i = null), (n = null), r ? this.clearParsedCaptions() : (r = { captions: [], captionStreams: {} }), this.resetCaptionStream();
                                    }),
                                    this.reset();
                            },
                            si = function (e) {
                                return "AudioSegmentStream" === e ? "audio" : "VideoSegmentStream" === e ? "video" : "";
                            },
                            ai = (function () {
                                function t(e, t) {
                                    (this.options = t || {}), (this.self = e), this.init();
                                }
                                var i = t.prototype;
                                return (
                                    (i.init = function () {
                                        this.transmuxer && this.transmuxer.dispose(),
                                            (this.transmuxer = this.options.handlePartialData ? new $t(this.options) : new Dt(this.options)),
                                            this.options.handlePartialData
                                                ? (function (e, t) {
                                                      t.on("data", function (t) {
                                                          var i = { data: t.data.track.initSegment.buffer, byteOffset: t.data.track.initSegment.byteOffset, byteLength: t.data.track.initSegment.byteLength },
                                                              n = { boxes: { data: t.data.boxes.buffer, byteOffset: t.data.boxes.byteOffset, byteLength: t.data.boxes.byteLength }, initSegment: i, type: t.type, sequence: t.data.sequence };
                                                          void 0 !== t.data.videoFrameDts && (n.videoFrameDtsTime = be(t.data.videoFrameDts)),
                                                              void 0 !== t.data.videoFramePts && (n.videoFramePtsTime = be(t.data.videoFramePts)),
                                                              e.postMessage({ action: "data", segment: n }, [n.boxes.data, n.initSegment.data]);
                                                      }),
                                                          t.on("id3Frame", function (t) {
                                                              e.postMessage({ action: "id3Frame", id3Frame: t });
                                                          }),
                                                          t.on("caption", function (t) {
                                                              e.postMessage({ action: "caption", caption: t });
                                                          }),
                                                          t.on("done", function (t) {
                                                              e.postMessage({ action: "done", type: si(t) });
                                                          }),
                                                          t.on("partialdone", function (t) {
                                                              e.postMessage({ action: "partialdone", type: si(t) });
                                                          }),
                                                          t.on("endedsegment", function (t) {
                                                              e.postMessage({ action: "endedSegment", type: si(t) });
                                                          }),
                                                          t.on("trackinfo", function (t) {
                                                              e.postMessage({ action: "trackinfo", trackInfo: t });
                                                          }),
                                                          t.on("audioTimingInfo", function (t) {
                                                              if (null !== t.start) {
                                                                  var i = { start: be(t.start) };
                                                                  t.end && (i.end = be(t.end)), e.postMessage({ action: "audioTimingInfo", audioTimingInfo: i });
                                                              } else e.postMessage({ action: "audioTimingInfo", audioTimingInfo: t });
                                                          }),
                                                          t.on("videoTimingInfo", function (t) {
                                                              var i = { start: be(t.start) };
                                                              t.end && (i.end = be(t.end)), e.postMessage({ action: "videoTimingInfo", videoTimingInfo: i });
                                                          });
                                                  })(this.self, this.transmuxer)
                                                : (function (e, t) {
                                                      t.on("data", function (t) {
                                                          var i = t.initSegment;
                                                          t.initSegment = { data: i.buffer, byteOffset: i.byteOffset, byteLength: i.byteLength };
                                                          var n = t.data;
                                                          (t.data = n.buffer), e.postMessage({ action: "data", segment: t, byteOffset: n.byteOffset, byteLength: n.byteLength }, [t.data]);
                                                      }),
                                                          t.on("done", function () {
                                                              e.postMessage({ action: "done" });
                                                          }),
                                                          t.on("gopInfo", function (t) {
                                                              e.postMessage({ action: "gopInfo", gopInfo: t });
                                                          }),
                                                          t.on("videoSegmentTimingInfo", function (t) {
                                                              var i = {
                                                                  start: { decode: be(t.start.dts), presentation: be(t.start.pts) },
                                                                  end: { decode: be(t.end.dts), presentation: be(t.end.pts) },
                                                                  baseMediaDecodeTime: be(t.baseMediaDecodeTime),
                                                              };
                                                              t.prependedContentDuration && (i.prependedContentDuration = be(t.prependedContentDuration)), e.postMessage({ action: "videoSegmentTimingInfo", videoSegmentTimingInfo: i });
                                                          }),
                                                          t.on("id3Frame", function (t) {
                                                              e.postMessage({ action: "id3Frame", id3Frame: t });
                                                          }),
                                                          t.on("caption", function (t) {
                                                              e.postMessage({ action: "caption", caption: t });
                                                          }),
                                                          t.on("trackinfo", function (t) {
                                                              e.postMessage({ action: "trackinfo", trackInfo: t });
                                                          }),
                                                          t.on("audioTimingInfo", function (t) {
                                                              e.postMessage({ action: "audioTimingInfo", audioTimingInfo: { start: be(t.start), end: be(t.end) } });
                                                          }),
                                                          t.on("videoTimingInfo", function (t) {
                                                              e.postMessage({ action: "videoTimingInfo", videoTimingInfo: { start: be(t.start), end: be(t.end) } });
                                                          });
                                                  })(this.self, this.transmuxer);
                                    }),
                                    (i.pushMp4Captions = function (e) {
                                        this.captionParser || ((this.captionParser = new ri()), this.captionParser.init());
                                        var t = new Uint8Array(e.data, e.byteOffset, e.byteLength),
                                            i = this.captionParser.parse(t, e.trackIds, e.timescales);
                                        this.self.postMessage({ action: "mp4Captions", captions: (i && i.captions) || [], data: t.buffer }, [t.buffer]);
                                    }),
                                    (i.clearAllMp4Captions = function () {
                                        this.captionParser && this.captionParser.clearAllCaptions();
                                    }),
                                    (i.clearParsedMp4Captions = function () {
                                        this.captionParser && this.captionParser.clearParsedCaptions();
                                    }),
                                    (i.push = function (e) {
                                        var t = new Uint8Array(e.data, e.byteOffset, e.byteLength);
                                        this.transmuxer.push(t);
                                    }),
                                    (i.reset = function () {
                                        this.transmuxer.reset();
                                    }),
                                    (i.setTimestampOffset = function (e) {
                                        var t = e.timestampOffset || 0;
                                        this.transmuxer.setBaseMediaDecodeTime(Math.round(_e(t)));
                                    }),
                                    (i.setAudioAppendStart = function (e) {
                                        this.transmuxer.setAudioAppendStart(Math.ceil(_e(e.appendStart)));
                                    }),
                                    (i.setRemux = function (e) {
                                        this.transmuxer.setRemux(e.remux);
                                    }),
                                    (i.flush = function () {
                                        this.transmuxer.flush(), e.postMessage({ action: "done", type: "transmuxed" });
                                    }),
                                    (i.partialFlush = function () {
                                        this.transmuxer.partialFlush(), e.postMessage({ action: "partialdone", type: "transmuxed" });
                                    }),
                                    (i.endTimeline = function () {
                                        this.transmuxer.endTimeline(), e.postMessage({ action: "endedtimeline", type: "transmuxed" });
                                    }),
                                    (i.alignGopsWith = function (e) {
                                        this.transmuxer.alignGopsWith(e.gopsToAlignWith.slice());
                                    }),
                                    t
                                );
                            })();
                        new (function (e) {
                            e.onmessage = function (t) {
                                "init" === t.data.action && t.data.options
                                    ? (this.messageHandlers = new ai(e, t.data.options))
                                    : (this.messageHandlers || (this.messageHandlers = new ai(e)), t.data && t.data.action && "init" !== t.data.action && this.messageHandlers[t.data.action] && this.messageHandlers[t.data.action](t.data));
                            };
                        })(e);
                    })();
                }),
                Ao = function (e, t) {
                    var i = t.attributes || {};
                    return e && e.mediaGroups && e.mediaGroups.AUDIO && i.AUDIO && e.mediaGroups.AUDIO[i.AUDIO];
                },
                Io = function (e, t) {
                    var i = t.attributes || {},
                        n =
                            (function (e) {
                                var t = e.attributes || {};
                                if (t.CODECS) return Object(De.parseCodecs)(t.CODECS);
                            })(t) || {};
                    if (
                        Ao(e, t) &&
                        !n.audio &&
                        !(function (e, t) {
                            if (!Ao(e, t)) return !0;
                            var i = t.attributes || {},
                                n = e.mediaGroups.AUDIO[i.AUDIO];
                            for (var r in n) if (!n[r].uri && !n[r].playlists) return !0;
                            return !1;
                        })(e, t)
                    ) {
                        var r = Object(De.codecsFromDefault)(e, i.AUDIO);
                        r && (n.audio = r.audio);
                    }
                    var s = {};
                    return n.video && (s.video = Object(De.translateLegacyCodec)("" + n.video.type + n.video.details)), n.audio && (s.audio = Object(De.translateLegacyCodec)("" + n.audio.type + n.audio.details)), s;
                },
                Po = function (e) {
                    return qs.log.debug ? qs.log.debug.bind(qs, "VHS:", e + " >") : function () {};
                },
                Oo = Po("PlaylistSelector"),
                Lo = function (e) {
                    if (e && e.playlist) {
                        var t = e.playlist;
                        return JSON.stringify({ id: t.id, bandwidth: e.bandwidth, width: e.width, height: e.height, codecs: (t.attributes && t.attributes.CODECS) || "" });
                    }
                },
                Do = function (e, t) {
                    if (!e) return "";
                    var i = r.a.getComputedStyle(e);
                    return i ? i[t] : "";
                },
                Ro = function (e, t) {
                    var i = e.slice();
                    e.sort(function (e, n) {
                        var r = t(e, n);
                        return 0 === r ? i.indexOf(e) - i.indexOf(n) : r;
                    });
                },
                Mo = function (e, t) {
                    var i, n;
                    return e.attributes.BANDWIDTH && (i = e.attributes.BANDWIDTH), (i = i || r.a.Number.MAX_VALUE), t.attributes.BANDWIDTH && (n = t.attributes.BANDWIDTH), i - (n = n || r.a.Number.MAX_VALUE);
                },
                No = function (e) {
                    var t = e.inbandTextTracks,
                        i = e.metadataArray,
                        n = e.timestampOffset,
                        s = e.videoDuration;
                    if (i) {
                        var a = r.a.WebKitDataCue || r.a.VTTCue,
                            o = t.metadataTrack_;
                        if (
                            o &&
                            (i.forEach(function (e) {
                                var t = e.cueTime + n;
                                !("number" != typeof t || r.a.isNaN(t) || t < 0) &&
                                    t < 1 / 0 &&
                                    e.frames.forEach(function (e) {
                                        var i = new a(t, t, e.value || e.url || e.data || "");
                                        (i.frame = e),
                                            (i.value = e),
                                            (function (e) {
                                                Object.defineProperties(e.frame, {
                                                    id: {
                                                        get: function () {
                                                            return qs.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."), e.value.key;
                                                        },
                                                    },
                                                    value: {
                                                        get: function () {
                                                            return qs.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."), e.value.data;
                                                        },
                                                    },
                                                    privateData: {
                                                        get: function () {
                                                            return qs.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."), e.value.data;
                                                        },
                                                    },
                                                });
                                            })(i),
                                            o.addCue(i);
                                    });
                            }),
                            o.cues && o.cues.length)
                        ) {
                            for (var l = o.cues, u = [], c = 0; c < l.length; c++) l[c] && u.push(l[c]);
                            var d = u.reduce(function (e, t) {
                                    var i = e[t.startTime] || [];
                                    return i.push(t), (e[t.startTime] = i), e;
                                }, {}),
                                h = Object.keys(d).sort(function (e, t) {
                                    return Number(e) - Number(t);
                                });
                            h.forEach(function (e, t) {
                                var i = d[e],
                                    n = Number(h[t + 1]) || s;
                                i.forEach(function (e) {
                                    e.endTime = n;
                                });
                            });
                        }
                    }
                },
                Uo = function (e, t, i) {
                    var n, r;
                    if (i && i.cues) for (n = i.cues.length; n--; ) (r = i.cues[n]).startTime >= e && r.endTime <= t && i.removeCue(r);
                },
                jo = function (e) {
                    return "number" == typeof e && isFinite(e);
                },
                Bo = function (e) {
                    return e + "TimingInfo";
                },
                Fo = function (e) {
                    var t = e.segmentTimeline,
                        i = e.currentTimeline,
                        n = e.startOfSegment,
                        r = e.buffered;
                    return e.overrideCheck || t !== i ? (r.length ? r.end(r.length - 1) : n) : null;
                },
                Ho = function (e) {
                    var t = e.timelineChangeController,
                        i = e.currentTimeline,
                        n = e.segmentTimeline,
                        r = e.loaderType,
                        s = e.audioDisabled;
                    if (i === n) return !1;
                    if ("audio" === r) {
                        var a = t.lastTimelineChange({ type: "main" });
                        return !a || a.to !== n;
                    }
                    if ("main" === r && s) {
                        var o = t.pendingTimelineChange({ type: "audio" });
                        return !o || o.to !== n;
                    }
                    return !1;
                },
                qo = (function (e) {
                    function t(t) {
                        var i;
                        if (((i = e.call(this) || this), !t)) throw new TypeError("Initialization settings are required");
                        if ("function" != typeof t.currentTime) throw new TypeError("No currentTime getter specified");
                        if (!t.mediaSource) throw new TypeError("No MediaSource specified");
                        return (
                            (i.bandwidth = t.bandwidth),
                            (i.throughput = { rate: 0, count: 0 }),
                            (i.roundTrip = NaN),
                            i.resetStats_(),
                            (i.mediaIndex = null),
                            (i.hasPlayed_ = t.hasPlayed),
                            (i.currentTime_ = t.currentTime),
                            (i.seekable_ = t.seekable),
                            (i.seeking_ = t.seeking),
                            (i.duration_ = t.duration),
                            (i.mediaSource_ = t.mediaSource),
                            (i.vhs_ = t.vhs),
                            (i.loaderType_ = t.loaderType),
                            (i.currentMediaInfo_ = void 0),
                            (i.startingMediaInfo_ = void 0),
                            (i.segmentMetadataTrack_ = t.segmentMetadataTrack),
                            (i.goalBufferLength_ = t.goalBufferLength),
                            (i.sourceType_ = t.sourceType),
                            (i.sourceUpdater_ = t.sourceUpdater),
                            (i.inbandTextTracks_ = t.inbandTextTracks),
                            (i.state_ = "INIT"),
                            (i.handlePartialData_ = t.handlePartialData),
                            (i.timelineChangeController_ = t.timelineChangeController),
                            (i.shouldSaveSegmentTimingInfo_ = !0),
                            (i.checkBufferTimeout_ = null),
                            (i.error_ = void 0),
                            (i.currentTimeline_ = -1),
                            (i.pendingSegment_ = null),
                            (i.xhrOptions_ = null),
                            (i.pendingSegments_ = []),
                            (i.audioDisabled_ = !1),
                            (i.isPendingTimestampOffset_ = !1),
                            (i.gopBuffer_ = []),
                            (i.timeMapping_ = 0),
                            (i.safeAppend_ = qs.browser.IE_VERSION >= 11),
                            (i.appendInitSegment_ = { audio: !0, video: !0 }),
                            (i.playlistOfLastInitSegment_ = { audio: null, video: null }),
                            (i.callQueue_ = []),
                            (i.loadQueue_ = []),
                            (i.metadataQueue_ = { id3: [], caption: [] }),
                            (i.activeInitSegmentId_ = null),
                            (i.initSegments_ = {}),
                            (i.cacheEncryptionKeys_ = t.cacheEncryptionKeys),
                            (i.keyCache_ = {}),
                            (i.decrypter_ = t.decrypter),
                            (i.syncController_ = t.syncController),
                            (i.syncPoint_ = { segmentIndex: 0, time: 0 }),
                            (i.transmuxer_ = i.createTransmuxer_()),
                            (i.triggerSyncInfoUpdate_ = function () {
                                return i.trigger("syncinfoupdate");
                            }),
                            i.syncController_.on("syncinfoupdate", i.triggerSyncInfoUpdate_),
                            i.mediaSource_.addEventListener("sourceopen", function () {
                                i.isEndOfStream_() || (i.ended_ = !1);
                            }),
                            (i.fetchAtBuffer_ = !1),
                            (i.logger_ = Po("SegmentLoader[" + i.loaderType_ + "]")),
                            Object.defineProperty(c()(i), "state", {
                                get: function () {
                                    return this.state_;
                                },
                                set: function (e) {
                                    e !== this.state_ && (this.logger_(this.state_ + " -> " + e), (this.state_ = e), this.trigger("statechange"));
                                },
                            }),
                            i.sourceUpdater_.on("ready", function () {
                                i.hasEnoughInfoToAppend_() && i.processCallQueue_();
                            }),
                            "main" === i.loaderType_ &&
                                i.timelineChangeController_.on("pendingtimelinechange", function () {
                                    i.hasEnoughInfoToAppend_() && i.processCallQueue_();
                                }),
                            "audio" === i.loaderType_ &&
                                i.timelineChangeController_.on("timelinechange", function () {
                                    i.hasEnoughInfoToLoad_() && i.processLoadQueue_(), i.hasEnoughInfoToAppend_() && i.processCallQueue_();
                                }),
                            i
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.createTransmuxer_ = function () {
                            var e = new xo();
                            return e.postMessage({ action: "init", options: { remux: !1, alignGopsAtEnd: this.safeAppend_, keepOriginalTimestamps: !0, handlePartialData: this.handlePartialData_ } }), e;
                        }),
                        (i.resetStats_ = function () {
                            (this.mediaBytesTransferred = 0),
                                (this.mediaRequests = 0),
                                (this.mediaRequestsAborted = 0),
                                (this.mediaRequestsTimedout = 0),
                                (this.mediaRequestsErrored = 0),
                                (this.mediaTransferDuration = 0),
                                (this.mediaSecondsLoaded = 0);
                        }),
                        (i.dispose = function () {
                            this.trigger("dispose"),
                                (this.state = "DISPOSED"),
                                this.pause(),
                                this.abort_(),
                                this.transmuxer_ && (this.transmuxer_.terminate(), ro()),
                                this.resetStats_(),
                                this.checkBufferTimeout_ && r.a.clearTimeout(this.checkBufferTimeout_),
                                this.syncController_ && this.triggerSyncInfoUpdate_ && this.syncController_.off("syncinfoupdate", this.triggerSyncInfoUpdate_),
                                this.off();
                        }),
                        (i.setAudio = function (e) {
                            (this.audioDisabled_ = !e), e ? (this.appendInitSegment_.audio = !0) : this.sourceUpdater_.removeAudio(0, this.duration_());
                        }),
                        (i.abort = function () {
                            "WAITING" === this.state ? (this.abort_(), (this.state = "READY"), this.paused() || this.monitorBuffer_()) : this.pendingSegment_ && (this.pendingSegment_ = null);
                        }),
                        (i.abort_ = function () {
                            this.pendingSegment_ && this.pendingSegment_.abortRequests && this.pendingSegment_.abortRequests(),
                                (this.pendingSegment_ = null),
                                (this.callQueue_ = []),
                                (this.loadQueue_ = []),
                                (this.metadataQueue_.id3 = []),
                                (this.metadataQueue_.caption = []),
                                this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);
                        }),
                        (i.checkForAbort_ = function (e) {
                            return "APPENDING" !== this.state || this.pendingSegment_ ? !this.pendingSegment_ || this.pendingSegment_.requestId !== e : ((this.state = "READY"), !0);
                        }),
                        (i.error = function (e) {
                            return void 0 !== e && (this.logger_("error occurred:", e), (this.error_ = e)), (this.pendingSegment_ = null), this.error_;
                        }),
                        (i.endOfStream = function () {
                            (this.ended_ = !0), this.transmuxer_ && no(this.transmuxer_), (this.gopBuffer_.length = 0), this.pause(), this.trigger("ended");
                        }),
                        (i.buffered_ = function () {
                            if (!this.sourceUpdater_ || !this.startingMediaInfo_) return qs.createTimeRanges();
                            if ("main" === this.loaderType_) {
                                var e = this.startingMediaInfo_,
                                    t = e.hasAudio,
                                    i = e.hasVideo,
                                    n = e.isMuxed;
                                if (i && t && !this.audioDisabled_ && !n) return this.sourceUpdater_.buffered();
                                if (i) return this.sourceUpdater_.videoBuffered();
                            }
                            return this.sourceUpdater_.audioBuffered();
                        }),
                        (i.initSegmentForMap = function (e, t) {
                            if ((void 0 === t && (t = !1), !e)) return null;
                            var i = Ra(e),
                                n = this.initSegments_[i];
                            return t && !n && e.bytes && (this.initSegments_[i] = n = { resolvedUri: e.resolvedUri, byterange: e.byterange, bytes: e.bytes, tracks: e.tracks, timescales: e.timescales }), n || e;
                        }),
                        (i.segmentKey = function (e, t) {
                            if ((void 0 === t && (t = !1), !e)) return null;
                            var i = Ma(e),
                                n = this.keyCache_[i];
                            this.cacheEncryptionKeys_ && t && !n && e.bytes && (this.keyCache_[i] = n = { resolvedUri: e.resolvedUri, bytes: e.bytes });
                            var r = { resolvedUri: (n || e).resolvedUri };
                            return n && (r.bytes = n.bytes), r;
                        }),
                        (i.couldBeginLoading_ = function () {
                            return this.playlist_ && !this.paused();
                        }),
                        (i.load = function () {
                            if ((this.monitorBuffer_(), this.playlist_)) {
                                if ((this.syncController_.setDateTimeMapping(this.playlist_), "INIT" === this.state && this.couldBeginLoading_())) return this.init_();
                                !this.couldBeginLoading_() || ("READY" !== this.state && "INIT" !== this.state) || (this.state = "READY");
                            }
                        }),
                        (i.init_ = function () {
                            return (this.state = "READY"), this.resetEverything(), this.monitorBuffer_();
                        }),
                        (i.playlist = function (e, t) {
                            if ((void 0 === t && (t = {}), e)) {
                                var i = this.playlist_,
                                    n = this.pendingSegment_;
                                (this.playlist_ = e), (this.xhrOptions_ = t), "INIT" === this.state && (e.syncInfo = { mediaSequence: e.mediaSequence, time: 0 });
                                var r = null;
                                if (
                                    (i && (i.id ? (r = i.id) : i.uri && (r = i.uri)),
                                    this.logger_("playlist update [" + r + " => " + (e.id || e.uri) + "]"),
                                    this.trigger("syncinfoupdate"),
                                    "INIT" === this.state && this.couldBeginLoading_())
                                )
                                    return this.init_();
                                if (!i || i.uri !== e.uri) return (null !== this.mediaIndex || this.handlePartialData_) && this.resyncLoader(), (this.currentMediaInfo_ = void 0), void this.trigger("playlistupdate");
                                var s = e.mediaSequence - i.mediaSequence;
                                this.logger_("live window shift [" + s + "]"),
                                    null !== this.mediaIndex && (this.mediaIndex -= s),
                                    n && ((n.mediaIndex -= s), n.mediaIndex >= 0 && (n.segment = e.segments[n.mediaIndex])),
                                    this.syncController_.saveExpiredSegmentInfo(i, e);
                            }
                        }),
                        (i.pause = function () {
                            this.checkBufferTimeout_ && (r.a.clearTimeout(this.checkBufferTimeout_), (this.checkBufferTimeout_ = null));
                        }),
                        (i.paused = function () {
                            return null === this.checkBufferTimeout_;
                        }),
                        (i.resetEverything = function (e) {
                            (this.ended_ = !1), (this.appendInitSegment_ = { audio: !0, video: !0 }), this.resetLoader(), this.remove(0, 1 / 0, e), this.transmuxer_ && this.transmuxer_.postMessage({ action: "clearAllMp4Captions" });
                        }),
                        (i.resetLoader = function () {
                            (this.fetchAtBuffer_ = !1), this.resyncLoader();
                        }),
                        (i.resyncLoader = function () {
                            this.transmuxer_ && no(this.transmuxer_),
                                (this.mediaIndex = null),
                                (this.syncPoint_ = null),
                                (this.isPendingTimestampOffset_ = !1),
                                (this.callQueue_ = []),
                                (this.loadQueue_ = []),
                                (this.metadataQueue_.id3 = []),
                                (this.metadataQueue_.caption = []),
                                this.abort(),
                                this.transmuxer_ && this.transmuxer_.postMessage({ action: "clearParsedMp4Captions" });
                        }),
                        (i.remove = function (e, t, i) {
                            if ((void 0 === i && (i = function () {}), t === 1 / 0 && (t = this.duration_()), this.sourceUpdater_ && this.currentMediaInfo_)) {
                                var n = 1,
                                    r = function () {
                                        0 === --n && i();
                                    };
                                for (var s in (this.audioDisabled_ || (n++, this.sourceUpdater_.removeAudio(e, t, r)),
                                "main" === this.loaderType_ &&
                                    this.currentMediaInfo_ &&
                                    this.currentMediaInfo_.hasVideo &&
                                    ((this.gopBuffer_ = (function (e, t, i, n) {
                                        for (var r = Math.ceil((t - n) * Pe.ONE_SECOND_IN_TS), s = Math.ceil((i - n) * Pe.ONE_SECOND_IN_TS), a = e.slice(), o = e.length; o-- && !(e[o].pts <= s); );
                                        if (-1 === o) return a;
                                        for (var l = o + 1; l-- && !(e[l].pts <= r); );
                                        return (l = Math.max(l, 0)), a.splice(l, o - l + 1), a;
                                    })(this.gopBuffer_, e, t, this.timeMapping_)),
                                    n++,
                                    this.sourceUpdater_.removeVideo(e, t, r)),
                                this.inbandTextTracks_))
                                    Uo(e, t, this.inbandTextTracks_[s]);
                                Uo(e, t, this.segmentMetadataTrack_), r();
                            }
                        }),
                        (i.monitorBuffer_ = function () {
                            this.checkBufferTimeout_ && r.a.clearTimeout(this.checkBufferTimeout_), (this.checkBufferTimeout_ = r.a.setTimeout(this.monitorBufferTick_.bind(this), 1));
                        }),
                        (i.monitorBufferTick_ = function () {
                            "READY" === this.state && this.fillBuffer_(), this.checkBufferTimeout_ && r.a.clearTimeout(this.checkBufferTimeout_), (this.checkBufferTimeout_ = r.a.setTimeout(this.monitorBufferTick_.bind(this), 500));
                        }),
                        (i.fillBuffer_ = function () {
                            if (!this.sourceUpdater_.updating()) {
                                this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                                var e = this.buffered_(),
                                    t = this.checkBuffer_(e, this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                                t &&
                                    ((t.timestampOffset = Fo({ segmentTimeline: t.timeline, currentTimeline: this.currentTimeline_, startOfSegment: t.startOfSegment, buffered: e, overrideCheck: this.isPendingTimestampOffset_ })),
                                    (this.isPendingTimestampOffset_ = !1),
                                    "number" == typeof t.timestampOffset && this.timelineChangeController_.pendingTimelineChange({ type: this.loaderType_, from: this.currentTimeline_, to: t.timeline }),
                                    this.loadSegment_(t));
                            }
                        }),
                        (i.isEndOfStream_ = function (e, t) {
                            if ((void 0 === e && (e = this.mediaIndex), void 0 === t && (t = this.playlist_), !t || !this.mediaSource_)) return !1;
                            var i = e + 1 === t.segments.length;
                            return t.endList && "open" === this.mediaSource_.readyState && i;
                        }),
                        (i.checkBuffer_ = function (e, t, i, n, r, s) {
                            var a = 0;
                            e.length && (a = e.end(e.length - 1));
                            var o = Math.max(0, a - r);
                            if (!t.segments.length) return null;
                            if (o >= this.goalBufferLength_()) return null;
                            if (!n && o >= 1) return null;
                            var l,
                                u = null,
                                c = !1;
                            if (null === s) (u = this.getSyncSegmentCandidate_(t)), (c = !0);
                            else if (null !== i) {
                                var d = t.segments[i];
                                (l = d && d.end ? d.end : a), (u = i + 1);
                            } else if (this.fetchAtBuffer_) {
                                var h = ka.getMediaInfoForTime(t, a, s.segmentIndex, s.time);
                                (u = h.mediaIndex), (l = h.startTime);
                            } else {
                                var p = ka.getMediaInfoForTime(t, r, s.segmentIndex, s.time);
                                (u = p.mediaIndex), (l = p.startTime);
                            }
                            var f = this.generateSegmentInfo_(t, u, l, c);
                            return !f || (this.mediaSource_ && this.playlist_ && f.mediaIndex === this.playlist_.segments.length - 1 && "ended" === this.mediaSource_.readyState && !this.seeking_())
                                ? void 0
                                : (this.logger_("checkBuffer_ returning " + f.uri, { segmentInfo: f, playlist: t, currentMediaIndex: i, nextMediaIndex: u, startOfSegment: l, isSyncRequest: c }), f);
                        }),
                        (i.getSyncSegmentCandidate_ = function (e) {
                            var t = this;
                            if (-1 === this.currentTimeline_) return 0;
                            var i = e.segments
                                .map(function (e, t) {
                                    return { timeline: e.timeline, segmentIndex: t };
                                })
                                .filter(function (e) {
                                    return e.timeline === t.currentTimeline_;
                                });
                            return i.length ? i[Math.min(i.length - 1, 1)].segmentIndex : Math.max(e.segments.length - 1, 0);
                        }),
                        (i.generateSegmentInfo_ = function (e, t, i, n) {
                            if (t < 0 || t >= e.segments.length) return null;
                            var r,
                                s,
                                a = e.segments[t],
                                o = this.sourceUpdater_.audioBuffered(),
                                l = this.sourceUpdater_.videoBuffered();
                            return (
                                o.length && (r = o.end(o.length - 1) - this.sourceUpdater_.audioTimestampOffset()),
                                l.length &&
                                    (s = (function (e, t, i) {
                                        if (null == t || !e.length) return [];
                                        var n,
                                            r = Math.ceil((t - i + 3) * Pe.ONE_SECOND_IN_TS);
                                        for (n = 0; n < e.length && !(e[n].pts > r); n++);
                                        return e.slice(n);
                                    })(this.gopBuffer_, this.currentTime_() - this.sourceUpdater_.videoTimestampOffset(), this.timeMapping_)),
                                {
                                    requestId: "segment-loader-" + Math.random(),
                                    uri: a.resolvedUri,
                                    mediaIndex: t,
                                    isSyncRequest: n,
                                    startOfSegment: i,
                                    playlist: e,
                                    bytes: null,
                                    encryptedBytes: null,
                                    timestampOffset: null,
                                    timeline: a.timeline,
                                    duration: a.duration,
                                    segment: a,
                                    byteLength: 0,
                                    transmuxer: this.transmuxer_,
                                    audioAppendStart: r,
                                    gopsToAlignWith: s,
                                }
                            );
                        }),
                        (i.abortRequestEarly_ = function (e) {
                            if (this.vhs_.tech_.paused() || !this.xhrOptions_.timeout || !this.playlist_.attributes.BANDWIDTH) return !1;
                            if (Date.now() - (e.firstBytesReceivedAt || Date.now()) < 1e3) return !1;
                            var t = this.currentTime_(),
                                i = e.bandwidth,
                                n = this.pendingSegment_.duration,
                                r = ka.estimateSegmentRequestTime(n, i, this.playlist_, e.bytesReceived),
                                s =
                                    (function (e, t, i) {
                                        return void 0 === i && (i = 1), ((e.length ? e.end(e.length - 1) : 0) - t) / i;
                                    })(this.buffered_(), t, this.vhs_.tech_.playbackRate()) - 1;
                            if (r <= s) return !1;
                            var a = (function (e) {
                                var t = e.master,
                                    i = e.currentTime,
                                    n = e.bandwidth,
                                    r = e.duration,
                                    s = e.segmentDuration,
                                    a = e.timeUntilRebuffer,
                                    o = e.currentTimeline,
                                    l = e.syncController,
                                    u = t.playlists.filter(function (e) {
                                        return !ka.isIncompatible(e);
                                    }),
                                    c = u.filter(ka.isEnabled);
                                c.length ||
                                    (c = u.filter(function (e) {
                                        return !ka.isDisabled(e);
                                    }));
                                var d = c.filter(ka.hasAttribute.bind(null, "BANDWIDTH")).map(function (e) {
                                        var t = l.getSyncPoint(e, r, o, i) ? 1 : 2;
                                        return { playlist: e, rebufferingImpact: ka.estimateSegmentRequestTime(s, n, e) * t - a };
                                    }),
                                    h = d.filter(function (e) {
                                        return e.rebufferingImpact <= 0;
                                    });
                                return (
                                    Ro(h, function (e, t) {
                                        return Mo(t.playlist, e.playlist);
                                    }),
                                    h.length
                                        ? h[0]
                                        : (Ro(d, function (e, t) {
                                              return e.rebufferingImpact - t.rebufferingImpact;
                                          }),
                                          d[0] || null)
                                );
                            })({
                                master: this.vhs_.playlists.master,
                                currentTime: t,
                                bandwidth: i,
                                duration: this.duration_(),
                                segmentDuration: n,
                                timeUntilRebuffer: s,
                                currentTimeline: this.currentTimeline_,
                                syncController: this.syncController_,
                            });
                            if (a) {
                                var o = r - s - a.rebufferingImpact,
                                    l = 0.5;
                                return (
                                    s <= aa && (l = 1),
                                    !a.playlist || a.playlist.uri === this.playlist_.uri || o < l ? !1 : ((this.bandwidth = a.playlist.attributes.BANDWIDTH * Xa.BANDWIDTH_VARIANCE + 1), this.abort(), this.trigger("earlyabort"), !0)
                                );
                            }
                        }),
                        (i.handleAbort_ = function () {
                            this.mediaRequestsAborted += 1;
                        }),
                        (i.handleProgress_ = function (e, t) {
                            this.checkForAbort_(t.requestId) || this.abortRequestEarly_(t.stats) || this.trigger("progress");
                        }),
                        (i.handleTrackInfo_ = function (e, t) {
                            this.checkForAbort_(e.requestId) ||
                                this.abortRequestEarly_(e.stats) ||
                                this.checkForIllegalMediaSwitch(t) ||
                                ((t = t || {}),
                                (function (e, t) {
                                    if ((!e && !t) || (!e && t) || (e && !t)) return !1;
                                    if (e === t) return !0;
                                    var i = Object.keys(e).sort(),
                                        n = Object.keys(t).sort();
                                    if (i.length !== n.length) return !1;
                                    for (var r = 0; r < i.length; r++) {
                                        var s = i[r];
                                        if (s !== n[r]) return !1;
                                        if (e[s] !== t[s]) return !1;
                                    }
                                    return !0;
                                })(this.currentMediaInfo_, t) ||
                                    ((this.appendInitSegment_ = { audio: !0, video: !0 }), (this.startingMediaInfo_ = t), (this.currentMediaInfo_ = t), this.logger_("trackinfo update", t), this.trigger("trackinfo")),
                                this.checkForAbort_(e.requestId) || this.abortRequestEarly_(e.stats) || ((this.pendingSegment_.trackInfo = t), this.hasEnoughInfoToAppend_() && this.processCallQueue_()));
                        }),
                        (i.handleTimingInfo_ = function (e, t, i, n) {
                            if (!this.checkForAbort_(e.requestId) && !this.abortRequestEarly_(e.stats)) {
                                var r = this.pendingSegment_,
                                    s = Bo(t);
                                (r[s] = r[s] || {}), (r[s][i] = n), this.logger_("timinginfo: " + t + " - " + i + " - " + n), this.hasEnoughInfoToAppend_() && this.processCallQueue_();
                            }
                        }),
                        (i.handleCaptions_ = function (e, t) {
                            var i = this;
                            if (!this.checkForAbort_(e.requestId) && !this.abortRequestEarly_(e.stats))
                                if (0 !== t.length)
                                    if (this.pendingSegment_.hasAppendedData_) {
                                        var n = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset(),
                                            s = {};
                                        t.forEach(function (e) {
                                            s[e.stream] = s[e.stream] || { startTime: 1 / 0, captions: [], endTime: 0 };
                                            var t = s[e.stream];
                                            (t.startTime = Math.min(t.startTime, e.startTime + n)), (t.endTime = Math.max(t.endTime, e.endTime + n)), t.captions.push(e);
                                        }),
                                            Object.keys(s).forEach(function (e) {
                                                var t = s[e],
                                                    a = t.startTime,
                                                    o = t.endTime,
                                                    l = t.captions,
                                                    u = i.inbandTextTracks_;
                                                i.logger_("adding cues from " + a + " -> " + o + " for " + e),
                                                    (function (e, t, i) {
                                                        if (!e[i]) {
                                                            t.trigger({ type: "usage", name: "vhs-608" }), t.trigger({ type: "usage", name: "hls-608" });
                                                            var n = t.textTracks().getTrackById(i);
                                                            e[i] = n || t.addRemoteTextTrack({ kind: "captions", id: i, label: i }, !1).track;
                                                        }
                                                    })(u, i.vhs_.tech_, e),
                                                    Uo(a, o, u[e]),
                                                    (function (e) {
                                                        var t = e.inbandTextTracks,
                                                            i = e.captionArray,
                                                            n = e.timestampOffset;
                                                        if (i) {
                                                            var s = r.a.WebKitDataCue || r.a.VTTCue;
                                                            i.forEach(function (e) {
                                                                var i = e.stream;
                                                                t[i].addCue(new s(e.startTime + n, e.endTime + n, e.text));
                                                            });
                                                        }
                                                    })({ captionArray: l, inbandTextTracks: u, timestampOffset: n });
                                            }),
                                            this.transmuxer_ && this.transmuxer_.postMessage({ action: "clearParsedMp4Captions" });
                                    } else this.metadataQueue_.caption.push(this.handleCaptions_.bind(this, e, t));
                                else this.logger_("SegmentLoader received no captions from a caption event");
                        }),
                        (i.handleId3_ = function (e, t, i) {
                            if (!this.checkForAbort_(e.requestId) && !this.abortRequestEarly_(e.stats))
                                if (this.pendingSegment_.hasAppendedData_) {
                                    var n = null === this.sourceUpdater_.videoTimestampOffset() ? this.sourceUpdater_.audioTimestampOffset() : this.sourceUpdater_.videoTimestampOffset();
                                    !(function (e, t, i) {
                                        e.metadataTrack_ || ((e.metadataTrack_ = i.addRemoteTextTrack({ kind: "metadata", label: "Timed Metadata" }, !1).track), (e.metadataTrack_.inBandMetadataTrackDispatchType = t));
                                    })(this.inbandTextTracks_, i, this.vhs_.tech_),
                                        No({ inbandTextTracks: this.inbandTextTracks_, metadataArray: t, timestampOffset: n, videoDuration: this.duration_() });
                                } else this.metadataQueue_.id3.push(this.handleId3_.bind(this, e, t, i));
                        }),
                        (i.processMetadataQueue_ = function () {
                            this.metadataQueue_.id3.forEach(function (e) {
                                return e();
                            }),
                                this.metadataQueue_.caption.forEach(function (e) {
                                    return e();
                                }),
                                (this.metadataQueue_.id3 = []),
                                (this.metadataQueue_.caption = []);
                        }),
                        (i.processCallQueue_ = function () {
                            var e = this.callQueue_;
                            (this.callQueue_ = []),
                                e.forEach(function (e) {
                                    return e();
                                });
                        }),
                        (i.processLoadQueue_ = function () {
                            var e = this.loadQueue_;
                            (this.loadQueue_ = []),
                                e.forEach(function (e) {
                                    return e();
                                });
                        }),
                        (i.hasEnoughInfoToLoad_ = function () {
                            if ("audio" !== this.loaderType_) return !0;
                            var e = this.pendingSegment_;
                            return (
                                !!e &&
                                (!this.currentMediaInfo_ ||
                                    !Ho({ timelineChangeController: this.timelineChangeController_, currentTimeline: this.currentTimeline_, segmentTimeline: e.timeline, loaderType: this.loaderType_, audioDisabled: this.audioDisabled_ }))
                            );
                        }),
                        (i.hasEnoughInfoToAppend_ = function () {
                            if (!this.sourceUpdater_.ready()) return !1;
                            var e = this.pendingSegment_;
                            if (!e || !e.trackInfo) return !1;
                            if (!this.handlePartialData_) {
                                var t = this.currentMediaInfo_,
                                    i = t.hasAudio,
                                    n = t.hasVideo,
                                    r = t.isMuxed;
                                if (n && !e.videoTimingInfo) return !1;
                                if (i && !this.audioDisabled_ && !r && !e.audioTimingInfo) return !1;
                            }
                            return !Ho({ timelineChangeController: this.timelineChangeController_, currentTimeline: this.currentTimeline_, segmentTimeline: e.timeline, loaderType: this.loaderType_, audioDisabled: this.audioDisabled_ });
                        }),
                        (i.handleData_ = function (e, t) {
                            if (!this.checkForAbort_(e.requestId) && !this.abortRequestEarly_(e.stats))
                                if (!this.callQueue_.length && this.hasEnoughInfoToAppend_()) {
                                    var i = this.pendingSegment_;
                                    if ((this.setTimeMapping_(i.timeline), this.updateMediaSecondsLoaded_(i.segment), "closed" !== this.mediaSource_.readyState)) {
                                        if ((e.map && ((e.map = this.initSegmentForMap(e.map, !0)), (i.segment.map = e.map)), e.key && this.segmentKey(e.key, !0), (i.isFmp4 = e.isFmp4), (i.timingInfo = i.timingInfo || {}), i.isFmp4))
                                            this.trigger("fmp4"), (i.timingInfo.start = i[Bo(t.type)].start);
                                        else {
                                            var n,
                                                r = "main" === this.loaderType_ && this.currentMediaInfo_.hasVideo;
                                            r && (n = this.handlePartialData_ ? t.videoFramePtsTime : i.videoTimingInfo.start),
                                                (i.timingInfo.start = this.trueSegmentStart_({
                                                    currentStart: i.timingInfo.start,
                                                    playlist: i.playlist,
                                                    mediaIndex: i.mediaIndex,
                                                    currentVideoTimestampOffset: this.sourceUpdater_.videoTimestampOffset(),
                                                    useVideoTimingInfo: r,
                                                    firstVideoFrameTimeForData: n,
                                                    videoTimingInfo: i.videoTimingInfo,
                                                    audioTimingInfo: i.audioTimingInfo,
                                                }));
                                        }
                                        this.updateAppendInitSegmentStatus(i, t.type), this.updateSourceBufferTimestampOffset_(i), (i.hasAppendedData_ = !0), this.processMetadataQueue_(), this.appendData_(i, t);
                                    }
                                } else this.callQueue_.push(this.handleData_.bind(this, e, t));
                        }),
                        (i.updateAppendInitSegmentStatus = function (e, t) {
                            "main" !== this.loaderType_ || "number" != typeof e.timestampOffset || e.changedTimestampOffset || (this.appendInitSegment_ = { audio: !0, video: !0 }),
                                this.playlistOfLastInitSegment_[t] !== e.playlist && (this.appendInitSegment_[t] = !0);
                        }),
                        (i.getInitSegmentAndUpdateState_ = function (e) {
                            var t = e.type,
                                i = e.initSegment,
                                n = e.map,
                                r = e.playlist;
                            if (n) {
                                var s = Ra(n);
                                if (this.activeInitSegmentId_ === s) return null;
                                (i = this.initSegmentForMap(n, !0).bytes), (this.activeInitSegmentId_ = s);
                            }
                            return i && this.appendInitSegment_[t] ? ((this.playlistOfLastInitSegment_[t] = r), (this.appendInitSegment_[t] = !!n), (this.activeInitSegmentId_ = null), i) : null;
                        }),
                        (i.appendToSourceBuffer_ = function (e) {
                            var t = this,
                                i = e.segmentInfo,
                                n = e.type,
                                r = e.initSegment,
                                s = e.data,
                                a = [s],
                                o = s.byteLength;
                            r && (a.unshift(r), (o += r.byteLength));
                            var l,
                                u,
                                c,
                                d =
                                    ((c = 0),
                                    (l = { bytes: o, segments: a }).bytes &&
                                        ((u = new Uint8Array(l.bytes)),
                                        l.segments.forEach(function (e) {
                                            u.set(e, c), (c += e.byteLength);
                                        })),
                                    u);
                            this.sourceUpdater_.appendBuffer({ segmentInfo: i, type: n, bytes: d }, function (e) {
                                e && (t.error(n + " append of " + d.length + "b failed for segment #" + i.mediaIndex + " in playlist " + i.playlist.id), t.trigger("appenderror"));
                            });
                        }),
                        (i.handleVideoSegmentTimingInfo_ = function (e, t) {
                            if (this.pendingSegment_ && e === this.pendingSegment_.requestId) {
                                var i = this.pendingSegment_.segment;
                                i.videoTimingInfo || (i.videoTimingInfo = {}),
                                    (i.videoTimingInfo.transmuxerPrependedSeconds = t.prependedContentDuration || 0),
                                    (i.videoTimingInfo.transmuxedPresentationStart = t.start.presentation),
                                    (i.videoTimingInfo.transmuxedPresentationEnd = t.end.presentation),
                                    (i.videoTimingInfo.baseMediaDecodeTime = t.baseMediaDecodeTime);
                            }
                        }),
                        (i.appendData_ = function (e, t) {
                            var i = t.type,
                                n = t.data;
                            if (n && n.byteLength && ("audio" !== i || !this.audioDisabled_)) {
                                var r = this.getInitSegmentAndUpdateState_({ type: i, initSegment: t.initSegment, playlist: e.playlist, map: e.isFmp4 ? e.segment.map : null });
                                this.appendToSourceBuffer_({ segmentInfo: e, type: i, initSegment: r, data: n });
                            }
                        }),
                        (i.loadSegment_ = function (e) {
                            var t = this;
                            (this.state = "WAITING"),
                                (this.pendingSegment_ = e),
                                this.trimBackBuffer_(e),
                                "number" == typeof e.timestampOffset && this.transmuxer_ && this.transmuxer_.postMessage({ action: "clearAllMp4Captions" }),
                                this.hasEnoughInfoToLoad_()
                                    ? this.updateTransmuxerAndRequestSegment_(e)
                                    : this.loadQueue_.push(function () {
                                          var i = t.buffered_();
                                          "number" == typeof e.timestampOffset &&
                                              (e.timestampOffset = Fo({ segmentTimeline: e.timeline, currentTimeline: t.currentTimeline_, startOfSegment: e.startOfSegment, buffered: i, overrideCheck: !0 })),
                                              delete e.audioAppendStart;
                                          var n = t.sourceUpdater_.audioBuffered();
                                          n.length && (e.audioAppendStart = n.end(n.length - 1) - t.sourceUpdater_.audioTimestampOffset()), t.updateTransmuxerAndRequestSegment_(e);
                                      });
                        }),
                        (i.updateTransmuxerAndRequestSegment_ = function (e) {
                            this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset) &&
                                ((this.gopBuffer_.length = 0),
                                (e.gopsToAlignWith = []),
                                (this.timeMapping_ = 0),
                                this.transmuxer_.postMessage({ action: "reset" }),
                                this.transmuxer_.postMessage({ action: "setTimestampOffset", timestampOffset: e.timestampOffset }));
                            var t = this.createSimplifiedSegmentObj_(e);
                            e.abortRequests = go({
                                xhr: this.vhs_.xhr,
                                xhrOptions: this.xhrOptions_,
                                decryptionWorker: this.decrypter_,
                                segment: t,
                                handlePartialData: this.handlePartialData_,
                                abortFn: this.handleAbort_.bind(this),
                                progressFn: this.handleProgress_.bind(this),
                                trackInfoFn: this.handleTrackInfo_.bind(this),
                                timingInfoFn: this.handleTimingInfo_.bind(this),
                                videoSegmentTimingInfoFn: this.handleVideoSegmentTimingInfo_.bind(this, e.requestId),
                                captionsFn: this.handleCaptions_.bind(this),
                                id3Fn: this.handleId3_.bind(this),
                                dataFn: this.handleData_.bind(this),
                                doneFn: this.segmentRequestFinished_.bind(this),
                            });
                        }),
                        (i.trimBackBuffer_ = function () {
                            var e = (function (e, t, i) {
                                var n = t - Xa.BACK_BUFFER_LENGTH;
                                e.length && (n = Math.max(n, e.start(0)));
                                var r = t - i;
                                return Math.min(r, n);
                            })(this.seekable_(), this.currentTime_(), this.playlist_.targetDuration || 10);
                            e > 0 && this.remove(0, e);
                        }),
                        (i.createSimplifiedSegmentObj_ = function (e) {
                            var t = e.segment,
                                i = { resolvedUri: t.resolvedUri, byterange: t.byterange, requestId: e.requestId, transmuxer: e.transmuxer, audioAppendStart: e.audioAppendStart, gopsToAlignWith: e.gopsToAlignWith },
                                n = e.playlist.segments[e.mediaIndex];
                            if ((n && n.end && n.timeline === t.timeline && (i.baseStartTime = n.end + e.timestampOffset), t.key)) {
                                var r = t.key.iv || new Uint32Array([0, 0, 0, e.mediaIndex + e.playlist.mediaSequence]);
                                (i.key = this.segmentKey(t.key)), (i.key.iv = r);
                            }
                            return t.map && (i.map = this.initSegmentForMap(t.map)), i;
                        }),
                        (i.saveTransferStats_ = function (e) {
                            (this.mediaRequests += 1), e && ((this.mediaBytesTransferred += e.bytesReceived), (this.mediaTransferDuration += e.roundTripTime));
                        }),
                        (i.saveBandwidthRelatedStats_ = function (e) {
                            (this.bandwidth = e.bandwidth), (this.roundTrip = e.roundTripTime), (this.pendingSegment_.byteLength = e.bytesReceived);
                        }),
                        (i.handleTimeout_ = function () {
                            (this.mediaRequestsTimedout += 1), (this.bandwidth = 1), (this.roundTrip = NaN), this.trigger("bandwidthupdate");
                        }),
                        (i.segmentRequestFinished_ = function (e, t, i) {
                            if (this.callQueue_.length) this.callQueue_.push(this.segmentRequestFinished_.bind(this, e, t, i));
                            else if ((this.saveTransferStats_(t.stats), this.pendingSegment_ && t.requestId === this.pendingSegment_.requestId)) {
                                if (e) {
                                    if (((this.pendingSegment_ = null), (this.state = "READY"), e.code === lo)) return;
                                    return this.pause(), e.code === oo ? void this.handleTimeout_() : ((this.mediaRequestsErrored += 1), this.error(e), void this.trigger("error"));
                                }
                                this.saveBandwidthRelatedStats_(t.stats);
                                var n = this.pendingSegment_;
                                (n.endOfAllRequests = t.endOfAllRequests),
                                    i.gopInfo &&
                                        (this.gopBuffer_ = (function (e, t, i) {
                                            if (!t.length) return e;
                                            if (i) return t.slice();
                                            for (var n = t[0].pts, r = 0; r < e.length && !(e[r].pts >= n); r++);
                                            return e.slice(0, r).concat(t);
                                        })(this.gopBuffer_, i.gopInfo, this.safeAppend_)),
                                    (this.state = "APPENDING");
                                var r = this.isEndOfStream_(n.mediaIndex, n.playlist),
                                    s = null !== this.mediaIndex,
                                    a = n.timeline !== this.currentTimeline_ && n.timeline > 0;
                                !n.isFmp4 && (r || (s && a)) && so(this.transmuxer_), this.trigger("appending"), this.waitForAppendsToComplete_(n);
                            }
                        }),
                        (i.setTimeMapping_ = function (e) {
                            var t = this.syncController_.mappingForTimeline(e);
                            null !== t && (this.timeMapping_ = t);
                        }),
                        (i.updateMediaSecondsLoaded_ = function (e) {
                            "number" == typeof e.start && "number" == typeof e.end ? (this.mediaSecondsLoaded += e.end - e.start) : (this.mediaSecondsLoaded += e.duration);
                        }),
                        (i.shouldUpdateTransmuxerTimestampOffset_ = function (e) {
                            return null !== e && (("main" === this.loaderType_ && e !== this.sourceUpdater_.videoTimestampOffset()) || (!this.audioDisabled_ && e !== this.sourceUpdater_.audioTimestampOffset()));
                        }),
                        (i.trueSegmentStart_ = function (e) {
                            var t = e.currentStart,
                                i = e.playlist,
                                n = e.mediaIndex,
                                r = e.firstVideoFrameTimeForData,
                                s = e.currentVideoTimestampOffset,
                                a = e.useVideoTimingInfo,
                                o = e.videoTimingInfo,
                                l = e.audioTimingInfo;
                            if (void 0 !== t) return t;
                            if (!a) return l.start;
                            var u = i.segments[n - 1];
                            return 0 !== n && u && void 0 !== u.start && u.end === r + s ? o.start : r;
                        }),
                        (i.waitForAppendsToComplete_ = function (e) {
                            if (!this.currentMediaInfo_) return this.error({ message: "No starting media returned, likely due to an unsupported media format.", blacklistDuration: 1 / 0 }), void this.trigger("error");
                            var t = this.currentMediaInfo_,
                                i = t.hasAudio,
                                n = t.hasVideo,
                                r = t.isMuxed,
                                s = "main" === this.loaderType_ && n,
                                a = !this.audioDisabled_ && i && !r;
                            if (((e.waitingOnAppends = 0), !e.hasAppendedData_))
                                return (
                                    e.timingInfo || "number" != typeof e.timestampOffset || (this.isPendingTimestampOffset_ = !0),
                                    (e.timingInfo = { start: 0 }),
                                    e.waitingOnAppends++,
                                    this.isPendingTimestampOffset_ || (this.updateSourceBufferTimestampOffset_(e), this.processMetadataQueue_()),
                                    void this.checkAppendsDone_(e)
                                );
                            s && e.waitingOnAppends++,
                                a && e.waitingOnAppends++,
                                s && this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this, e)),
                                a && this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this, e));
                        }),
                        (i.checkAppendsDone_ = function (e) {
                            this.checkForAbort_(e.requestId) || (e.waitingOnAppends--, 0 === e.waitingOnAppends && this.handleAppendsDone_());
                        }),
                        (i.checkForIllegalMediaSwitch = function (e) {
                            var t = (function (e, t, i) {
                                return "main" === e && t && i
                                    ? i.hasAudio || i.hasVideo
                                        ? t.hasVideo && !i.hasVideo
                                            ? "Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest."
                                            : !t.hasVideo && i.hasVideo
                                            ? "Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest."
                                            : null
                                        : "Neither audio nor video found in segment."
                                    : null;
                            })(this.loaderType_, this.currentMediaInfo_, e);
                            return !!t && (this.error({ message: t, blacklistDuration: 1 / 0 }), this.trigger("error"), !0);
                        }),
                        (i.updateSourceBufferTimestampOffset_ = function (e) {
                            if (null !== e.timestampOffset && "number" == typeof e.timingInfo.start && !e.changedTimestampOffset && "main" === this.loaderType_) {
                                var t = !1;
                                (e.timestampOffset -= e.timingInfo.start),
                                    (e.changedTimestampOffset = !0),
                                    e.timestampOffset !== this.sourceUpdater_.videoTimestampOffset() && (this.sourceUpdater_.videoTimestampOffset(e.timestampOffset), (t = !0)),
                                    e.timestampOffset !== this.sourceUpdater_.audioTimestampOffset() && (this.sourceUpdater_.audioTimestampOffset(e.timestampOffset), (t = !0)),
                                    t && this.trigger("timestampoffset");
                            }
                        }),
                        (i.updateTimingInfoEnd_ = function (e) {
                            e.timingInfo = e.timingInfo || {};
                            var t = "main" === this.loaderType_ && this.currentMediaInfo_.hasVideo && e.videoTimingInfo ? e.videoTimingInfo : e.audioTimingInfo;
                            t && (e.timingInfo.end = "number" == typeof t.end ? t.end : t.start + e.duration);
                        }),
                        (i.handleAppendsDone_ = function () {
                            if ((this.pendingSegment_ && this.trigger("appendsdone"), !this.pendingSegment_)) return (this.state = "READY"), void (this.paused() || this.monitorBuffer_());
                            var e = this.pendingSegment_;
                            if (
                                (this.updateTimingInfoEnd_(e),
                                this.shouldSaveSegmentTimingInfo_ && this.syncController_.saveSegmentTimingInfo({ segmentInfo: e, shouldSaveTimelineMapping: "main" === this.loaderType_ }),
                                this.logger_(
                                    (function (e) {
                                        var t = e.segment,
                                            i = t.start,
                                            n = t.end,
                                            r = e.playlist,
                                            s = r.mediaSequence,
                                            a = r.id,
                                            o = r.segments,
                                            l = void 0 === o ? [] : o,
                                            u = e.mediaIndex,
                                            c = e.timeline;
                                        return ["appending [" + u + "] of [" + s + ", " + (s + l.length) + "] from playlist [" + a + "]", "[" + i + " => " + n + "] in timeline [" + c + "]"].join(" ");
                                    })(e)
                                ),
                                this.recordThroughput_(e),
                                (this.pendingSegment_ = null),
                                (this.state = "READY"),
                                e.isSyncRequest)
                            )
                                this.trigger("syncinfoupdate");
                            else {
                                this.addSegmentMetadataCue_(e),
                                    (this.fetchAtBuffer_ = !0),
                                    this.currentTimeline_ !== e.timeline &&
                                        (this.timelineChangeController_.lastTimelineChange({ type: this.loaderType_, from: this.currentTimeline_, to: e.timeline }),
                                        "main" !== this.loaderType_ || this.audioDisabled_ || this.timelineChangeController_.lastTimelineChange({ type: "audio", from: this.currentTimeline_, to: e.timeline })),
                                    (this.currentTimeline_ = e.timeline),
                                    this.trigger("syncinfoupdate");
                                var t = e.segment;
                                if (t.end && this.currentTime_() - t.end > 3 * e.playlist.targetDuration) this.resetEverything();
                                else
                                    null !== this.mediaIndex && this.trigger("bandwidthupdate"),
                                        this.trigger("progress"),
                                        (this.mediaIndex = e.mediaIndex),
                                        this.isEndOfStream_(e.mediaIndex, e.playlist) && this.endOfStream(),
                                        this.trigger("appended"),
                                        this.paused() || this.monitorBuffer_();
                            }
                        }),
                        (i.recordThroughput_ = function (e) {
                            var t = this.throughput.rate,
                                i = Date.now() - e.endOfAllRequests + 1,
                                n = Math.floor((e.byteLength / i) * 8 * 1e3);
                            this.throughput.rate += (n - t) / ++this.throughput.count;
                        }),
                        (i.addSegmentMetadataCue_ = function (e) {
                            if (this.segmentMetadataTrack_) {
                                var t = e.segment,
                                    i = t.start,
                                    n = t.end;
                                if (jo(i) && jo(n)) {
                                    Uo(i, n, this.segmentMetadataTrack_);
                                    var s = r.a.WebKitDataCue || r.a.VTTCue,
                                        a = {
                                            custom: t.custom,
                                            dateTimeObject: t.dateTimeObject,
                                            dateTimeString: t.dateTimeString,
                                            bandwidth: e.playlist.attributes.BANDWIDTH,
                                            resolution: e.playlist.attributes.RESOLUTION,
                                            codecs: e.playlist.attributes.CODECS,
                                            byteLength: e.byteLength,
                                            uri: e.uri,
                                            timeline: e.timeline,
                                            playlist: e.playlist.id,
                                            start: i,
                                            end: n,
                                        },
                                        o = new s(i, n, JSON.stringify(a));
                                    (o.value = a), this.segmentMetadataTrack_.addCue(o);
                                }
                            }
                        }),
                        t
                    );
                })(qs.EventTarget);
            function Vo() {}
            var $o,
                zo = function (e) {
                    return "string" != typeof e
                        ? e
                        : e.replace(/./, function (e) {
                              return e.toUpperCase();
                          });
                },
                Wo = ["video", "audio"],
                Go = function (e, t) {
                    var i = t[e + "Buffer"];
                    return (i && i.updating) || t.queuePending[e];
                },
                Yo = function e(t, i) {
                    if (0 !== i.queue.length) {
                        var n = 0,
                            r = i.queue[n];
                        if ("mediaSource" !== r.type) {
                            if ("mediaSource" !== t && i.started_ && "closed" !== i.mediaSource.readyState && !Go(t, i)) {
                                if (r.type !== t) {
                                    if (
                                        null ===
                                        (n = (function (e, t) {
                                            for (var i = 0; i < t.length; i++) {
                                                var n = t[i];
                                                if ("mediaSource" === n.type) return null;
                                                if (n.type === e) return i;
                                            }
                                            return null;
                                        })(t, i.queue))
                                    )
                                        return;
                                    r = i.queue[n];
                                }
                                i.queue.splice(n, 1), r.action(t, i), r.doneFn ? (i.queuePending[t] = r) : e(t, i);
                            }
                        } else i.updating() || "closed" === i.mediaSource.readyState || (i.queue.shift(), r.action(i), r.doneFn && r.doneFn(), e("audio", i), e("video", i));
                    }
                },
                Xo = function (e, t) {
                    var i = t[e + "Buffer"],
                        n = zo(e);
                    i && (i.removeEventListener("updateend", t["on" + n + "UpdateEnd_"]), i.removeEventListener("error", t["on" + n + "Error_"]), (t.codecs[e] = null), (t[e + "Buffer"] = null));
                },
                Ko = function (e, t) {
                    return e && t && -1 !== Array.prototype.indexOf.call(e.sourceBuffers, t);
                },
                Qo = function (e, t) {
                    return function (i, n) {
                        var r = n[i + "Buffer"];
                        Ko(n.mediaSource, r) && (n.logger_("Appending segment " + t.mediaIndex + "'s " + e.length + " bytes to " + i + "Buffer"), r.appendBuffer(e));
                    };
                },
                Jo = function (e, t) {
                    return function (i, n) {
                        var r = n[i + "Buffer"];
                        Ko(n.mediaSource, r) && (n.logger_("Removing " + e + " to " + t + " from " + i + "Buffer"), r.remove(e, t));
                    };
                },
                Zo = function (e) {
                    return function (t, i) {
                        var n = i[t + "Buffer"];
                        Ko(i.mediaSource, n) && (i.logger_("Setting " + t + "timestampOffset to " + e), (n.timestampOffset = e));
                    };
                },
                el = function (e) {
                    return function () {
                        e();
                    };
                },
                tl = function (e) {
                    return function (t) {
                        if ("open" === t.mediaSource.readyState) {
                            t.logger_("Calling mediaSource endOfStream(" + (e || "") + ")");
                            try {
                                t.mediaSource.endOfStream(e);
                            } catch (e) {
                                qs.log.warn("Failed to call media source endOfStream", e);
                            }
                        }
                    };
                },
                il = function (e) {
                    return function (t) {
                        t.logger_("Setting mediaSource duration to " + e);
                        try {
                            t.mediaSource.duration = e;
                        } catch (e) {
                            qs.log.warn("Failed to set media source duration", e);
                        }
                    };
                },
                nl = function () {
                    return function (e, t) {
                        if ("open" === t.mediaSource.readyState) {
                            var i = t[e + "Buffer"];
                            if (Ko(t.mediaSource, i)) {
                                t.logger_("calling abort on " + e + "Buffer");
                                try {
                                    i.abort();
                                } catch (t) {
                                    qs.log.warn("Failed to abort on " + e + "Buffer", t);
                                }
                            }
                        }
                    };
                },
                rl = function (e, t) {
                    return function (i) {
                        var n = zo(e),
                            r = Object(De.getMimeForCodec)(t);
                        i.logger_("Adding " + e + "Buffer with codec " + t + " to mediaSource");
                        var s = i.mediaSource.addSourceBuffer(r);
                        s.addEventListener("updateend", i["on" + n + "UpdateEnd_"]), s.addEventListener("error", i["on" + n + "Error_"]), (i.codecs[e] = t), (i[e + "Buffer"] = s);
                    };
                },
                sl = function (e) {
                    return function (t) {
                        var i = t[e + "Buffer"];
                        if ((Xo(e, t), Ko(t.mediaSource, i))) {
                            t.logger_("Removing " + e + "Buffer with codec " + t.codecs[e] + " from mediaSource");
                            try {
                                t.mediaSource.removeSourceBuffer(i);
                            } catch (t) {
                                qs.log.warn("Failed to removeSourceBuffer " + e + "Buffer", t);
                            }
                        }
                    };
                },
                al = function (e) {
                    return function (t, i) {
                        var n = i[t + "Buffer"],
                            r = Object(De.getMimeForCodec)(e);
                        Ko(i.mediaSource, n) && i.codecs[t] !== e && (i.logger_("changing " + t + "Buffer codec from " + i.codecs[t] + " to " + e), n.changeType(r), (i.codecs[t] = e));
                    };
                },
                ol = function (e) {
                    var t = e.type,
                        i = e.sourceUpdater,
                        n = e.action,
                        r = e.doneFn,
                        s = e.name;
                    i.queue.push({ type: t, action: n, doneFn: r, name: s }), Yo(t, i);
                },
                ll = function (e, t) {
                    return function () {
                        if (t.queuePending[e]) {
                            var i = t.queuePending[e].doneFn;
                            (t.queuePending[e] = null), i && i(t[e + "Error_"]);
                        }
                        Yo(e, t);
                    };
                },
                ul = (function (e) {
                    function t(t) {
                        var i;
                        return (
                            ((i = e.call(this) || this).mediaSource = t),
                            (i.sourceopenListener_ = function () {
                                return Yo("mediaSource", c()(i));
                            }),
                            i.mediaSource.addEventListener("sourceopen", i.sourceopenListener_),
                            (i.logger_ = Po("SourceUpdater")),
                            (i.audioTimestampOffset_ = 0),
                            (i.videoTimestampOffset_ = 0),
                            (i.queue = []),
                            (i.queuePending = { audio: null, video: null }),
                            (i.delayedAudioAppendQueue_ = []),
                            (i.videoAppendQueued_ = !1),
                            (i.codecs = {}),
                            (i.onVideoUpdateEnd_ = ll("video", c()(i))),
                            (i.onAudioUpdateEnd_ = ll("audio", c()(i))),
                            (i.onVideoError_ = function (e) {
                                i.videoError_ = e;
                            }),
                            (i.onAudioError_ = function (e) {
                                i.audioError_ = e;
                            }),
                            (i.started_ = !1),
                            i
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.ready = function () {
                            return this.started_;
                        }),
                        (i.createSourceBuffers = function (e) {
                            this.ready() || (this.addOrChangeSourceBuffers(e), (this.started_ = !0), this.trigger("ready"));
                        }),
                        (i.addSourceBuffer = function (e, t) {
                            ol({ type: "mediaSource", sourceUpdater: this, action: rl(e, t), name: "addSourceBuffer" });
                        }),
                        (i.abort = function (e) {
                            ol({ type: e, sourceUpdater: this, action: nl(e), name: "abort" });
                        }),
                        (i.removeSourceBuffer = function (e) {
                            this.canRemoveSourceBuffer() ? ol({ type: "mediaSource", sourceUpdater: this, action: sl(e), name: "removeSourceBuffer" }) : qs.log.error("removeSourceBuffer is not supported!");
                        }),
                        (i.canRemoveSourceBuffer = function () {
                            return !qs.browser.IE_VERSION && r.a.MediaSource && r.a.MediaSource.prototype && "function" == typeof r.a.MediaSource.prototype.removeSourceBuffer;
                        }),
                        (t.canChangeType = function () {
                            return r.a.SourceBuffer && r.a.SourceBuffer.prototype && "function" == typeof r.a.SourceBuffer.prototype.changeType;
                        }),
                        (i.canChangeType = function () {
                            return this.constructor.canChangeType();
                        }),
                        (i.changeType = function (e, t) {
                            this.canChangeType() ? ol({ type: e, sourceUpdater: this, action: al(t), name: "changeType" }) : qs.log.error("changeType is not supported!");
                        }),
                        (i.addOrChangeSourceBuffers = function (e) {
                            var t = this;
                            if (!e || "object" != typeof e || 0 === Object.keys(e).length) throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");
                            Object.keys(e).forEach(function (i) {
                                var n = e[i];
                                if (!t.ready()) return t.addSourceBuffer(i, n);
                                t.canChangeType() && t.changeType(i, n);
                            });
                        }),
                        (i.appendBuffer = function (e, t) {
                            var i = this,
                                n = e.segmentInfo,
                                r = e.type,
                                s = e.bytes;
                            if (((this.processedAppend_ = !0), "audio" === r && this.videoBuffer && !this.videoAppendQueued_))
                                return this.delayedAudioAppendQueue_.push([e, t]), void this.logger_("delayed audio append of " + s.length + " until video append");
                            if ((ol({ type: r, sourceUpdater: this, action: Qo(s, n || { mediaIndex: -1 }), doneFn: t, name: "appendBuffer" }), "video" === r)) {
                                if (((this.videoAppendQueued_ = !0), !this.delayedAudioAppendQueue_.length)) return;
                                var a = this.delayedAudioAppendQueue_.slice();
                                this.logger_("queuing delayed audio " + a.length + " appendBuffers"),
                                    (this.delayedAudioAppendQueue_.length = 0),
                                    a.forEach(function (e) {
                                        i.appendBuffer.apply(i, e);
                                    });
                            }
                        }),
                        (i.audioBuffered = function () {
                            return Ko(this.mediaSource, this.audioBuffer) && this.audioBuffer.buffered ? this.audioBuffer.buffered : qs.createTimeRange();
                        }),
                        (i.videoBuffered = function () {
                            return Ko(this.mediaSource, this.videoBuffer) && this.videoBuffer.buffered ? this.videoBuffer.buffered : qs.createTimeRange();
                        }),
                        (i.buffered = function () {
                            var e = Ko(this.mediaSource, this.videoBuffer) ? this.videoBuffer : null,
                                t = Ko(this.mediaSource, this.audioBuffer) ? this.audioBuffer : null;
                            return t && !e
                                ? this.audioBuffered()
                                : e && !t
                                ? this.videoBuffered()
                                : (function (e, t) {
                                      var i = null,
                                          n = null,
                                          r = 0,
                                          s = [],
                                          a = [];
                                      if (!(e && e.length && t && t.length)) return qs.createTimeRange();
                                      for (var o = e.length; o--; ) s.push({ time: e.start(o), type: "start" }), s.push({ time: e.end(o), type: "end" });
                                      for (o = t.length; o--; ) s.push({ time: t.start(o), type: "start" }), s.push({ time: t.end(o), type: "end" });
                                      for (
                                          s.sort(function (e, t) {
                                              return e.time - t.time;
                                          }),
                                              o = 0;
                                          o < s.length;
                                          o++
                                      )
                                          "start" === s[o].type ? 2 == ++r && (i = s[o].time) : "end" === s[o].type && 1 == --r && (n = s[o].time), null !== i && null !== n && (a.push([i, n]), (i = null), (n = null));
                                      return qs.createTimeRanges(a);
                                  })(this.audioBuffered(), this.videoBuffered());
                        }),
                        (i.setDuration = function (e, t) {
                            void 0 === t && (t = Vo), ol({ type: "mediaSource", sourceUpdater: this, action: il(e), name: "duration", doneFn: t });
                        }),
                        (i.endOfStream = function (e, t) {
                            void 0 === e && (e = null), void 0 === t && (t = Vo), "string" != typeof e && (e = void 0), ol({ type: "mediaSource", sourceUpdater: this, action: tl(e), name: "endOfStream", doneFn: t });
                        }),
                        (i.removeAudio = function (e, t, i) {
                            void 0 === i && (i = Vo), this.audioBuffered().length && 0 !== this.audioBuffered().end(0) ? ol({ type: "audio", sourceUpdater: this, action: Jo(e, t), doneFn: i, name: "remove" }) : i();
                        }),
                        (i.removeVideo = function (e, t, i) {
                            void 0 === i && (i = Vo), this.videoBuffered().length && 0 !== this.videoBuffered().end(0) ? ol({ type: "video", sourceUpdater: this, action: Jo(e, t), doneFn: i, name: "remove" }) : i();
                        }),
                        (i.updating = function () {
                            return !(!Go("audio", this) && !Go("video", this));
                        }),
                        (i.audioTimestampOffset = function (e) {
                            return (
                                void 0 !== e && this.audioBuffer && this.audioTimestampOffset_ !== e && (ol({ type: "audio", sourceUpdater: this, action: Zo(e), name: "timestampOffset" }), (this.audioTimestampOffset_ = e)),
                                this.audioTimestampOffset_
                            );
                        }),
                        (i.videoTimestampOffset = function (e) {
                            return (
                                void 0 !== e && this.videoBuffer && this.videoTimestampOffset !== e && (ol({ type: "video", sourceUpdater: this, action: Zo(e), name: "timestampOffset" }), (this.videoTimestampOffset_ = e)),
                                this.videoTimestampOffset_
                            );
                        }),
                        (i.audioQueueCallback = function (e) {
                            this.audioBuffer && ol({ type: "audio", sourceUpdater: this, action: el(e), name: "callback" });
                        }),
                        (i.videoQueueCallback = function (e) {
                            this.videoBuffer && ol({ type: "video", sourceUpdater: this, action: el(e), name: "callback" });
                        }),
                        (i.dispose = function () {
                            var e = this;
                            this.trigger("dispose"),
                                Wo.forEach(function (t) {
                                    e.abort(t),
                                        e.canRemoveSourceBuffer()
                                            ? e.removeSourceBuffer(t)
                                            : e[t + "QueueCallback"](function () {
                                                  return Xo(t, e);
                                              });
                                }),
                                (this.videoAppendQueued_ = !1),
                                (this.delayedAudioAppendQueue_.length = 0),
                                this.sourceopenListener_ && this.mediaSource.removeEventListener("sourceopen", this.sourceopenListener_),
                                this.off();
                        }),
                        t
                    );
                })(qs.EventTarget),
                cl = function (e) {
                    return decodeURIComponent(escape(String.fromCharCode.apply(null, e)));
                },
                dl = new Uint8Array(
                    "\n\n".split("").map(function (e) {
                        return e.charCodeAt(0);
                    })
                ),
                hl = (function (e) {
                    function t(t, i) {
                        var n;
                        return (
                            void 0 === i && (i = {}),
                            ((n = e.call(this, t, i) || this).handlePartialData_ = !1),
                            (n.mediaSource_ = null),
                            (n.subtitlesTrack_ = null),
                            (n.loaderType_ = "subtitle"),
                            (n.featuresNativeTextTracks_ = t.featuresNativeTextTracks),
                            (n.shouldSaveSegmentTimingInfo_ = !1),
                            n
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.createTransmuxer_ = function () {
                            return null;
                        }),
                        (i.buffered_ = function () {
                            if (!this.subtitlesTrack_ || !this.subtitlesTrack_.cues.length) return qs.createTimeRanges();
                            var e = this.subtitlesTrack_.cues,
                                t = e[0].startTime,
                                i = e[e.length - 1].startTime;
                            return qs.createTimeRanges([[t, i]]);
                        }),
                        (i.initSegmentForMap = function (e, t) {
                            if ((void 0 === t && (t = !1), !e)) return null;
                            var i = Ra(e),
                                n = this.initSegments_[i];
                            if (t && !n && e.bytes) {
                                var r = dl.byteLength + e.bytes.byteLength,
                                    s = new Uint8Array(r);
                                s.set(e.bytes), s.set(dl, e.bytes.byteLength), (this.initSegments_[i] = n = { resolvedUri: e.resolvedUri, byterange: e.byterange, bytes: s });
                            }
                            return n || e;
                        }),
                        (i.couldBeginLoading_ = function () {
                            return this.playlist_ && this.subtitlesTrack_ && !this.paused();
                        }),
                        (i.init_ = function () {
                            return (this.state = "READY"), this.resetEverything(), this.monitorBuffer_();
                        }),
                        (i.track = function (e) {
                            return void 0 === e || ((this.subtitlesTrack_ = e), "INIT" === this.state && this.couldBeginLoading_() && this.init_()), this.subtitlesTrack_;
                        }),
                        (i.remove = function (e, t) {
                            Uo(e, t, this.subtitlesTrack_);
                        }),
                        (i.fillBuffer_ = function () {
                            var e = this;
                            this.syncPoint_ || (this.syncPoint_ = this.syncController_.getSyncPoint(this.playlist_, this.duration_(), this.currentTimeline_, this.currentTime_()));
                            var t = this.checkBuffer_(this.buffered_(), this.playlist_, this.mediaIndex, this.hasPlayed_(), this.currentTime_(), this.syncPoint_);
                            if ((t = this.skipEmptySegments_(t))) {
                                if (null === this.syncController_.timestampOffsetForTimeline(t.timeline)) {
                                    return (
                                        this.syncController_.one("timestampoffset", function () {
                                            (e.state = "READY"), e.paused() || e.monitorBuffer_();
                                        }),
                                        void (this.state = "WAITING_ON_TIMELINE")
                                    );
                                }
                                this.loadSegment_(t);
                            }
                        }),
                        (i.skipEmptySegments_ = function (e) {
                            for (; e && e.segment.empty; ) e = this.generateSegmentInfo_(e.playlist, e.mediaIndex + 1, e.startOfSegment + e.duration, e.isSyncRequest);
                            return e;
                        }),
                        (i.stopForError = function (e) {
                            this.error(e), (this.state = "READY"), this.pause(), this.trigger("error");
                        }),
                        (i.segmentRequestFinished_ = function (e, t, i) {
                            var n = this;
                            if (this.subtitlesTrack_) {
                                if ((this.saveTransferStats_(t.stats), !this.pendingSegment_)) return (this.state = "READY"), void (this.mediaRequestsAborted += 1);
                                if (e) return e.code === oo && this.handleTimeout_(), e.code === lo ? (this.mediaRequestsAborted += 1) : (this.mediaRequestsErrored += 1), void this.stopForError(e);
                                this.saveBandwidthRelatedStats_(t.stats), (this.state = "APPENDING"), this.trigger("appending");
                                var s = this.pendingSegment_,
                                    a = s.segment;
                                if ((a.map && (a.map.bytes = t.map.bytes), (s.bytes = t.bytes), "function" != typeof r.a.WebVTT && this.subtitlesTrack_ && this.subtitlesTrack_.tech_)) {
                                    var o,
                                        l = function () {
                                            n.subtitlesTrack_.tech_.off("vttjsloaded", o), n.stopForError({ message: "Error loading vtt.js" });
                                        };
                                    return (
                                        (o = function () {
                                            n.subtitlesTrack_.tech_.off("vttjserror", l), n.segmentRequestFinished_(e, t, i);
                                        }),
                                        (this.state = "WAITING_ON_VTTJS"),
                                        this.subtitlesTrack_.tech_.one("vttjsloaded", o),
                                        void this.subtitlesTrack_.tech_.one("vttjserror", l)
                                    );
                                }
                                a.requested = !0;
                                try {
                                    this.parseVTTCues_(s);
                                } catch (e) {
                                    return void this.stopForError({ message: e.message });
                                }
                                if (
                                    (this.updateTimeMapping_(s, this.syncController_.timelines[s.timeline], this.playlist_),
                                    s.cues.length ? (s.timingInfo = { start: s.cues[0].startTime, end: s.cues[s.cues.length - 1].endTime }) : (s.timingInfo = { start: s.startOfSegment, end: s.startOfSegment + s.duration }),
                                    s.isSyncRequest)
                                )
                                    return this.trigger("syncinfoupdate"), (this.pendingSegment_ = null), void (this.state = "READY");
                                (s.byteLength = s.bytes.byteLength),
                                    (this.mediaSecondsLoaded += a.duration),
                                    s.cues.forEach(function (e) {
                                        n.remove(e.startTime, e.endTime), n.subtitlesTrack_.addCue(n.featuresNativeTextTracks_ ? new r.a.VTTCue(e.startTime, e.endTime, e.text) : e);
                                    }),
                                    this.handleAppendsDone_();
                            } else this.state = "READY";
                        }),
                        (i.handleData_ = function () {}),
                        (i.updateTimingInfoEnd_ = function () {}),
                        (i.parseVTTCues_ = function (e) {
                            var t,
                                i = !1;
                            "function" == typeof r.a.TextDecoder ? (t = new r.a.TextDecoder("utf8")) : ((t = r.a.WebVTT.StringDecoder()), (i = !0));
                            var n = new r.a.WebVTT.Parser(r.a, r.a.vttjs, t);
                            if (
                                ((e.cues = []),
                                (e.timestampmap = { MPEGTS: 0, LOCAL: 0 }),
                                (n.oncue = e.cues.push.bind(e.cues)),
                                (n.ontimestampmap = function (t) {
                                    e.timestampmap = t;
                                }),
                                (n.onparsingerror = function (e) {
                                    qs.log.warn("Error encountered when parsing cues: " + e.message);
                                }),
                                e.segment.map)
                            ) {
                                var s = e.segment.map.bytes;
                                i && (s = cl(s)), n.parse(s);
                            }
                            var a = e.bytes;
                            i && (a = cl(a)), n.parse(a), n.flush();
                        }),
                        (i.updateTimeMapping_ = function (e, t, i) {
                            var n = e.segment;
                            if (t)
                                if (e.cues.length) {
                                    var r = e.timestampmap,
                                        s = r.MPEGTS / Pe.ONE_SECOND_IN_TS - r.LOCAL + t.mapping;
                                    if (
                                        (e.cues.forEach(function (e) {
                                            (e.startTime += s), (e.endTime += s);
                                        }),
                                        !i.syncInfo)
                                    ) {
                                        var a = e.cues[0].startTime,
                                            o = e.cues[e.cues.length - 1].startTime;
                                        i.syncInfo = { mediaSequence: i.mediaSequence + e.mediaIndex, time: Math.min(a, o - n.duration) };
                                    }
                                } else n.empty = !0;
                        }),
                        t
                    );
                })(qo),
                pl = function (e, t) {
                    for (var i = e.cues, n = 0; n < i.length; n++) {
                        var r = i[n];
                        if (t >= r.adStartTime && t <= r.adEndTime) return r;
                    }
                    return null;
                },
                fl = [
                    {
                        name: "VOD",
                        run: function (e, t, i) {
                            if (i !== 1 / 0) {
                                return { time: 0, segmentIndex: 0 };
                            }
                            return null;
                        },
                    },
                    {
                        name: "ProgramDateTime",
                        run: function (e, t, i, n, r) {
                            if (!e.datetimeToDisplayTime) return null;
                            var s = t.segments || [],
                                a = null,
                                o = null;
                            r = r || 0;
                            for (var l = 0; l < s.length; l++) {
                                var u = s[l];
                                if (u.dateTimeObject) {
                                    var c = u.dateTimeObject.getTime() / 1e3 + e.datetimeToDisplayTime,
                                        d = Math.abs(r - c);
                                    if (null !== o && (0 === d || o < d)) break;
                                    (o = d), (a = { time: c, segmentIndex: l });
                                }
                            }
                            return a;
                        },
                    },
                    {
                        name: "Segment",
                        run: function (e, t, i, n, r) {
                            var s = t.segments || [],
                                a = null,
                                o = null;
                            r = r || 0;
                            for (var l = 0; l < s.length; l++) {
                                var u = s[l];
                                if (u.timeline === n && void 0 !== u.start) {
                                    var c = Math.abs(r - u.start);
                                    if (null !== o && o < c) break;
                                    (!a || null === o || o >= c) && ((o = c), (a = { time: u.start, segmentIndex: l }));
                                }
                            }
                            return a;
                        },
                    },
                    {
                        name: "Discontinuity",
                        run: function (e, t, i, n, r) {
                            var s = null;
                            if (((r = r || 0), t.discontinuityStarts && t.discontinuityStarts.length))
                                for (var a = null, o = 0; o < t.discontinuityStarts.length; o++) {
                                    var l = t.discontinuityStarts[o],
                                        u = t.discontinuitySequence + o + 1,
                                        c = e.discontinuities[u];
                                    if (c) {
                                        var d = Math.abs(r - c.time);
                                        if (null !== a && a < d) break;
                                        (!s || null === a || a >= d) && ((a = d), (s = { time: c.time, segmentIndex: l }));
                                    }
                                }
                            return s;
                        },
                    },
                    {
                        name: "Playlist",
                        run: function (e, t) {
                            return t.syncInfo ? { time: t.syncInfo.time, segmentIndex: t.syncInfo.mediaSequence - t.mediaSequence } : null;
                        },
                    },
                ],
                ml = (function (e) {
                    function t() {
                        var t;
                        return ((t = e.call(this) || this).timelines = []), (t.discontinuities = []), (t.datetimeToDisplayTime = null), (t.logger_ = Po("SyncController")), t;
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.getSyncPoint = function (e, t, i, n) {
                            var r = this.runStrategies_(e, t, i, n);
                            return r.length ? this.selectSyncPoint_(r, { key: "time", value: n }) : null;
                        }),
                        (i.getExpiredTime = function (e, t) {
                            if (!e || !e.segments) return null;
                            var i = this.runStrategies_(e, t, e.discontinuitySequence, 0);
                            if (!i.length) return null;
                            var n = this.selectSyncPoint_(i, { key: "segmentIndex", value: 0 });
                            return n.segmentIndex > 0 && (n.time *= -1), Math.abs(n.time + ga(e, n.segmentIndex, 0));
                        }),
                        (i.runStrategies_ = function (e, t, i, n) {
                            for (var r = [], s = 0; s < fl.length; s++) {
                                var a = fl[s],
                                    o = a.run(this, e, t, i, n);
                                o && ((o.strategy = a.name), r.push({ strategy: a.name, syncPoint: o }));
                            }
                            return r;
                        }),
                        (i.selectSyncPoint_ = function (e, t) {
                            for (var i = e[0].syncPoint, n = Math.abs(e[0].syncPoint[t.key] - t.value), r = e[0].strategy, s = 1; s < e.length; s++) {
                                var a = Math.abs(e[s].syncPoint[t.key] - t.value);
                                a < n && ((n = a), (i = e[s].syncPoint), (r = e[s].strategy));
                            }
                            return this.logger_("syncPoint for [" + t.key + ": " + t.value + "] chosen with strategy [" + r + "]: [time:" + i.time + ", segmentIndex:" + i.segmentIndex + "]"), i;
                        }),
                        (i.saveExpiredSegmentInfo = function (e, t) {
                            for (var i = t.mediaSequence - e.mediaSequence - 1; i >= 0; i--) {
                                var n = e.segments[i];
                                if (n && void 0 !== n.start) {
                                    (t.syncInfo = { mediaSequence: e.mediaSequence + i, time: n.start }),
                                        this.logger_("playlist refresh sync: [time:" + t.syncInfo.time + ", mediaSequence: " + t.syncInfo.mediaSequence + "]"),
                                        this.trigger("syncinfoupdate");
                                    break;
                                }
                            }
                        }),
                        (i.setDateTimeMapping = function (e) {
                            if (!this.datetimeToDisplayTime && e.segments && e.segments.length && e.segments[0].dateTimeObject) {
                                var t = e.segments[0].dateTimeObject.getTime() / 1e3;
                                this.datetimeToDisplayTime = -t;
                            }
                        }),
                        (i.saveSegmentTimingInfo = function (e) {
                            var t = e.segmentInfo,
                                i = e.shouldSaveTimelineMapping;
                            this.calculateSegmentTimeMapping_(t, t.timingInfo, i) &&
                                (this.saveDiscontinuitySyncInfo_(t), t.playlist.syncInfo || (t.playlist.syncInfo = { mediaSequence: t.playlist.mediaSequence + t.mediaIndex, time: t.segment.start }));
                        }),
                        (i.timestampOffsetForTimeline = function (e) {
                            return void 0 === this.timelines[e] ? null : this.timelines[e].time;
                        }),
                        (i.mappingForTimeline = function (e) {
                            return void 0 === this.timelines[e] ? null : this.timelines[e].mapping;
                        }),
                        (i.calculateSegmentTimeMapping_ = function (e, t, i) {
                            var n = e.segment,
                                r = this.timelines[e.timeline];
                            if (null !== e.timestampOffset)
                                (r = { time: e.startOfSegment, mapping: e.startOfSegment - t.start }),
                                    i && ((this.timelines[e.timeline] = r), this.trigger("timestampoffset"), this.logger_("time mapping for timeline " + e.timeline + ": [time: " + r.time + "] [mapping: " + r.mapping + "]")),
                                    (n.start = e.startOfSegment),
                                    (n.end = t.end + r.mapping);
                            else {
                                if (!r) return !1;
                                (n.start = t.start + r.mapping), (n.end = t.end + r.mapping);
                            }
                            return !0;
                        }),
                        (i.saveDiscontinuitySyncInfo_ = function (e) {
                            var t = e.playlist,
                                i = e.segment;
                            if (i.discontinuity) this.discontinuities[i.timeline] = { time: i.start, accuracy: 0 };
                            else if (t.discontinuityStarts && t.discontinuityStarts.length)
                                for (var n = 0; n < t.discontinuityStarts.length; n++) {
                                    var r = t.discontinuityStarts[n],
                                        s = t.discontinuitySequence + n + 1,
                                        a = r - e.mediaIndex,
                                        o = Math.abs(a);
                                    if (!this.discontinuities[s] || this.discontinuities[s].accuracy > o) {
                                        var l = void 0;
                                        (l = a < 0 ? i.start - ga(t, e.mediaIndex, r) : i.end + ga(t, e.mediaIndex + 1, r)), (this.discontinuities[s] = { time: l, accuracy: o });
                                    }
                                }
                        }),
                        (i.dispose = function () {
                            this.trigger("dispose"), this.off();
                        }),
                        t
                    );
                })(qs.EventTarget),
                gl = (function (e) {
                    function t() {
                        var t;
                        return ((t = e.call(this) || this).pendingTimelineChanges_ = {}), (t.lastTimelineChanges_ = {}), t;
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.clearPendingTimelineChange = function (e) {
                            (this.pendingTimelineChanges_[e] = null), this.trigger("pendingtimelinechange");
                        }),
                        (i.pendingTimelineChange = function (e) {
                            var t = e.type,
                                i = e.from,
                                n = e.to;
                            return "number" == typeof i && "number" == typeof n && ((this.pendingTimelineChanges_[t] = { type: t, from: i, to: n }), this.trigger("pendingtimelinechange")), this.pendingTimelineChanges_[t];
                        }),
                        (i.lastTimelineChange = function (e) {
                            var t = e.type,
                                i = e.from,
                                n = e.to;
                            return (
                                "number" == typeof i && "number" == typeof n && ((this.lastTimelineChanges_[t] = { type: t, from: i, to: n }), delete this.pendingTimelineChanges_[t], this.trigger("timelinechange")),
                                this.lastTimelineChanges_[t]
                            );
                        }),
                        (i.dispose = function () {
                            this.trigger("dispose"), (this.pendingTimelineChanges_ = {}), (this.lastTimelineChanges_ = {}), this.off();
                        }),
                        t
                    );
                })(qs.EventTarget),
                vl = new So("./decrypter-worker.worker.js", function () {
                    var e = this;
                    !(function () {
                        function t(e, t) {
                            for (var i = 0; i < t.length; i++) {
                                var n = t[i];
                                (n.enumerable = n.enumerable || !1), (n.configurable = !0), "value" in n && (n.writable = !0), Object.defineProperty(e, n.key, n);
                            }
                        }
                        var i = function (e, i, n) {
                            return i && t(e.prototype, i), n && t(e, n), e;
                        };
                        var n = function (e, t) {
                                (e.prototype = Object.create(t.prototype)), (e.prototype.constructor = e), (e.__proto__ = t);
                            },
                            r = (function () {
                                function e() {
                                    this.listeners = {};
                                }
                                var t = e.prototype;
                                return (
                                    (t.on = function (e, t) {
                                        this.listeners[e] || (this.listeners[e] = []), this.listeners[e].push(t);
                                    }),
                                    (t.off = function (e, t) {
                                        if (!this.listeners[e]) return !1;
                                        var i = this.listeners[e].indexOf(t);
                                        return (this.listeners[e] = this.listeners[e].slice(0)), this.listeners[e].splice(i, 1), i > -1;
                                    }),
                                    (t.trigger = function (e) {
                                        var t = this.listeners[e];
                                        if (t)
                                            if (2 === arguments.length) for (var i = t.length, n = 0; n < i; ++n) t[n].call(this, arguments[1]);
                                            else for (var r = Array.prototype.slice.call(arguments, 1), s = t.length, a = 0; a < s; ++a) t[a].apply(this, r);
                                    }),
                                    (t.dispose = function () {
                                        this.listeners = {};
                                    }),
                                    (t.pipe = function (e) {
                                        this.on("data", function (t) {
                                            e.push(t);
                                        });
                                    }),
                                    e
                                );
                            })();
                        var s = null,
                            a = (function () {
                                function e(e) {
                                    var t, i, n;
                                    s ||
                                        (s = (function () {
                                            var e,
                                                t,
                                                i,
                                                n,
                                                r,
                                                s,
                                                a,
                                                o,
                                                l = [
                                                    [[], [], [], [], []],
                                                    [[], [], [], [], []],
                                                ],
                                                u = l[0],
                                                c = l[1],
                                                d = u[4],
                                                h = c[4],
                                                p = [],
                                                f = [];
                                            for (e = 0; e < 256; e++) f[(p[e] = (e << 1) ^ (283 * (e >> 7))) ^ e] = e;
                                            for (t = i = 0; !d[t]; t ^= n || 1, i = f[i] || 1)
                                                for (
                                                    s = ((s = i ^ (i << 1) ^ (i << 2) ^ (i << 3) ^ (i << 4)) >> 8) ^ (255 & s) ^ 99,
                                                        d[t] = s,
                                                        h[s] = t,
                                                        o = (16843009 * p[(r = p[(n = p[t])])]) ^ (65537 * r) ^ (257 * n) ^ (16843008 * t),
                                                        a = (257 * p[s]) ^ (16843008 * s),
                                                        e = 0;
                                                    e < 4;
                                                    e++
                                                )
                                                    (u[e][t] = a = (a << 24) ^ (a >>> 8)), (c[e][s] = o = (o << 24) ^ (o >>> 8));
                                            for (e = 0; e < 5; e++) (u[e] = u[e].slice(0)), (c[e] = c[e].slice(0));
                                            return l;
                                        })()),
                                        (this._tables = [
                                            [s[0][0].slice(), s[0][1].slice(), s[0][2].slice(), s[0][3].slice(), s[0][4].slice()],
                                            [s[1][0].slice(), s[1][1].slice(), s[1][2].slice(), s[1][3].slice(), s[1][4].slice()],
                                        ]);
                                    var r = this._tables[0][4],
                                        a = this._tables[1],
                                        o = e.length,
                                        l = 1;
                                    if (4 !== o && 6 !== o && 8 !== o) throw new Error("Invalid aes key size");
                                    var u = e.slice(0),
                                        c = [];
                                    for (this._key = [u, c], t = o; t < 4 * o + 28; t++)
                                        (n = u[t - 1]),
                                            (t % o == 0 || (8 === o && t % o == 4)) &&
                                                ((n = (r[n >>> 24] << 24) ^ (r[(n >> 16) & 255] << 16) ^ (r[(n >> 8) & 255] << 8) ^ r[255 & n]), t % o == 0 && ((n = (n << 8) ^ (n >>> 24) ^ (l << 24)), (l = (l << 1) ^ (283 * (l >> 7))))),
                                            (u[t] = u[t - o] ^ n);
                                    for (i = 0; t; i++, t--) (n = u[3 & i ? t : t - 4]), (c[i] = t <= 4 || i < 4 ? n : a[0][r[n >>> 24]] ^ a[1][r[(n >> 16) & 255]] ^ a[2][r[(n >> 8) & 255]] ^ a[3][r[255 & n]]);
                                }
                                return (
                                    (e.prototype.decrypt = function (e, t, i, n, r, s) {
                                        var a,
                                            o,
                                            l,
                                            u,
                                            c = this._key[1],
                                            d = e ^ c[0],
                                            h = n ^ c[1],
                                            p = i ^ c[2],
                                            f = t ^ c[3],
                                            m = c.length / 4 - 2,
                                            g = 4,
                                            v = this._tables[1],
                                            y = v[0],
                                            _ = v[1],
                                            b = v[2],
                                            T = v[3],
                                            S = v[4];
                                        for (u = 0; u < m; u++)
                                            (a = y[d >>> 24] ^ _[(h >> 16) & 255] ^ b[(p >> 8) & 255] ^ T[255 & f] ^ c[g]),
                                                (o = y[h >>> 24] ^ _[(p >> 16) & 255] ^ b[(f >> 8) & 255] ^ T[255 & d] ^ c[g + 1]),
                                                (l = y[p >>> 24] ^ _[(f >> 16) & 255] ^ b[(d >> 8) & 255] ^ T[255 & h] ^ c[g + 2]),
                                                (f = y[f >>> 24] ^ _[(d >> 16) & 255] ^ b[(h >> 8) & 255] ^ T[255 & p] ^ c[g + 3]),
                                                (g += 4),
                                                (d = a),
                                                (h = o),
                                                (p = l);
                                        for (u = 0; u < 4; u++) (r[(3 & -u) + s] = (S[d >>> 24] << 24) ^ (S[(h >> 16) & 255] << 16) ^ (S[(p >> 8) & 255] << 8) ^ S[255 & f] ^ c[g++]), (a = d), (d = h), (h = p), (p = f), (f = a);
                                    }),
                                    e
                                );
                            })(),
                            o = (function (e) {
                                function t() {
                                    var t;
                                    return ((t = e.call(this, r) || this).jobs = []), (t.delay = 1), (t.timeout_ = null), t;
                                }
                                n(t, e);
                                var i = t.prototype;
                                return (
                                    (i.processJob_ = function () {
                                        this.jobs.shift()(), this.jobs.length ? (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay)) : (this.timeout_ = null);
                                    }),
                                    (i.push = function (e) {
                                        this.jobs.push(e), this.timeout_ || (this.timeout_ = setTimeout(this.processJob_.bind(this), this.delay));
                                    }),
                                    t
                                );
                            })(r),
                            l = function (e) {
                                return (e << 24) | ((65280 & e) << 8) | ((16711680 & e) >> 8) | (e >>> 24);
                            },
                            u = (function () {
                                function e(t, i, n, r) {
                                    var s = e.STEP,
                                        a = new Int32Array(t.buffer),
                                        u = new Uint8Array(t.byteLength),
                                        c = 0;
                                    for (this.asyncStream_ = new o(), this.asyncStream_.push(this.decryptChunk_(a.subarray(c, c + s), i, n, u)), c = s; c < a.length; c += s)
                                        (n = new Uint32Array([l(a[c - 4]), l(a[c - 3]), l(a[c - 2]), l(a[c - 1])])), this.asyncStream_.push(this.decryptChunk_(a.subarray(c, c + s), i, n, u));
                                    this.asyncStream_.push(function () {
                                        var e;
                                        r(null, (e = u).subarray(0, e.byteLength - e[e.byteLength - 1]));
                                    });
                                }
                                return (
                                    (e.prototype.decryptChunk_ = function (e, t, i, n) {
                                        return function () {
                                            var r = (function (e, t, i) {
                                                var n,
                                                    r,
                                                    s,
                                                    o,
                                                    u,
                                                    c,
                                                    d,
                                                    h,
                                                    p,
                                                    f = new Int32Array(e.buffer, e.byteOffset, e.byteLength >> 2),
                                                    m = new a(Array.prototype.slice.call(t)),
                                                    g = new Uint8Array(e.byteLength),
                                                    v = new Int32Array(g.buffer);
                                                for (n = i[0], r = i[1], s = i[2], o = i[3], p = 0; p < f.length; p += 4)
                                                    (u = l(f[p])),
                                                        (c = l(f[p + 1])),
                                                        (d = l(f[p + 2])),
                                                        (h = l(f[p + 3])),
                                                        m.decrypt(u, c, d, h, v, p),
                                                        (v[p] = l(v[p] ^ n)),
                                                        (v[p + 1] = l(v[p + 1] ^ r)),
                                                        (v[p + 2] = l(v[p + 2] ^ s)),
                                                        (v[p + 3] = l(v[p + 3] ^ o)),
                                                        (n = u),
                                                        (r = c),
                                                        (s = d),
                                                        (o = h);
                                                return g;
                                            })(e, t, i);
                                            n.set(r, e.byteOffset);
                                        };
                                    }),
                                    i(e, null, [
                                        {
                                            key: "STEP",
                                            get: function () {
                                                return 32e3;
                                            },
                                        },
                                    ]),
                                    e
                                );
                            })();
                        new (function (e) {
                            e.onmessage = function (t) {
                                var i = t.data,
                                    n = new Uint8Array(i.encrypted.bytes, i.encrypted.byteOffset, i.encrypted.byteLength),
                                    r = new Uint32Array(i.key.bytes, i.key.byteOffset, i.key.byteLength / 4),
                                    s = new Uint32Array(i.iv.bytes, i.iv.byteOffset, i.iv.byteLength / 4);
                                new u(n, r, s, function (t, n) {
                                    var r, s;
                                    e.postMessage(
                                        ((r = { source: i.source, decrypted: n }),
                                        (s = {}),
                                        Object.keys(r).forEach(function (e) {
                                            var t = r[e];
                                            ArrayBuffer.isView(t) ? (s[e] = { bytes: t.buffer, byteOffset: t.byteOffset, byteLength: t.byteLength }) : (s[e] = t);
                                        }),
                                        s),
                                        [n.buffer]
                                    );
                                });
                            };
                        })(e);
                    })();
                }),
                yl = function (e) {
                    var t = e.default ? "main" : "alternative";
                    return e.characteristics && e.characteristics.indexOf("public.accessibility.describes-video") >= 0 && (t = "main-desc"), t;
                },
                _l = function (e, t) {
                    e.abort(), e.pause(), t && t.activePlaylistLoader && (t.activePlaylistLoader.pause(), (t.activePlaylistLoader = null));
                },
                bl = function (e, t) {
                    (t.activePlaylistLoader = e), e.load();
                },
                Tl = {
                    AUDIO: function (e, t) {
                        return function () {
                            var i = t.segmentLoaders[e],
                                n = t.mediaTypes[e],
                                r = t.blacklistCurrentPlaylist;
                            _l(i, n);
                            var s = n.activeTrack(),
                                a = n.activeGroup(),
                                o = (
                                    a.filter(function (e) {
                                        return e.default;
                                    })[0] || a[0]
                                ).id,
                                l = n.tracks[o];
                            if (s !== l) {
                                for (var u in (qs.log.warn("Problem encountered loading the alternate audio track.Switching back to default."), n.tracks)) n.tracks[u].enabled = n.tracks[u] === l;
                                n.onTrackChanged();
                            } else r({ message: "Problem encountered loading the default audio track." });
                        };
                    },
                    SUBTITLES: function (e, t) {
                        return function () {
                            var i = t.segmentLoaders[e],
                                n = t.mediaTypes[e];
                            qs.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."), _l(i, n);
                            var r = n.activeTrack();
                            r && (r.mode = "disabled"), n.onTrackChanged();
                        };
                    },
                },
                Sl = {
                    AUDIO: function (e, t, i) {
                        if (t) {
                            var n = i.tech,
                                r = i.requestOptions,
                                s = i.segmentLoaders[e];
                            t.on("loadedmetadata", function () {
                                var e = t.media();
                                s.playlist(e, r), (!n.paused() || (e.endList && "none" !== n.preload())) && s.load();
                            }),
                                t.on("loadedplaylist", function () {
                                    s.playlist(t.media(), r), n.paused() || s.load();
                                }),
                                t.on("error", Tl[e](e, i));
                        }
                    },
                    SUBTITLES: function (e, t, i) {
                        var n = i.tech,
                            r = i.requestOptions,
                            s = i.segmentLoaders[e],
                            a = i.mediaTypes[e];
                        t.on("loadedmetadata", function () {
                            var e = t.media();
                            s.playlist(e, r), s.track(a.activeTrack()), (!n.paused() || (e.endList && "none" !== n.preload())) && s.load();
                        }),
                            t.on("loadedplaylist", function () {
                                s.playlist(t.media(), r), n.paused() || s.load();
                            }),
                            t.on("error", Tl[e](e, i));
                    },
                },
                wl = {
                    AUDIO: function (e, t) {
                        var i = t.vhs,
                            n = t.sourceType,
                            r = t.segmentLoaders[e],
                            s = t.requestOptions,
                            a = t.master,
                            o = a.mediaGroups,
                            l = a.playlists,
                            u = t.mediaTypes[e],
                            c = u.groups,
                            d = u.tracks,
                            h = t.masterPlaylistLoader;
                        (o[e] && 0 !== Object.keys(o[e]).length) || (o[e] = { main: { default: { default: !0 } } });
                        var p = function (r) {
                            c[r] || (c[r] = []);
                            var a = l.filter(function (t) {
                                    return t.attributes[e] === r;
                                }),
                                u = function (l) {
                                    var u = o[e][r][l];
                                    a.filter(function (e) {
                                        return e.resolvedUri === u.resolvedUri;
                                    }).length && delete u.resolvedUri;
                                    var p = void 0;
                                    if (
                                        ((p = "vhs-json" === n && u.playlists ? new sa(u.playlists[0], i, s) : u.resolvedUri ? new sa(u.resolvedUri, i, s) : u.playlists && "dash" === n ? new Ya(u.playlists[0], i, s, h) : null),
                                        (u = qs.mergeOptions({ id: l, playlistLoader: p }, u)),
                                        Sl[e](e, u.playlistLoader, t),
                                        c[r].push(u),
                                        void 0 === d[l])
                                    ) {
                                        var f = new qs.AudioTrack({ id: l, kind: yl(u), enabled: !1, language: u.language, default: u.default, label: l });
                                        d[l] = f;
                                    }
                                };
                            for (var p in o[e][r]) u(p);
                        };
                        for (var f in o[e]) p(f);
                        r.on("error", Tl[e](e, t));
                    },
                    SUBTITLES: function (e, t) {
                        var i = t.tech,
                            n = t.vhs,
                            r = t.sourceType,
                            s = t.segmentLoaders[e],
                            a = t.requestOptions,
                            o = t.master.mediaGroups,
                            l = t.mediaTypes[e],
                            u = l.groups,
                            c = l.tracks,
                            d = t.masterPlaylistLoader;
                        for (var h in o[e])
                            for (var p in (u[h] || (u[h] = []), o[e][h]))
                                if (!o[e][h][p].forced) {
                                    var f = o[e][h][p],
                                        m = void 0;
                                    if (
                                        ("hls" === r ? (m = new sa(f.resolvedUri, n, a)) : "dash" === r ? (m = new Ya(f.playlists[0], n, a, d)) : "vhs-json" === r && (m = new sa(f.playlists ? f.playlists[0] : f.resolvedUri, n, a)),
                                        (f = qs.mergeOptions({ id: p, playlistLoader: m }, f)),
                                        Sl[e](e, f.playlistLoader, t),
                                        u[h].push(f),
                                        void 0 === c[p])
                                    ) {
                                        var g = i.addRemoteTextTrack({ id: p, kind: "subtitles", default: f.default && f.autoselect, language: f.language, label: p }, !1).track;
                                        c[p] = g;
                                    }
                                }
                        s.on("error", Tl[e](e, t));
                    },
                    "CLOSED-CAPTIONS": function (e, t) {
                        var i = t.tech,
                            n = t.master.mediaGroups,
                            r = t.mediaTypes[e],
                            s = r.groups,
                            a = r.tracks;
                        for (var o in n[e])
                            for (var l in (s[o] || (s[o] = []), n[e][o])) {
                                var u = n[e][o][l];
                                if (u.instreamId.match(/CC\d/) && (s[o].push(qs.mergeOptions({ id: l }, u)), void 0 === a[l])) {
                                    var c = i.addRemoteTextTrack({ id: u.instreamId, kind: "captions", default: u.default && u.autoselect, language: u.language, label: l }, !1).track;
                                    a[l] = c;
                                }
                            }
                    },
                },
                kl = {
                    AUDIO: function (e, t) {
                        return function () {
                            var i = t.mediaTypes[e].tracks;
                            for (var n in i) if (i[n].enabled) return i[n];
                            return null;
                        };
                    },
                    SUBTITLES: function (e, t) {
                        return function () {
                            var i = t.mediaTypes[e].tracks;
                            for (var n in i) if ("showing" === i[n].mode || "hidden" === i[n].mode) return i[n];
                            return null;
                        };
                    },
                },
                Cl = function (e) {
                    ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function (t) {
                        wl[t](t, e);
                    });
                    var t = e.mediaTypes,
                        i = e.masterPlaylistLoader,
                        n = e.tech,
                        r = e.vhs;
                    ["AUDIO", "SUBTITLES"].forEach(function (i) {
                        (t[i].activeGroup = (function (e, t) {
                            return function (i) {
                                var n = t.masterPlaylistLoader,
                                    r = t.mediaTypes[e].groups,
                                    s = n.media();
                                if (!s) return null;
                                var a = null;
                                return (
                                    s.attributes[e] && (a = r[s.attributes[e]]),
                                    (a = a || r.main),
                                    void 0 === i
                                        ? a
                                        : null === i
                                        ? null
                                        : a.filter(function (e) {
                                              return e.id === i.id;
                                          })[0] || null
                                );
                            };
                        })(i, e)),
                            (t[i].activeTrack = kl[i](i, e)),
                            (t[i].onGroupChanged = (function (e, t) {
                                return function () {
                                    var i = t.segmentLoaders,
                                        n = i[e],
                                        r = i.main,
                                        s = t.mediaTypes[e],
                                        a = s.activeTrack(),
                                        o = s.activeGroup(a),
                                        l = s.activePlaylistLoader;
                                    _l(n, s), o && (o.playlistLoader ? (n.resyncLoader(), bl(o.playlistLoader, s)) : l && r.resetEverything());
                                };
                            })(i, e)),
                            (t[i].onGroupChanging = (function (e, t) {
                                return function () {
                                    var i = t.segmentLoaders[e];
                                    i.abort(), i.pause();
                                };
                            })(i, e)),
                            (t[i].onTrackChanged = (function (e, t) {
                                return function () {
                                    var i = t.segmentLoaders,
                                        n = i[e],
                                        r = i.main,
                                        s = t.mediaTypes[e],
                                        a = s.activeTrack(),
                                        o = s.activeGroup(a),
                                        l = s.activePlaylistLoader;
                                    if ((_l(n, s), o)) {
                                        if ("AUDIO" === e) {
                                            if (!o.playlistLoader) return r.setAudio(!0), void r.resetEverything();
                                            n.setAudio(!0), r.setAudio(!1);
                                        }
                                        l !== o.playlistLoader ? (n.track && n.track(a), n.resetEverything(), bl(o.playlistLoader, s)) : bl(o.playlistLoader, s);
                                    }
                                };
                            })(i, e));
                    });
                    var s = t.AUDIO.activeGroup();
                    if (s) {
                        var a = (
                            s.filter(function (e) {
                                return e.default;
                            })[0] || s[0]
                        ).id;
                        (t.AUDIO.tracks[a].enabled = !0), t.AUDIO.onTrackChanged();
                    }
                    i.on("mediachange", function () {
                        ["AUDIO", "SUBTITLES"].forEach(function (e) {
                            return t[e].onGroupChanged();
                        });
                    }),
                        i.on("mediachanging", function () {
                            ["AUDIO", "SUBTITLES"].forEach(function (e) {
                                return t[e].onGroupChanging();
                            });
                        });
                    var o = function () {
                        t.AUDIO.onTrackChanged(), n.trigger({ type: "usage", name: "vhs-audio-change" }), n.trigger({ type: "usage", name: "hls-audio-change" });
                    };
                    for (var l in (n.audioTracks().addEventListener("change", o),
                    n.remoteTextTracks().addEventListener("change", t.SUBTITLES.onTrackChanged),
                    r.on("dispose", function () {
                        n.audioTracks().removeEventListener("change", o), n.remoteTextTracks().removeEventListener("change", t.SUBTITLES.onTrackChanged);
                    }),
                    n.clearTracks("audio"),
                    t.AUDIO.tracks))
                        n.audioTracks().addTrack(t.AUDIO.tracks[l]);
                },
                El = ["mediaRequests", "mediaRequestsAborted", "mediaRequestsTimedout", "mediaRequestsErrored", "mediaTransferDuration", "mediaBytesTransferred"],
                xl = function (e) {
                    return this.audioSegmentLoader_[e] + this.mainSegmentLoader_[e];
                },
                Al = (function (e) {
                    function t(t) {
                        var i;
                        i = e.call(this) || this;
                        var n,
                            s = t.src,
                            a = t.handleManifestRedirects,
                            o = t.withCredentials,
                            l = t.tech,
                            u = t.bandwidth,
                            d = t.externVhs,
                            h = t.useCueTags,
                            p = t.blacklistDuration,
                            f = t.enableLowInitialPlaylist,
                            m = t.sourceType,
                            g = t.cacheEncryptionKeys,
                            v = t.handlePartialData;
                        if (!s) throw new Error("A non-empty playlist URL or JSON manifest string is required");
                        ($o = d),
                            (i.withCredentials = o),
                            (i.tech_ = l),
                            (i.vhs_ = l.vhs),
                            (i.sourceType_ = m),
                            (i.useCueTags_ = h),
                            (i.blacklistDuration = p),
                            (i.enableLowInitialPlaylist = f),
                            i.useCueTags_ && ((i.cueTagsTrack_ = i.tech_.addTextTrack("metadata", "ad-cues")), (i.cueTagsTrack_.inBandMetadataTrackDispatchType = "")),
                            (i.requestOptions_ = { withCredentials: o, handleManifestRedirects: a, timeout: null }),
                            i.on("error", i.pauseLoading),
                            (i.mediaTypes_ =
                                ((n = {}),
                                ["AUDIO", "SUBTITLES", "CLOSED-CAPTIONS"].forEach(function (e) {
                                    n[e] = { groups: {}, tracks: {}, activePlaylistLoader: null, activeGroup: Vo, activeTrack: Vo, onGroupChanged: Vo, onTrackChanged: Vo };
                                }),
                                n)),
                            (i.mediaSource = new r.a.MediaSource()),
                            (i.handleDurationChange_ = i.handleDurationChange_.bind(c()(i))),
                            (i.handleSourceOpen_ = i.handleSourceOpen_.bind(c()(i))),
                            (i.handleSourceEnded_ = i.handleSourceEnded_.bind(c()(i))),
                            i.mediaSource.addEventListener("durationchange", i.handleDurationChange_),
                            i.mediaSource.addEventListener("sourceopen", i.handleSourceOpen_),
                            i.mediaSource.addEventListener("sourceended", i.handleSourceEnded_),
                            (i.seekable_ = qs.createTimeRanges()),
                            (i.hasPlayed_ = !1),
                            (i.syncController_ = new ml(t)),
                            (i.segmentMetadataTrack_ = l.addRemoteTextTrack({ kind: "metadata", label: "segment-metadata" }, !1).track),
                            (i.decrypter_ = new vl()),
                            (i.sourceUpdater_ = new ul(i.mediaSource)),
                            (i.inbandTextTracks_ = {}),
                            (i.timelineChangeController_ = new gl());
                        var y = {
                            vhs: i.vhs_,
                            mediaSource: i.mediaSource,
                            currentTime: i.tech_.currentTime.bind(i.tech_),
                            seekable: function () {
                                return i.seekable();
                            },
                            seeking: function () {
                                return i.tech_.seeking();
                            },
                            duration: function () {
                                return i.duration();
                            },
                            hasPlayed: function () {
                                return i.hasPlayed_;
                            },
                            goalBufferLength: function () {
                                return i.goalBufferLength();
                            },
                            bandwidth: u,
                            syncController: i.syncController_,
                            decrypter: i.decrypter_,
                            sourceType: i.sourceType_,
                            inbandTextTracks: i.inbandTextTracks_,
                            cacheEncryptionKeys: g,
                            handlePartialData: v,
                            sourceUpdater: i.sourceUpdater_,
                            timelineChangeController: i.timelineChangeController_,
                        };
                        return (
                            (i.masterPlaylistLoader_ = "dash" === i.sourceType_ ? new Ya(s, i.vhs_, i.requestOptions_) : new sa(s, i.vhs_, i.requestOptions_)),
                            i.setupMasterPlaylistLoaderListeners_(),
                            (i.mainSegmentLoader_ = new qo(qs.mergeOptions(y, { segmentMetadataTrack: i.segmentMetadataTrack_, loaderType: "main" }), t)),
                            (i.audioSegmentLoader_ = new qo(qs.mergeOptions(y, { loaderType: "audio" }), t)),
                            (i.subtitleSegmentLoader_ = new hl(qs.mergeOptions(y, { loaderType: "vtt", featuresNativeTextTracks: i.tech_.featuresNativeTextTracks }), t)),
                            i.setupSegmentLoaderListeners_(),
                            El.forEach(function (e) {
                                i[e + "_"] = xl.bind(c()(i), e);
                            }),
                            (i.logger_ = Po("MPC")),
                            (i.triggeredFmp4Usage = !1),
                            i.masterPlaylistLoader_.load(),
                            i
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.setupMasterPlaylistLoaderListeners_ = function () {
                            var e = this;
                            this.masterPlaylistLoader_.on("loadedmetadata", function () {
                                var t = e.masterPlaylistLoader_.media(),
                                    i = 1.5 * t.targetDuration * 1e3;
                                wa(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? (e.requestOptions_.timeout = 0) : (e.requestOptions_.timeout = i),
                                    t.endList && "none" !== e.tech_.preload() && (e.mainSegmentLoader_.playlist(t, e.requestOptions_), e.mainSegmentLoader_.load()),
                                    Cl({
                                        sourceType: e.sourceType_,
                                        segmentLoaders: { AUDIO: e.audioSegmentLoader_, SUBTITLES: e.subtitleSegmentLoader_, main: e.mainSegmentLoader_ },
                                        tech: e.tech_,
                                        requestOptions: e.requestOptions_,
                                        masterPlaylistLoader: e.masterPlaylistLoader_,
                                        vhs: e.vhs_,
                                        master: e.master(),
                                        mediaTypes: e.mediaTypes_,
                                        blacklistCurrentPlaylist: e.blacklistCurrentPlaylist.bind(e),
                                    }),
                                    e.triggerPresenceUsage_(e.master(), t),
                                    e.setupFirstPlay(),
                                    !e.mediaTypes_.AUDIO.activePlaylistLoader || e.mediaTypes_.AUDIO.activePlaylistLoader.media()
                                        ? e.trigger("selectedinitialmedia")
                                        : e.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata", function () {
                                              e.trigger("selectedinitialmedia");
                                          });
                            }),
                                this.masterPlaylistLoader_.on("loadedplaylist", function () {
                                    var t = e.masterPlaylistLoader_.media();
                                    if (!t) {
                                        var i;
                                        if (
                                            (e.excludeUnsupportedVariants_(),
                                            e.enableLowInitialPlaylist && (i = e.selectInitialPlaylist()),
                                            i || (i = e.selectPlaylist()),
                                            (e.initialMedia_ = i),
                                            e.masterPlaylistLoader_.media(e.initialMedia_),
                                            !("vhs-json" === e.sourceType_ && e.initialMedia_.segments))
                                        )
                                            return;
                                        t = e.initialMedia_;
                                    }
                                    e.handleUpdatedMediaPlaylist(t);
                                }),
                                this.masterPlaylistLoader_.on("error", function () {
                                    e.blacklistCurrentPlaylist(e.masterPlaylistLoader_.error);
                                }),
                                this.masterPlaylistLoader_.on("mediachanging", function () {
                                    e.mainSegmentLoader_.abort(), e.mainSegmentLoader_.pause();
                                }),
                                this.masterPlaylistLoader_.on("mediachange", function () {
                                    var t = e.masterPlaylistLoader_.media(),
                                        i = 1.5 * t.targetDuration * 1e3;
                                    wa(e.masterPlaylistLoader_.master, e.masterPlaylistLoader_.media()) ? (e.requestOptions_.timeout = 0) : (e.requestOptions_.timeout = i),
                                        e.mainSegmentLoader_.playlist(t, e.requestOptions_),
                                        e.mainSegmentLoader_.load(),
                                        e.tech_.trigger({ type: "mediachange", bubbles: !0 });
                                }),
                                this.masterPlaylistLoader_.on("playlistunchanged", function () {
                                    var t = e.masterPlaylistLoader_.media();
                                    e.stuckAtPlaylistEnd_(t) && (e.blacklistCurrentPlaylist({ message: "Playlist no longer updating." }), e.tech_.trigger("playliststuck"));
                                }),
                                this.masterPlaylistLoader_.on("renditiondisabled", function () {
                                    e.tech_.trigger({ type: "usage", name: "vhs-rendition-disabled" }), e.tech_.trigger({ type: "usage", name: "hls-rendition-disabled" });
                                }),
                                this.masterPlaylistLoader_.on("renditionenabled", function () {
                                    e.tech_.trigger({ type: "usage", name: "vhs-rendition-enabled" }), e.tech_.trigger({ type: "usage", name: "hls-rendition-enabled" });
                                });
                        }),
                        (i.handleUpdatedMediaPlaylist = function (e) {
                            this.useCueTags_ && this.updateAdCues_(e),
                                this.mainSegmentLoader_.playlist(e, this.requestOptions_),
                                this.updateDuration(!e.endList),
                                this.tech_.paused() || (this.mainSegmentLoader_.load(), this.audioSegmentLoader_ && this.audioSegmentLoader_.load());
                        }),
                        (i.triggerPresenceUsage_ = function (e, t) {
                            var i = e.mediaGroups || {},
                                n = !0,
                                r = Object.keys(i.AUDIO);
                            for (var s in i.AUDIO)
                                for (var a in i.AUDIO[s]) {
                                    i.AUDIO[s][a].uri || (n = !1);
                                }
                            n && (this.tech_.trigger({ type: "usage", name: "vhs-demuxed" }), this.tech_.trigger({ type: "usage", name: "hls-demuxed" })),
                                Object.keys(i.SUBTITLES).length && (this.tech_.trigger({ type: "usage", name: "vhs-webvtt" }), this.tech_.trigger({ type: "usage", name: "hls-webvtt" })),
                                $o.Playlist.isAes(t) && (this.tech_.trigger({ type: "usage", name: "vhs-aes" }), this.tech_.trigger({ type: "usage", name: "hls-aes" })),
                                r.length && Object.keys(i.AUDIO[r[0]]).length > 1 && (this.tech_.trigger({ type: "usage", name: "vhs-alternate-audio" }), this.tech_.trigger({ type: "usage", name: "hls-alternate-audio" })),
                                this.useCueTags_ && (this.tech_.trigger({ type: "usage", name: "vhs-playlist-cue-tags" }), this.tech_.trigger({ type: "usage", name: "hls-playlist-cue-tags" }));
                        }),
                        (i.setupSegmentLoaderListeners_ = function () {
                            var e = this;
                            this.mainSegmentLoader_.on("bandwidthupdate", function () {
                                var t = e.selectPlaylist(),
                                    i = e.masterPlaylistLoader_.media(),
                                    n = e.tech_.buffered();
                                (function (e) {
                                    var t = e.currentPlaylist,
                                        i = e.nextPlaylist,
                                        n = e.forwardBuffer,
                                        r = e.bufferLowWaterLine,
                                        s = e.duration;
                                    return (
                                        e.log,
                                        i ? !t.endList || s < Xa.MAX_BUFFER_LOW_WATER_LINE || i.attributes.BANDWIDTH < t.attributes.BANDWIDTH || n >= r : (qs.log.warn("We received no playlist to switch to. Please check your stream."), !1)
                                    );
                                })({ currentPlaylist: i, nextPlaylist: t, forwardBuffer: n.length ? n.end(n.length - 1) - e.tech_.currentTime() : 0, bufferLowWaterLine: e.bufferLowWaterLine(), duration: e.duration(), log: e.logger_ }) &&
                                    e.masterPlaylistLoader_.media(t),
                                    e.tech_.trigger("bandwidthupdate");
                            }),
                                this.mainSegmentLoader_.on("progress", function () {
                                    e.trigger("progress");
                                }),
                                this.mainSegmentLoader_.on("error", function () {
                                    e.blacklistCurrentPlaylist(e.mainSegmentLoader_.error());
                                }),
                                this.mainSegmentLoader_.on("appenderror", function () {
                                    (e.error = e.mainSegmentLoader_.error_), e.trigger("error");
                                }),
                                this.mainSegmentLoader_.on("syncinfoupdate", function () {
                                    e.onSyncInfoUpdate_();
                                }),
                                this.mainSegmentLoader_.on("timestampoffset", function () {
                                    e.tech_.trigger({ type: "usage", name: "vhs-timestamp-offset" }), e.tech_.trigger({ type: "usage", name: "hls-timestamp-offset" });
                                }),
                                this.audioSegmentLoader_.on("syncinfoupdate", function () {
                                    e.onSyncInfoUpdate_();
                                }),
                                this.audioSegmentLoader_.on("appenderror", function () {
                                    (e.error = e.audioSegmentLoader_.error_), e.trigger("error");
                                }),
                                this.mainSegmentLoader_.on("ended", function () {
                                    e.logger_("main segment loader ended"), e.onEndOfStream();
                                }),
                                this.mainSegmentLoader_.on("earlyabort", function () {
                                    e.blacklistCurrentPlaylist({ message: "Aborted early because there isn't enough bandwidth to complete the request without rebuffering." }, 120);
                                });
                            var t = function () {
                                if (!e.sourceUpdater_.ready()) return e.tryToCreateSourceBuffers_();
                                var t = e.getCodecsOrExclude_();
                                t && e.sourceUpdater_.addOrChangeSourceBuffers(t);
                            };
                            this.mainSegmentLoader_.on("trackinfo", t),
                                this.audioSegmentLoader_.on("trackinfo", t),
                                this.mainSegmentLoader_.on("fmp4", function () {
                                    e.triggeredFmp4Usage || (e.tech_.trigger({ type: "usage", name: "vhs-fmp4" }), e.tech_.trigger({ type: "usage", name: "hls-fmp4" }), (e.triggeredFmp4Usage = !0));
                                }),
                                this.audioSegmentLoader_.on("fmp4", function () {
                                    e.triggeredFmp4Usage || (e.tech_.trigger({ type: "usage", name: "vhs-fmp4" }), e.tech_.trigger({ type: "usage", name: "hls-fmp4" }), (e.triggeredFmp4Usage = !0));
                                }),
                                this.audioSegmentLoader_.on("ended", function () {
                                    e.logger_("audioSegmentLoader ended"), e.onEndOfStream();
                                });
                        }),
                        (i.mediaSecondsLoaded_ = function () {
                            return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded + this.mainSegmentLoader_.mediaSecondsLoaded);
                        }),
                        (i.load = function () {
                            this.mainSegmentLoader_.load(), this.mediaTypes_.AUDIO.activePlaylistLoader && this.audioSegmentLoader_.load(), this.mediaTypes_.SUBTITLES.activePlaylistLoader && this.subtitleSegmentLoader_.load();
                        }),
                        (i.smoothQualityChange_ = function (e) {
                            void 0 === e && (e = this.selectPlaylist()), e !== this.masterPlaylistLoader_.media() && (this.masterPlaylistLoader_.media(e), this.mainSegmentLoader_.resetLoader());
                        }),
                        (i.fastQualityChange_ = function (e) {
                            var t = this;
                            void 0 === e && (e = this.selectPlaylist()),
                                e !== this.masterPlaylistLoader_.media() &&
                                    (this.masterPlaylistLoader_.media(e),
                                    this.mainSegmentLoader_.resetEverything(function () {
                                        qs.browser.IE_VERSION || qs.browser.IS_EDGE ? t.tech_.setCurrentTime(t.tech_.currentTime() + 0.04) : t.tech_.setCurrentTime(t.tech_.currentTime());
                                    }));
                        }),
                        (i.play = function () {
                            if (!this.setupFirstPlay()) {
                                this.tech_.ended() && this.tech_.setCurrentTime(0), this.hasPlayed_ && this.load();
                                var e = this.tech_.seekable();
                                return this.tech_.duration() === 1 / 0 && this.tech_.currentTime() < e.start(0) ? this.tech_.setCurrentTime(e.end(e.length - 1)) : void 0;
                            }
                        }),
                        (i.setupFirstPlay = function () {
                            var e = this,
                                t = this.masterPlaylistLoader_.media();
                            if (!t || this.tech_.paused() || this.hasPlayed_) return !1;
                            if (!t.endList) {
                                var i = this.seekable();
                                if (!i.length) return !1;
                                if (qs.browser.IE_VERSION && 0 === this.tech_.readyState())
                                    return (
                                        this.tech_.one("loadedmetadata", function () {
                                            e.trigger("firstplay"), e.tech_.setCurrentTime(i.end(0)), (e.hasPlayed_ = !0);
                                        }),
                                        !1
                                    );
                                this.trigger("firstplay"), this.tech_.setCurrentTime(i.end(0));
                            }
                            return (this.hasPlayed_ = !0), this.load(), !0;
                        }),
                        (i.handleSourceOpen_ = function () {
                            if ((this.tryToCreateSourceBuffers_(), this.tech_.autoplay())) {
                                var e = this.tech_.play();
                                void 0 !== e && "function" == typeof e.then && e.then(null, function () {});
                            }
                            this.trigger("sourceopen");
                        }),
                        (i.handleSourceEnded_ = function () {
                            if (this.inbandTextTracks_.metadataTrack_) {
                                var e = this.inbandTextTracks_.metadataTrack_.cues;
                                if (e && e.length) {
                                    var t = this.duration();
                                    e[e.length - 1].endTime = isNaN(t) || Math.abs(t) === 1 / 0 ? Number.MAX_VALUE : t;
                                }
                            }
                        }),
                        (i.handleDurationChange_ = function () {
                            this.tech_.trigger("durationchange");
                        }),
                        (i.onEndOfStream = function () {
                            var e = this.mainSegmentLoader_.ended_;
                            this.mediaTypes_.AUDIO.activePlaylistLoader &&
                                (e = !this.mainSegmentLoader_.currentMediaInfo_ || this.mainSegmentLoader_.currentMediaInfo_.hasVideo ? e && this.audioSegmentLoader_.ended_ : this.audioSegmentLoader_.ended_),
                                e && this.sourceUpdater_.endOfStream();
                        }),
                        (i.stuckAtPlaylistEnd_ = function (e) {
                            if (!this.seekable().length) return !1;
                            var t = this.syncController_.getExpiredTime(e, this.duration());
                            if (null === t) return !1;
                            var i = $o.Playlist.playlistEnd(e, t),
                                n = this.tech_.currentTime(),
                                r = this.tech_.buffered();
                            if (!r.length) return i - n <= oa;
                            var s = r.end(r.length - 1);
                            return s - n <= oa && i - s <= oa;
                        }),
                        (i.blacklistCurrentPlaylist = function (e, t) {
                            void 0 === e && (e = {});
                            var i = e.playlist || this.masterPlaylistLoader_.media();
                            if (((t = t || e.blacklistDuration || this.blacklistDuration), !i)) return (this.error = e), void ("open" !== this.mediaSource.readyState ? this.trigger("error") : this.sourceUpdater_.endOfStream("network"));
                            var n = this.masterPlaylistLoader_.master.playlists,
                                r = n.filter(Ta),
                                s = 1 === r.length && r[0] === i;
                            if (1 === n.length && t !== 1 / 0)
                                return qs.log.warn("Problem encountered with playlist " + i.id + ". Trying again since it is the only playlist."), this.tech_.trigger("retryplaylist"), this.masterPlaylistLoader_.load(s);
                            if (s) {
                                var a = !1;
                                n.forEach(function (e) {
                                    if (e !== i) {
                                        var t = e.excludeUntil;
                                        void 0 !== t && t !== 1 / 0 && ((a = !0), delete e.excludeUntil);
                                    }
                                }),
                                    a && (qs.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."), this.tech_.trigger("retryplaylist"));
                            }
                            (i.excludeUntil = Date.now() + 1e3 * t),
                                this.tech_.trigger("blacklistplaylist"),
                                this.tech_.trigger({ type: "usage", name: "vhs-rendition-blacklisted" }),
                                this.tech_.trigger({ type: "usage", name: "hls-rendition-blacklisted" });
                            var o = this.selectPlaylist();
                            if (!o) return (this.error = "Playback cannot continue. No available working or supported playlists."), void this.trigger("error");
                            var l = e.internal ? this.logger_ : qs.log.warn,
                                u = e.message ? " " + e.message : "";
                            return (
                                l((e.internal ? "Internal problem" : "Problem") + " encountered with playlist " + i.id + "." + u + " Switching to playlist " + o.id + "."),
                                o.attributes.AUDIO !== i.attributes.AUDIO && this.delegateLoaders_("audio", ["abort", "pause"]),
                                o.attributes.SUBTITLES !== i.attributes.SUBTITLES && this.delegateLoaders_("subtitle", ["abort", "pause"]),
                                this.delegateLoaders_("main", ["abort", "pause"]),
                                this.masterPlaylistLoader_.media(o, s)
                            );
                        }),
                        (i.pauseLoading = function () {
                            this.delegateLoaders_("all", ["abort", "pause"]);
                        }),
                        (i.delegateLoaders_ = function (e, t) {
                            var i = this,
                                n = [],
                                r = "all" === e;
                            (r || "main" === e) && n.push(this.masterPlaylistLoader_);
                            var s = [];
                            (r || "audio" === e) && s.push("AUDIO"),
                                (r || "subtitle" === e) && (s.push("CLOSED-CAPTIONS"), s.push("SUBTITLES")),
                                s.forEach(function (e) {
                                    var t = i.mediaTypes_[e] && i.mediaTypes_[e].activePlaylistLoader;
                                    t && n.push(t);
                                }),
                                ["main", "audio", "subtitle"].forEach(function (t) {
                                    var r = i[t + "SegmentLoader_"];
                                    !r || (e !== t && "all" !== e) || n.push(r);
                                }),
                                n.forEach(function (e) {
                                    return t.forEach(function (t) {
                                        "function" == typeof e[t] && e[t]();
                                    });
                                });
                        }),
                        (i.setCurrentTime = function (e) {
                            var t = ua(this.tech_.buffered(), e);
                            return this.masterPlaylistLoader_ && this.masterPlaylistLoader_.media() && this.masterPlaylistLoader_.media().segments
                                ? t && t.length
                                    ? e
                                    : (this.mainSegmentLoader_.resetEverything(),
                                      this.mainSegmentLoader_.abort(),
                                      this.mediaTypes_.AUDIO.activePlaylistLoader && (this.audioSegmentLoader_.resetEverything(), this.audioSegmentLoader_.abort()),
                                      this.mediaTypes_.SUBTITLES.activePlaylistLoader && (this.subtitleSegmentLoader_.resetEverything(), this.subtitleSegmentLoader_.abort()),
                                      void this.load())
                                : 0;
                        }),
                        (i.duration = function () {
                            if (!this.masterPlaylistLoader_) return 0;
                            var e = this.masterPlaylistLoader_.media();
                            return e ? (e.endList ? (this.mediaSource ? this.mediaSource.duration : $o.Playlist.duration(e)) : 1 / 0) : 0;
                        }),
                        (i.seekable = function () {
                            return this.seekable_;
                        }),
                        (i.onSyncInfoUpdate_ = function () {
                            var e;
                            if (this.masterPlaylistLoader_) {
                                var t = this.masterPlaylistLoader_.media();
                                if (t) {
                                    var i = this.syncController_.getExpiredTime(t, this.duration());
                                    if (null !== i) {
                                        var n = this.masterPlaylistLoader_.master.suggestedPresentationDelay,
                                            r = $o.Playlist.seekable(t, i, n);
                                        if (0 !== r.length) {
                                            if (this.mediaTypes_.AUDIO.activePlaylistLoader) {
                                                if (((t = this.mediaTypes_.AUDIO.activePlaylistLoader.media()), null === (i = this.syncController_.getExpiredTime(t, this.duration())))) return;
                                                if (0 === (e = $o.Playlist.seekable(t, i, n)).length) return;
                                            }
                                            var s, a;
                                            this.seekable_ && this.seekable_.length && ((s = this.seekable_.end(0)), (a = this.seekable_.start(0))),
                                                e
                                                    ? e.start(0) > r.end(0) || r.start(0) > e.end(0)
                                                        ? (this.seekable_ = r)
                                                        : (this.seekable_ = qs.createTimeRanges([[e.start(0) > r.start(0) ? e.start(0) : r.start(0), e.end(0) < r.end(0) ? e.end(0) : r.end(0)]]))
                                                    : (this.seekable_ = r),
                                                (this.seekable_ && this.seekable_.length && this.seekable_.end(0) === s && this.seekable_.start(0) === a) ||
                                                    (this.logger_("seekable updated [" + da(this.seekable_) + "]"), this.tech_.trigger("seekablechanged"));
                                        }
                                    }
                                }
                            }
                        }),
                        (i.updateDuration = function (e) {
                            if ((this.updateDuration_ && (this.mediaSource.removeEventListener("sourceopen", this.updateDuration_), (this.updateDuration_ = null)), "open" !== this.mediaSource.readyState))
                                return (this.updateDuration_ = this.updateDuration.bind(this, e)), void this.mediaSource.addEventListener("sourceopen", this.updateDuration_);
                            if (e) {
                                var t = this.seekable();
                                if (!t.length) return;
                                (isNaN(this.mediaSource.duration) || this.mediaSource.duration < t.end(t.length - 1)) && this.sourceUpdater_.setDuration(t.end(t.length - 1));
                            } else {
                                var i = this.tech_.buffered(),
                                    n = $o.Playlist.duration(this.masterPlaylistLoader_.media());
                                i.length > 0 && (n = Math.max(n, i.end(i.length - 1))), this.mediaSource.duration !== n && this.sourceUpdater_.setDuration(n);
                            }
                        }),
                        (i.dispose = function () {
                            var e = this;
                            this.trigger("dispose"),
                                this.decrypter_.terminate(),
                                this.masterPlaylistLoader_.dispose(),
                                this.mainSegmentLoader_.dispose(),
                                ["AUDIO", "SUBTITLES"].forEach(function (t) {
                                    var i = e.mediaTypes_[t].groups;
                                    for (var n in i)
                                        i[n].forEach(function (e) {
                                            e.playlistLoader && e.playlistLoader.dispose();
                                        });
                                }),
                                this.audioSegmentLoader_.dispose(),
                                this.subtitleSegmentLoader_.dispose(),
                                this.sourceUpdater_.dispose(),
                                this.timelineChangeController_.dispose(),
                                this.updateDuration_ && this.mediaSource.removeEventListener("sourceopen", this.updateDuration_),
                                this.mediaSource.removeEventListener("durationchange", this.handleDurationChange_),
                                this.mediaSource.removeEventListener("sourceopen", this.handleSourceOpen_),
                                this.mediaSource.removeEventListener("sourceended", this.handleSourceEnded_),
                                this.off();
                        }),
                        (i.master = function () {
                            return this.masterPlaylistLoader_.master;
                        }),
                        (i.media = function () {
                            return this.masterPlaylistLoader_.media() || this.initialMedia_;
                        }),
                        (i.areMediaTypesKnown_ = function () {
                            var e = !!this.mediaTypes_.AUDIO.activePlaylistLoader;
                            return !(!this.mainSegmentLoader_.currentMediaInfo_ || (e && !this.audioSegmentLoader_.currentMediaInfo_));
                        }),
                        (i.getCodecsOrExclude_ = function () {
                            var e = this,
                                t = { main: this.mainSegmentLoader_.currentMediaInfo_ || {}, audio: this.audioSegmentLoader_.currentMediaInfo_ || {} };
                            t.video = t.main;
                            var i = Io(this.master(), this.media()),
                                n = {},
                                r = !!this.mediaTypes_.AUDIO.activePlaylistLoader;
                            if (
                                (t.main.hasVideo && (n.video = i.video || t.main.videoCodec || De.DEFAULT_VIDEO_CODEC),
                                t.main.isMuxed && (n.video += "," + (i.audio || t.main.audioCodec || De.DEFAULT_AUDIO_CODEC)),
                                ((t.main.hasAudio && !t.main.isMuxed) || t.audio.hasAudio || r) &&
                                    ((n.audio = i.audio || t.main.audioCodec || t.audio.audioCodec || De.DEFAULT_AUDIO_CODEC), (t.audio.isFmp4 = t.main.hasAudio && !t.main.isMuxed ? t.main.isFmp4 : t.audio.isFmp4)),
                                n.audio || n.video)
                            ) {
                                var s,
                                    a = {};
                                if (
                                    (["video", "audio"].forEach(function (e) {
                                        if (n.hasOwnProperty(e) && ((r = t[e].isFmp4), (o = n[e]), !(r ? Object(De.browserSupportsCodec)(o) : Object(De.muxerSupportsCodec)(o)))) {
                                            var i = t[e].isFmp4 ? "browser" : "muxer";
                                            (a[i] = a[i] || []), a[i].push(n[e]), "audio" === e && (s = i);
                                        }
                                        var r, o;
                                    }),
                                    r && s && this.media().attributes.AUDIO)
                                ) {
                                    var o = this.media().attributes.AUDIO;
                                    this.master().playlists.forEach(function (t) {
                                        (t.attributes && t.attributes.AUDIO) === o && t !== e.media() && (t.excludeUntil = 1 / 0);
                                    }),
                                        this.logger_("excluding audio group " + o + " as " + s + ' does not support codec(s): "' + n.audio + '"');
                                }
                                if (!Object.keys(a).length) {
                                    if (this.sourceUpdater_.ready() && !this.sourceUpdater_.canChangeType()) {
                                        var l = [];
                                        if (
                                            (["video", "audio"].forEach(function (t) {
                                                var i = (Object(De.parseCodecs)(e.sourceUpdater_.codecs[t] || "")[t] || {}).type,
                                                    r = (Object(De.parseCodecs)(n[t] || "")[t] || {}).type;
                                                i && r && i.toLowerCase() !== r.toLowerCase() && l.push('"' + e.sourceUpdater_.codecs[t] + '" -> "' + n[t] + '"');
                                            }),
                                            l.length)
                                        )
                                            return void this.blacklistCurrentPlaylist({ playlist: this.media(), message: "Codec switching not supported: " + l.join(", ") + ".", blacklistDuration: 1 / 0, internal: !0 });
                                    }
                                    return n;
                                }
                                var u =
                                    Object.keys(a).reduce(function (e, t) {
                                        return e && (e += ", "), (e += t + ' does not support codec(s): "' + a[t].join(",") + '"');
                                    }, "") + ".";
                                this.blacklistCurrentPlaylist({ playlist: this.media(), internal: !0, message: u, blacklistDuration: 1 / 0 });
                            } else this.blacklistCurrentPlaylist({ playlist: this.media(), message: "Could not determine codecs for playlist.", blacklistDuration: 1 / 0 });
                        }),
                        (i.tryToCreateSourceBuffers_ = function () {
                            if ("open" === this.mediaSource.readyState && !this.sourceUpdater_.ready() && this.areMediaTypesKnown_()) {
                                var e = this.getCodecsOrExclude_();
                                if (e) {
                                    this.sourceUpdater_.createSourceBuffers(e);
                                    var t = [e.video, e.audio].filter(Boolean).join(",");
                                    this.excludeIncompatibleVariants_(t);
                                }
                            }
                        }),
                        (i.excludeUnsupportedVariants_ = function () {
                            var e = this;
                            this.master().playlists.forEach(function (t) {
                                var i = Io(e.master, t);
                                !i.audio || Object(De.muxerSupportsCodec)(i.audio) || Object(De.browserSupportsCodec)(i.audio) || (t.excludeUntil = 1 / 0),
                                    !i.video || Object(De.muxerSupportsCodec)(i.video) || Object(De.browserSupportsCodec)(i.video) || (t.excludeUntil = 1 / 0);
                            });
                        }),
                        (i.excludeIncompatibleVariants_ = function (e) {
                            var t = this,
                                i = Object(De.parseCodecs)(e),
                                n = Object.keys(i).length;
                            this.master().playlists.forEach(function (e) {
                                if (e.excludeUntil !== 1 / 0) {
                                    var r = {},
                                        s = 2,
                                        a = [],
                                        o = Io(t.masterPlaylistLoader_.master, e);
                                    if (o.audio || o.video) {
                                        var l = [o.video, o.audio].filter(Boolean).join(",");
                                        (r = Object(De.parseCodecs)(l)), (s = Object.keys(r).length);
                                    }
                                    s !== n && (a.push('codec count "' + s + '" !== "' + n + '"'), (e.excludeUntil = 1 / 0)),
                                        t.sourceUpdater_.canChangeType() ||
                                            (r.video && i.video && r.video.type.toLowerCase() !== i.video.type.toLowerCase() && (a.push('video codec "' + r.video.type + '" !== "' + i.video.type + '"'), (e.excludeUntil = 1 / 0)),
                                            r.audio && i.audio && r.audio.type.toLowerCase() !== i.audio.type.toLowerCase() && ((e.excludeUntil = 1 / 0), a.push('audio codec "' + r.audio.type + '" !== "' + i.audio.type + '"'))),
                                        a.length && t.logger_("blacklisting " + e.id + ": " + a.join(" && "));
                                }
                            });
                        }),
                        (i.updateAdCues_ = function (e) {
                            var t = 0,
                                i = this.seekable();
                            i.length && (t = i.start(0)),
                                (function (e, t, i) {
                                    if ((void 0 === i && (i = 0), e.segments))
                                        for (var n, s = i, a = 0; a < e.segments.length; a++) {
                                            var o = e.segments[a];
                                            if ((n || (n = pl(t, s + o.duration / 2)), n)) {
                                                if ("cueIn" in o) {
                                                    (n.endTime = s), (n.adEndTime = s), (s += o.duration), (n = null);
                                                    continue;
                                                }
                                                if (s < n.endTime) {
                                                    s += o.duration;
                                                    continue;
                                                }
                                                n.endTime += o.duration;
                                            } else if (("cueOut" in o && (((n = new r.a.VTTCue(s, s + o.duration, o.cueOut)).adStartTime = s), (n.adEndTime = s + parseFloat(o.cueOut)), t.addCue(n)), "cueOutCont" in o)) {
                                                var l = o.cueOutCont.split("/").map(parseFloat),
                                                    u = l[0],
                                                    c = l[1];
                                                ((n = new r.a.VTTCue(s, s + o.duration, "")).adStartTime = s - u), (n.adEndTime = n.adStartTime + c), t.addCue(n);
                                            }
                                            s += o.duration;
                                        }
                                })(e, this.cueTagsTrack_, t);
                        }),
                        (i.goalBufferLength = function () {
                            var e = this.tech_.currentTime(),
                                t = Xa.GOAL_BUFFER_LENGTH,
                                i = Xa.GOAL_BUFFER_LENGTH_RATE,
                                n = Math.max(t, Xa.MAX_GOAL_BUFFER_LENGTH);
                            return Math.min(t + e * i, n);
                        }),
                        (i.bufferLowWaterLine = function () {
                            var e = this.tech_.currentTime(),
                                t = Xa.BUFFER_LOW_WATER_LINE,
                                i = Xa.BUFFER_LOW_WATER_LINE_RATE,
                                n = Math.max(t, Xa.MAX_BUFFER_LOW_WATER_LINE);
                            return Math.min(t + e * i, n);
                        }),
                        t
                    );
                })(qs.EventTarget),
                Il = function (e, t, i) {
                    var n,
                        r,
                        s,
                        a = e.masterPlaylistController_,
                        o = a[(e.options_.smoothQualityChange ? "smooth" : "fast") + "QualityChange_"].bind(a);
                    if (t.attributes.RESOLUTION) {
                        var l = t.attributes.RESOLUTION;
                        (this.width = l.width), (this.height = l.height);
                    }
                    (this.bandwidth = t.attributes.BANDWIDTH),
                        (this.codecs = Io(a.master(), t)),
                        (this.playlist = t),
                        (this.id = i),
                        (this.enabled =
                            ((n = e.playlists),
                            (r = t.id),
                            (s = o),
                            function (e) {
                                var t = n.master.playlists[r],
                                    i = ba(t),
                                    a = Ta(t);
                                return void 0 === e ? a : (e ? delete t.disabled : (t.disabled = !0), e === a || i || (s(), e ? n.trigger("renditionenabled") : n.trigger("renditiondisabled")), e);
                            }));
                },
                Pl = ["seeking", "seeked", "pause", "playing", "error"],
                Ol = (function () {
                    function e(e) {
                        var t = this;
                        (this.masterPlaylistController_ = e.masterPlaylistController),
                            (this.tech_ = e.tech),
                            (this.seekable = e.seekable),
                            (this.allowSeeksWithinUnsafeLiveWindow = e.allowSeeksWithinUnsafeLiveWindow),
                            (this.media = e.media),
                            (this.consecutiveUpdates = 0),
                            (this.lastRecordedTime = null),
                            (this.timer_ = null),
                            (this.checkCurrentTimeTimeout_ = null),
                            (this.logger_ = Po("PlaybackWatcher")),
                            this.logger_("initialize");
                        var i = function () {
                                return t.monitorCurrentTime_();
                            },
                            n = function () {
                                return t.techWaiting_();
                            },
                            s = function () {
                                return t.cancelTimer_();
                            },
                            a = function () {
                                return t.fixesBadSeeks_();
                            },
                            o = this.masterPlaylistController_,
                            l = ["main", "subtitle", "audio"],
                            u = {};
                        l.forEach(function (e) {
                            (u[e] = {
                                reset: function () {
                                    return t.resetSegmentDownloads_(e);
                                },
                                updateend: function () {
                                    return t.checkSegmentDownloads_(e);
                                },
                            }),
                                o[e + "SegmentLoader_"].on("appendsdone", u[e].updateend),
                                o[e + "SegmentLoader_"].on("playlistupdate", u[e].reset),
                                t.tech_.on(["seeked", "seeking"], u[e].reset);
                        }),
                            this.tech_.on("seekablechanged", a),
                            this.tech_.on("waiting", n),
                            this.tech_.on(Pl, s),
                            this.tech_.on("canplay", i),
                            (this.dispose = function () {
                                t.logger_("dispose"),
                                    t.tech_.off("seekablechanged", a),
                                    t.tech_.off("waiting", n),
                                    t.tech_.off(Pl, s),
                                    t.tech_.off("canplay", i),
                                    l.forEach(function (e) {
                                        o[e + "SegmentLoader_"].off("appendsdone", u[e].updateend), o[e + "SegmentLoader_"].off("playlistupdate", u[e].reset), t.tech_.off(["seeked", "seeking"], u[e].reset);
                                    }),
                                    t.checkCurrentTimeTimeout_ && r.a.clearTimeout(t.checkCurrentTimeTimeout_),
                                    t.cancelTimer_();
                            });
                    }
                    var t = e.prototype;
                    return (
                        (t.monitorCurrentTime_ = function () {
                            this.checkCurrentTime_(), this.checkCurrentTimeTimeout_ && r.a.clearTimeout(this.checkCurrentTimeTimeout_), (this.checkCurrentTimeTimeout_ = r.a.setTimeout(this.monitorCurrentTime_.bind(this), 250));
                        }),
                        (t.resetSegmentDownloads_ = function (e) {
                            var t = this.masterPlaylistController_[e + "SegmentLoader_"];
                            this[e + "StalledDownloads_"] > 0 && this.logger_("resetting possible stalled download count for " + e + " loader"), (this[e + "StalledDownloads_"] = 0), (this[e + "Buffered_"] = t.buffered_());
                        }),
                        (t.checkSegmentDownloads_ = function (e) {
                            var t = this.masterPlaylistController_,
                                i = t[e + "SegmentLoader_"],
                                n = i.buffered_(),
                                r = (function (e, t) {
                                    if (e === t) return !1;
                                    if ((!e && t) || (!t && e)) return !0;
                                    if (e.length !== t.length) return !0;
                                    for (var i = 0; i < e.length; i++) if (e.start(i) !== t.start(i) || e.end(i) !== t.end(i)) return !0;
                                    return !1;
                                })(this[e + "Buffered_"], n);
                            (this[e + "Buffered_"] = n),
                                r
                                    ? this.resetSegmentDownloads_(e)
                                    : (this[e + "StalledDownloads_"]++,
                                      this.logger_("found #" + this[e + "StalledDownloads_"] + " " + e + " appends that did not increase buffer (possible stalled download)", { playlistId: i.playlist_ && i.playlist_.id, buffered: ha(n) }),
                                      this[e + "StalledDownloads_"] < 10 ||
                                          (this.logger_(e + " loader stalled download exclusion"),
                                          this.resetSegmentDownloads_(e),
                                          this.tech_.trigger({ type: "usage", name: "vhs-" + e + "-download-exclusion" }),
                                          "subtitle" !== e && t.blacklistCurrentPlaylist({ message: "Excessive " + e + " segment downloading detected." }, 1 / 0)));
                        }),
                        (t.checkCurrentTime_ = function () {
                            if (this.tech_.seeking() && this.fixesBadSeeks_()) return (this.consecutiveUpdates = 0), void (this.lastRecordedTime = this.tech_.currentTime());
                            if (!this.tech_.paused() && !this.tech_.seeking()) {
                                var e = this.tech_.currentTime(),
                                    t = this.tech_.buffered();
                                if (this.lastRecordedTime === e && (!t.length || e + oa >= t.end(t.length - 1))) return this.techWaiting_();
                                this.consecutiveUpdates >= 5 && e === this.lastRecordedTime
                                    ? (this.consecutiveUpdates++, this.waiting_())
                                    : e === this.lastRecordedTime
                                    ? this.consecutiveUpdates++
                                    : ((this.consecutiveUpdates = 0), (this.lastRecordedTime = e));
                            }
                        }),
                        (t.cancelTimer_ = function () {
                            (this.consecutiveUpdates = 0), this.timer_ && (this.logger_("cancelTimer_"), clearTimeout(this.timer_)), (this.timer_ = null);
                        }),
                        (t.fixesBadSeeks_ = function () {
                            if (!this.tech_.seeking()) return !1;
                            var e,
                                t = this.seekable(),
                                i = this.tech_.currentTime();
                            this.afterSeekableWindow_(t, i, this.media(), this.allowSeeksWithinUnsafeLiveWindow) && (e = t.end(t.length - 1));
                            if (this.beforeSeekableWindow_(t, i)) {
                                var n = t.start(0);
                                e = n + (n === t.end(0) ? 0 : oa);
                            }
                            if (void 0 !== e) return this.logger_("Trying to seek outside of seekable at time " + i + " with seekable range " + da(t) + ". Seeking to " + e + "."), this.tech_.setCurrentTime(e), !0;
                            var r = this.tech_.buffered();
                            return (
                                !!(function (e) {
                                    var t = e.buffered,
                                        i = e.targetDuration,
                                        n = e.currentTime;
                                    return !(!t.length || t.end(0) - t.start(0) < 2 * i || n > t.start(0) || !(t.start(0) - n < i));
                                })({ buffered: r, targetDuration: this.media().targetDuration, currentTime: i }) &&
                                ((e = r.start(0) + oa), this.logger_("Buffered region starts (" + r.start(0) + ")  just beyond seek point (" + i + "). Seeking to " + e + "."), this.tech_.setCurrentTime(e), !0)
                            );
                        }),
                        (t.waiting_ = function () {
                            if (!this.techWaiting_()) {
                                var e = this.tech_.currentTime(),
                                    t = this.tech_.buffered(),
                                    i = ua(t, e);
                                return i.length && e + 3 <= i.end(0)
                                    ? (this.cancelTimer_(),
                                      this.tech_.setCurrentTime(e),
                                      this.logger_("Stopped at " + e + " while inside a buffered region [" + i.start(0) + " -> " + i.end(0) + "]. Attempting to resume playback by seeking to the current time."),
                                      this.tech_.trigger({ type: "usage", name: "vhs-unknown-waiting" }),
                                      void this.tech_.trigger({ type: "usage", name: "hls-unknown-waiting" }))
                                    : void 0;
                            }
                        }),
                        (t.techWaiting_ = function () {
                            var e = this.seekable(),
                                t = this.tech_.currentTime();
                            if (this.tech_.seeking() && this.fixesBadSeeks_()) return !0;
                            if (this.tech_.seeking() || null !== this.timer_) return !0;
                            if (this.beforeSeekableWindow_(e, t)) {
                                var i = e.end(e.length - 1);
                                return (
                                    this.logger_("Fell out of live window at time " + t + ". Seeking to live point (seekable end) " + i),
                                    this.cancelTimer_(),
                                    this.tech_.setCurrentTime(i),
                                    this.tech_.trigger({ type: "usage", name: "vhs-live-resync" }),
                                    this.tech_.trigger({ type: "usage", name: "hls-live-resync" }),
                                    !0
                                );
                            }
                            var n = this.tech_.vhs.masterPlaylistController_.sourceUpdater_,
                                r = this.tech_.buffered();
                            if (this.videoUnderflow_({ audioBuffered: n.audioBuffered(), videoBuffered: n.videoBuffered(), currentTime: t }))
                                return this.cancelTimer_(), this.tech_.setCurrentTime(t), this.tech_.trigger({ type: "usage", name: "vhs-video-underflow" }), this.tech_.trigger({ type: "usage", name: "hls-video-underflow" }), !0;
                            var s = ca(r, t);
                            if (s.length > 0) {
                                var a = s.start(0) - t;
                                return this.logger_("Stopped at " + t + ", setting timer for " + a + ", seeking to " + s.start(0)), this.cancelTimer_(), (this.timer_ = setTimeout(this.skipTheGap_.bind(this), 1e3 * a, t)), !0;
                            }
                            return !1;
                        }),
                        (t.afterSeekableWindow_ = function (e, t, i, n) {
                            if ((void 0 === n && (n = !1), !e.length)) return !1;
                            var r = e.end(e.length - 1) + oa;
                            return !i.endList && n && (r = e.end(e.length - 1) + 3 * i.targetDuration), t > r;
                        }),
                        (t.beforeSeekableWindow_ = function (e, t) {
                            return !!(e.length && e.start(0) > 0 && t < e.start(0) - oa);
                        }),
                        (t.videoUnderflow_ = function (e) {
                            var t = e.videoBuffered,
                                i = e.audioBuffered,
                                n = e.currentTime;
                            if (t) {
                                var r;
                                if (t.length && i.length) {
                                    var s = ua(t, n - 3),
                                        a = ua(t, n),
                                        o = ua(i, n);
                                    o.length && !a.length && s.length && (r = { start: s.end(0), end: o.end(0) });
                                } else {
                                    ca(t, n).length || (r = this.gapFromVideoUnderflow_(t, n));
                                }
                                return !!r && (this.logger_("Encountered a gap in video from " + r.start + " to " + r.end + ". Seeking to current time " + n), !0);
                            }
                        }),
                        (t.skipTheGap_ = function (e) {
                            var t = this.tech_.buffered(),
                                i = this.tech_.currentTime(),
                                n = ca(t, i);
                            this.cancelTimer_(),
                                0 !== n.length &&
                                    i === e &&
                                    (this.logger_("skipTheGap_:", "currentTime:", i, "scheduled currentTime:", e, "nextRange start:", n.start(0)),
                                    this.tech_.setCurrentTime(n.start(0) + aa),
                                    this.tech_.trigger({ type: "usage", name: "vhs-gap-skip" }),
                                    this.tech_.trigger({ type: "usage", name: "hls-gap-skip" }));
                        }),
                        (t.gapFromVideoUnderflow_ = function (e, t) {
                            for (
                                var i = (function (e) {
                                        if (e.length < 2) return qs.createTimeRanges();
                                        for (var t = [], i = 1; i < e.length; i++) {
                                            var n = e.end(i - 1),
                                                r = e.start(i);
                                            t.push([n, r]);
                                        }
                                        return qs.createTimeRanges(t);
                                    })(e),
                                    n = 0;
                                n < i.length;
                                n++
                            ) {
                                var r = i.start(n),
                                    s = i.end(n);
                                if (t - r < 4 && t - r > 2) return { start: r, end: s };
                            }
                            return null;
                        }),
                        e
                    );
                })(),
                Ll = {
                    errorInterval: 30,
                    getSource: function (e) {
                        return e(this.tech({ IWillNotUseThisInPlugins: !0 }).currentSource_ || this.currentSource());
                    },
                },
                Dl = function e(t, i) {
                    var n = 0,
                        r = 0,
                        s = qs.mergeOptions(Ll, i);
                    t.ready(function () {
                        t.trigger({ type: "usage", name: "vhs-error-reload-initialized" }), t.trigger({ type: "usage", name: "hls-error-reload-initialized" });
                    });
                    var a = function () {
                            r && t.currentTime(r);
                        },
                        o = function (e) {
                            null != e &&
                                ((r = (t.duration() !== 1 / 0 && t.currentTime()) || 0),
                                t.one("loadedmetadata", a),
                                t.src(e),
                                t.trigger({ type: "usage", name: "vhs-error-reload" }),
                                t.trigger({ type: "usage", name: "hls-error-reload" }),
                                t.play());
                        },
                        l = function () {
                            return Date.now() - n < 1e3 * s.errorInterval
                                ? (t.trigger({ type: "usage", name: "vhs-error-reload-canceled" }), void t.trigger({ type: "usage", name: "hls-error-reload-canceled" }))
                                : s.getSource && "function" == typeof s.getSource
                                ? ((n = Date.now()), s.getSource.call(t, o))
                                : void qs.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");
                        },
                        u = function e() {
                            t.off("loadedmetadata", a), t.off("error", l), t.off("dispose", e);
                        };
                    t.on("error", l),
                        t.on("dispose", u),
                        (t.reloadSourceOnError = function (i) {
                            u(), e(t, i);
                        });
                },
                Rl = function (e) {
                    Dl(this, e);
                },
                Ml = "2.2.4",
                Nl = {
                    PlaylistLoader: sa,
                    Playlist: ka,
                    utils: Ua,
                    STANDARD_PLAYLIST_SELECTOR: function () {
                        var e = (this.useDevicePixelRatio && r.a.devicePixelRatio) || 1;
                        return (function (e, t, i, n, s) {
                            var a = { bandwidth: t, width: i, height: n, limitRenditionByPlayerDimensions: s },
                                o = e.playlists.map(function (e) {
                                    var t = e.attributes.RESOLUTION && e.attributes.RESOLUTION.width,
                                        i = e.attributes.RESOLUTION && e.attributes.RESOLUTION.height;
                                    return { bandwidth: e.attributes.BANDWIDTH || r.a.Number.MAX_VALUE, width: t, height: i, playlist: e };
                                });
                            Ro(o, function (e, t) {
                                return e.bandwidth - t.bandwidth;
                            });
                            var l = (o = o.filter(function (e) {
                                return !ka.isIncompatible(e.playlist);
                            })).filter(function (e) {
                                return ka.isEnabled(e.playlist);
                            });
                            l.length ||
                                (l = o.filter(function (e) {
                                    return !ka.isDisabled(e.playlist);
                                }));
                            var u = l.filter(function (e) {
                                    return e.bandwidth * Xa.BANDWIDTH_VARIANCE < t;
                                }),
                                c = u[u.length - 1],
                                d = u.filter(function (e) {
                                    return e.bandwidth === c.bandwidth;
                                })[0];
                            if (!1 === s) {
                                var h = d || l[0] || o[0];
                                if (h && h.playlist) {
                                    var p = "sortedPlaylistReps";
                                    return d && (p = "bandwidthBestRep"), l[0] && (p = "enabledPlaylistReps"), Oo("choosing " + Lo(h) + " using " + p + " with options", a), h.playlist;
                                }
                                return Oo("could not choose a playlist with options", a), null;
                            }
                            var f = u.filter(function (e) {
                                return e.width && e.height;
                            });
                            Ro(f, function (e, t) {
                                return e.width - t.width;
                            });
                            var m = f.filter(function (e) {
                                return e.width === i && e.height === n;
                            });
                            c = m[m.length - 1];
                            var g,
                                v,
                                y,
                                _ = m.filter(function (e) {
                                    return e.bandwidth === c.bandwidth;
                                })[0];
                            _ ||
                                ((v = (g = f.filter(function (e) {
                                    return e.width > i || e.height > n;
                                })).filter(function (e) {
                                    return e.width === g[0].width && e.height === g[0].height;
                                })),
                                (c = v[v.length - 1]),
                                (y = v.filter(function (e) {
                                    return e.bandwidth === c.bandwidth;
                                })[0]));
                            var b = y || _ || d || l[0] || o[0];
                            if (b && b.playlist) {
                                var T = "sortedPlaylistReps";
                                return (
                                    y ? (T = "resolutionPlusOneRep") : _ ? (T = "resolutionBestRep") : d ? (T = "bandwidthBestRep") : l[0] && (T = "enabledPlaylistReps"),
                                    Oo("choosing " + Lo(b) + " using " + T + " with options", a),
                                    b.playlist
                                );
                            }
                            return Oo("could not choose a playlist with options", a), null;
                        })(this.playlists.master, this.systemBandwidth, parseInt(Do(this.tech_.el(), "width"), 10) * e, parseInt(Do(this.tech_.el(), "height"), 10) * e, this.limitRenditionByPlayerDimensions);
                    },
                    INITIAL_PLAYLIST_SELECTOR: function () {
                        var e = this,
                            t = this.playlists.master.playlists.filter(ka.isEnabled);
                        return (
                            Ro(t, function (e, t) {
                                return Mo(e, t);
                            }),
                            t.filter(function (t) {
                                return !!Io(e.playlists.master, t).video;
                            })[0] || null
                        );
                    },
                    comparePlaylistBandwidth: Mo,
                    comparePlaylistResolution: function (e, t) {
                        var i, n;
                        return (
                            e.attributes.RESOLUTION && e.attributes.RESOLUTION.width && (i = e.attributes.RESOLUTION.width),
                            (i = i || r.a.Number.MAX_VALUE),
                            t.attributes.RESOLUTION && t.attributes.RESOLUTION.width && (n = t.attributes.RESOLUTION.width),
                            i === (n = n || r.a.Number.MAX_VALUE) && e.attributes.BANDWIDTH && t.attributes.BANDWIDTH ? e.attributes.BANDWIDTH - t.attributes.BANDWIDTH : i - n
                        );
                    },
                    xhr: Aa(),
                };
            ["GOAL_BUFFER_LENGTH", "MAX_GOAL_BUFFER_LENGTH", "BACK_BUFFER_LENGTH", "GOAL_BUFFER_LENGTH_RATE", "BUFFER_LOW_WATER_LINE", "MAX_BUFFER_LOW_WATER_LINE", "BUFFER_LOW_WATER_LINE_RATE", "BANDWIDTH_VARIANCE"].forEach(function (e) {
                Object.defineProperty(Nl, e, {
                    get: function () {
                        return qs.log.warn("using Vhs." + e + " is UNSAFE be sure you know what you are doing"), Xa[e];
                    },
                    set: function (t) {
                        qs.log.warn("using Vhs." + e + " is UNSAFE be sure you know what you are doing"), "number" != typeof t || t < 0 ? qs.log.warn("value of Vhs." + e + " must be greater than or equal to 0") : (Xa[e] = t);
                    },
                });
            });
            var Ul = "videojs-vhs",
                jl = function (e, t) {
                    for (var i = t.media(), n = -1, r = 0; r < e.length; r++)
                        if (e[r].id === i.id) {
                            n = r;
                            break;
                        }
                    (e.selectedIndex_ = n), e.trigger({ selectedIndex: n, type: "change" });
                };
            Nl.canPlaySource = function () {
                return qs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.");
            };
            var Bl = function (e) {
                    var t = e.player,
                        i = e.sourceKeySystems,
                        n = e.media,
                        r = e.audioMedia,
                        s = e.mainPlaylists,
                        a = (function (e, t, i) {
                            if (!e) return e;
                            var n = { video: t && t.attributes && t.attributes.CODECS, audio: i && i.attributes && i.attributes.CODECS };
                            !n.audio &&
                                n.video &&
                                n.video.split(",").length > 1 &&
                                n.video.split(",").forEach(function (e) {
                                    (e = e.trim()), Object(De.isAudioCodec)(e) ? (n.audio = e) : Object(De.isVideoCodec)(e) && (n.video = e);
                                });
                            var r = n.video ? 'video/mp4;codecs="' + n.video + '"' : null,
                                s = n.audio ? 'audio/mp4;codecs="' + n.audio + '"' : null,
                                a = {};
                            for (var o in e)
                                (a[o] = { audioContentType: s, videoContentType: r }),
                                    t.contentProtection && t.contentProtection[o] && t.contentProtection[o].pssh && (a[o].pssh = t.contentProtection[o].pssh),
                                    "string" == typeof e[o] && (a[o].url = e[o]);
                            return qs.mergeOptions(e, a);
                        })(i, n, r);
                    a &&
                        ((t.currentSource().keySystems = a),
                        !a || t.eme
                            ? 11 !== qs.browser.IE_VERSION &&
                              t.eme.initializeMediaKeys &&
                              (function (e, t) {
                                  return e.reduce(function (e, i) {
                                      if (!i.contentProtection) return e;
                                      var n = t.reduce(function (e, t) {
                                          var n = i.contentProtection[t];
                                          return n && n.pssh && (e[t] = { pssh: n.pssh }), e;
                                      }, {});
                                      return Object.keys(n).length && e.push(n), e;
                                  }, []);
                              })(r ? s.concat([r]) : s, Object.keys(i)).forEach(function (e) {
                                  t.eme.initializeMediaKeys({ keySystems: e });
                              })
                            : qs.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"));
                },
                Fl = function () {
                    if (!r.a.localStorage) return null;
                    var e = r.a.localStorage.getItem(Ul);
                    if (!e) return null;
                    try {
                        return JSON.parse(e);
                    } catch (e) {
                        return null;
                    }
                };
            (Nl.supportsNativeHls = (function () {
                if (!a.a || !a.a.createElement) return !1;
                var e = a.a.createElement("video");
                if (!qs.getTech("Html5").isSupported()) return !1;
                return ["application/vnd.apple.mpegurl", "audio/mpegurl", "audio/x-mpegurl", "application/x-mpegurl", "video/x-mpegurl", "video/mpegurl", "application/mpegurl"].some(function (t) {
                    return /maybe|probably/i.test(e.canPlayType(t));
                });
            })()),
                (Nl.supportsNativeDash = !!(a.a && a.a.createElement && qs.getTech("Html5").isSupported()) && /maybe|probably/i.test(a.a.createElement("video").canPlayType("application/dash+xml"))),
                (Nl.supportsTypeNatively = function (e) {
                    return "hls" === e ? Nl.supportsNativeHls : "dash" === e && Nl.supportsNativeDash;
                }),
                (Nl.isSupported = function () {
                    return qs.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.");
                });
            var Hl = (function (e) {
                    function t(t, i, n) {
                        var r;
                        if (((r = e.call(this, i, qs.mergeOptions(n.hls, n.vhs)) || this), n.hls && Object.keys(n.hls).length && qs.log.warn("Using hls options is deprecated. Use vhs instead."), i.options_ && i.options_.playerId)) {
                            var s = qs(i.options_.playerId);
                            s.hasOwnProperty("hls") ||
                                Object.defineProperty(s, "hls", {
                                    get: function () {
                                        return qs.log.warn("player.hls is deprecated. Use player.tech().vhs instead."), i.trigger({ type: "usage", name: "hls-player-access" }), c()(r);
                                    },
                                    configurable: !0,
                                }),
                                s.hasOwnProperty("vhs") ||
                                    Object.defineProperty(s, "vhs", {
                                        get: function () {
                                            return qs.log.warn("player.vhs is deprecated. Use player.tech().vhs instead."), i.trigger({ type: "usage", name: "vhs-player-access" }), c()(r);
                                        },
                                        configurable: !0,
                                    }),
                                s.hasOwnProperty("dash") ||
                                    Object.defineProperty(s, "dash", {
                                        get: function () {
                                            return qs.log.warn("player.dash is deprecated. Use player.tech().vhs instead."), c()(r);
                                        },
                                        configurable: !0,
                                    }),
                                (r.player_ = s);
                        }
                        if (((r.tech_ = i), (r.source_ = t), (r.stats = {}), (r.ignoreNextSeekingEvent_ = !1), r.setOptions_(), r.options_.overrideNative && i.overrideNativeAudioTracks && i.overrideNativeVideoTracks))
                            i.overrideNativeAudioTracks(!0), i.overrideNativeVideoTracks(!0);
                        else if (r.options_.overrideNative && (i.featuresNativeVideoTracks || i.featuresNativeAudioTracks)) throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");
                        return (
                            r.on(a.a, ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "MSFullscreenChange"], function () {
                                var e = a.a.fullscreenElement || a.a.webkitFullscreenElement || a.a.mozFullScreenElement || a.a.msFullscreenElement;
                                e && e.contains(r.tech_.el()) && r.masterPlaylistController_.smoothQualityChange_();
                            }),
                            r.on(r.tech_, "seeking", function () {
                                this.ignoreNextSeekingEvent_ ? (this.ignoreNextSeekingEvent_ = !1) : this.setCurrentTime(this.tech_.currentTime());
                            }),
                            r.on(r.tech_, "error", function () {
                                this.tech_.error() && this.masterPlaylistController_ && this.masterPlaylistController_.pauseLoading();
                            }),
                            r.on(r.tech_, "play", r.play),
                            r
                        );
                    }
                    h()(t, e);
                    var i = t.prototype;
                    return (
                        (i.setOptions_ = function () {
                            var e = this;
                            if (
                                ((this.options_.withCredentials = this.options_.withCredentials || !1),
                                (this.options_.handleManifestRedirects = !1 !== this.options_.handleManifestRedirects),
                                (this.options_.limitRenditionByPlayerDimensions = !1 !== this.options_.limitRenditionByPlayerDimensions),
                                (this.options_.useDevicePixelRatio = this.options_.useDevicePixelRatio || !1),
                                (this.options_.smoothQualityChange = this.options_.smoothQualityChange || !1),
                                (this.options_.useBandwidthFromLocalStorage = void 0 !== this.source_.useBandwidthFromLocalStorage ? this.source_.useBandwidthFromLocalStorage : this.options_.useBandwidthFromLocalStorage || !1),
                                (this.options_.customTagParsers = this.options_.customTagParsers || []),
                                (this.options_.customTagMappers = this.options_.customTagMappers || []),
                                (this.options_.cacheEncryptionKeys = this.options_.cacheEncryptionKeys || !1),
                                (this.options_.handlePartialData = this.options_.handlePartialData || !1),
                                "number" != typeof this.options_.blacklistDuration && (this.options_.blacklistDuration = 300),
                                "number" != typeof this.options_.bandwidth && this.options_.useBandwidthFromLocalStorage)
                            ) {
                                var t = Fl();
                                t &&
                                    t.bandwidth &&
                                    ((this.options_.bandwidth = t.bandwidth), this.tech_.trigger({ type: "usage", name: "vhs-bandwidth-from-local-storage" }), this.tech_.trigger({ type: "usage", name: "hls-bandwidth-from-local-storage" })),
                                    t &&
                                        t.throughput &&
                                        ((this.options_.throughput = t.throughput),
                                        this.tech_.trigger({ type: "usage", name: "vhs-throughput-from-local-storage" }),
                                        this.tech_.trigger({ type: "usage", name: "hls-throughput-from-local-storage" }));
                            }
                            "number" != typeof this.options_.bandwidth && (this.options_.bandwidth = Xa.INITIAL_BANDWIDTH),
                                (this.options_.enableLowInitialPlaylist = this.options_.enableLowInitialPlaylist && this.options_.bandwidth === Xa.INITIAL_BANDWIDTH),
                                [
                                    "withCredentials",
                                    "useDevicePixelRatio",
                                    "limitRenditionByPlayerDimensions",
                                    "bandwidth",
                                    "smoothQualityChange",
                                    "customTagParsers",
                                    "customTagMappers",
                                    "handleManifestRedirects",
                                    "cacheEncryptionKeys",
                                    "handlePartialData",
                                ].forEach(function (t) {
                                    void 0 !== e.source_[t] && (e.options_[t] = e.source_[t]);
                                }),
                                (this.limitRenditionByPlayerDimensions = this.options_.limitRenditionByPlayerDimensions),
                                (this.useDevicePixelRatio = this.options_.useDevicePixelRatio);
                        }),
                        (i.src = function (e, t) {
                            var i,
                                n = this;
                            e &&
                                (this.setOptions_(),
                                (this.options_.src = 0 === (i = this.source_.src).toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,") ? JSON.parse(i.substring(i.indexOf(",") + 1)) : i),
                                (this.options_.tech = this.tech_),
                                (this.options_.externVhs = Nl),
                                (this.options_.sourceType = Object(M.simpleTypeFromSourceType)(t)),
                                (this.options_.seekTo = function (e) {
                                    n.tech_.setCurrentTime(e);
                                }),
                                (this.masterPlaylistController_ = new Al(this.options_)),
                                (this.playbackWatcher_ = new Ol(
                                    qs.mergeOptions(this.options_, {
                                        seekable: function () {
                                            return n.seekable();
                                        },
                                        media: function () {
                                            return n.masterPlaylistController_.media();
                                        },
                                        masterPlaylistController: this.masterPlaylistController_,
                                    })
                                )),
                                this.masterPlaylistController_.on("error", function () {
                                    var e = qs.players[n.tech_.options_.playerId],
                                        t = n.masterPlaylistController_.error;
                                    "object" != typeof t || t.code ? "string" == typeof t && (t = { message: t, code: 3 }) : (t.code = 3), e.error(t);
                                }),
                                (this.masterPlaylistController_.selectPlaylist = this.selectPlaylist ? this.selectPlaylist.bind(this) : Nl.STANDARD_PLAYLIST_SELECTOR.bind(this)),
                                (this.masterPlaylistController_.selectInitialPlaylist = Nl.INITIAL_PLAYLIST_SELECTOR.bind(this)),
                                (this.playlists = this.masterPlaylistController_.masterPlaylistLoader_),
                                (this.mediaSource = this.masterPlaylistController_.mediaSource),
                                Object.defineProperties(this, {
                                    selectPlaylist: {
                                        get: function () {
                                            return this.masterPlaylistController_.selectPlaylist;
                                        },
                                        set: function (e) {
                                            this.masterPlaylistController_.selectPlaylist = e.bind(this);
                                        },
                                    },
                                    throughput: {
                                        get: function () {
                                            return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate;
                                        },
                                        set: function (e) {
                                            (this.masterPlaylistController_.mainSegmentLoader_.throughput.rate = e), (this.masterPlaylistController_.mainSegmentLoader_.throughput.count = 1);
                                        },
                                    },
                                    bandwidth: {
                                        get: function () {
                                            return this.masterPlaylistController_.mainSegmentLoader_.bandwidth;
                                        },
                                        set: function (e) {
                                            (this.masterPlaylistController_.mainSegmentLoader_.bandwidth = e), (this.masterPlaylistController_.mainSegmentLoader_.throughput = { rate: 0, count: 0 });
                                        },
                                    },
                                    systemBandwidth: {
                                        get: function () {
                                            var e,
                                                t = 1 / (this.bandwidth || 1);
                                            return (e = this.throughput > 0 ? 1 / this.throughput : 0), Math.floor(1 / (t + e));
                                        },
                                        set: function () {
                                            qs.log.error('The "systemBandwidth" property is read-only');
                                        },
                                    },
                                }),
                                this.options_.bandwidth && (this.bandwidth = this.options_.bandwidth),
                                this.options_.throughput && (this.throughput = this.options_.throughput),
                                Object.defineProperties(this.stats, {
                                    bandwidth: {
                                        get: function () {
                                            return n.bandwidth || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    mediaRequests: {
                                        get: function () {
                                            return n.masterPlaylistController_.mediaRequests_() || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    mediaRequestsAborted: {
                                        get: function () {
                                            return n.masterPlaylistController_.mediaRequestsAborted_() || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    mediaRequestsTimedout: {
                                        get: function () {
                                            return n.masterPlaylistController_.mediaRequestsTimedout_() || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    mediaRequestsErrored: {
                                        get: function () {
                                            return n.masterPlaylistController_.mediaRequestsErrored_() || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    mediaTransferDuration: {
                                        get: function () {
                                            return n.masterPlaylistController_.mediaTransferDuration_() || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    mediaBytesTransferred: {
                                        get: function () {
                                            return n.masterPlaylistController_.mediaBytesTransferred_() || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    mediaSecondsLoaded: {
                                        get: function () {
                                            return n.masterPlaylistController_.mediaSecondsLoaded_() || 0;
                                        },
                                        enumerable: !0,
                                    },
                                    buffered: {
                                        get: function () {
                                            return ha(n.tech_.buffered());
                                        },
                                        enumerable: !0,
                                    },
                                    currentTime: {
                                        get: function () {
                                            return n.tech_.currentTime();
                                        },
                                        enumerable: !0,
                                    },
                                    currentSource: {
                                        get: function () {
                                            return n.tech_.currentSource_;
                                        },
                                        enumerable: !0,
                                    },
                                    currentTech: {
                                        get: function () {
                                            return n.tech_.name_;
                                        },
                                        enumerable: !0,
                                    },
                                    duration: {
                                        get: function () {
                                            return n.tech_.duration();
                                        },
                                        enumerable: !0,
                                    },
                                    master: {
                                        get: function () {
                                            return n.playlists.master;
                                        },
                                        enumerable: !0,
                                    },
                                    playerDimensions: {
                                        get: function () {
                                            return n.tech_.currentDimensions();
                                        },
                                        enumerable: !0,
                                    },
                                    seekable: {
                                        get: function () {
                                            return ha(n.tech_.seekable());
                                        },
                                        enumerable: !0,
                                    },
                                    timestamp: {
                                        get: function () {
                                            return Date.now();
                                        },
                                        enumerable: !0,
                                    },
                                    videoPlaybackQuality: {
                                        get: function () {
                                            return n.tech_.getVideoPlaybackQuality();
                                        },
                                        enumerable: !0,
                                    },
                                }),
                                this.tech_.one("canplay", this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),
                                this.tech_.on("bandwidthupdate", function () {
                                    n.options_.useBandwidthFromLocalStorage &&
                                        (function (e) {
                                            if (!r.a.localStorage) return !1;
                                            var t = Fl();
                                            t = t ? qs.mergeOptions(t, e) : e;
                                            try {
                                                r.a.localStorage.setItem(Ul, JSON.stringify(t));
                                            } catch (e) {
                                                return !1;
                                            }
                                        })({ bandwidth: n.bandwidth, throughput: Math.round(n.throughput) });
                                }),
                                this.masterPlaylistController_.on("selectedinitialmedia", function () {
                                    var e, t;
                                    (t = (e = n).playlists),
                                        (e.representations = function () {
                                            return t && t.master && t.master.playlists
                                                ? t.master.playlists
                                                      .filter(function (e) {
                                                          return !ba(e);
                                                      })
                                                      .map(function (t) {
                                                          return new Il(e, t, t.id);
                                                      })
                                                : [];
                                        });
                                }),
                                this.masterPlaylistController_.sourceUpdater_.on("ready", function () {
                                    var e = n.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader;
                                    Bl({ player: n.player_, sourceKeySystems: n.source_.keySystems, media: n.playlists.media(), audioMedia: e && e.media(), mainPlaylists: n.playlists.master.playlists });
                                }),
                                this.on(this.masterPlaylistController_, "progress", function () {
                                    this.tech_.trigger("progress");
                                }),
                                this.on(this.masterPlaylistController_, "firstplay", function () {
                                    this.ignoreNextSeekingEvent_ = !0;
                                }),
                                this.setupQualityLevels_(),
                                this.tech_.el() && ((this.mediaSourceUrl_ = r.a.URL.createObjectURL(this.masterPlaylistController_.mediaSource)), this.tech_.src(this.mediaSourceUrl_)));
                        }),
                        (i.setupQualityLevels_ = function () {
                            var e = this,
                                t = qs.players[this.tech_.options_.playerId];
                            t &&
                                t.qualityLevels &&
                                !this.qualityLevels_ &&
                                ((this.qualityLevels_ = t.qualityLevels()),
                                this.masterPlaylistController_.on("selectedinitialmedia", function () {
                                    var t, i;
                                    (t = e.qualityLevels_),
                                        (i = e).representations().forEach(function (e) {
                                            t.addQualityLevel(e);
                                        }),
                                        jl(t, i.playlists);
                                }),
                                this.playlists.on("mediachange", function () {
                                    jl(e.qualityLevels_, e.playlists);
                                }));
                        }),
                        (t.version = function () {
                            return { "@videojs/http-streaming": Ml, "mux.js": "5.6.7", "mpd-parser": "0.14.0", "m3u8-parser": "4.5.0", "aes-decrypter": "3.1.0" };
                        }),
                        (i.version = function () {
                            return this.constructor.version();
                        }),
                        (i.canChangeType = function () {
                            return ul.canChangeType();
                        }),
                        (i.play = function () {
                            this.masterPlaylistController_.play();
                        }),
                        (i.setCurrentTime = function (e) {
                            this.masterPlaylistController_.setCurrentTime(e);
                        }),
                        (i.duration = function () {
                            return this.masterPlaylistController_.duration();
                        }),
                        (i.seekable = function () {
                            return this.masterPlaylistController_.seekable();
                        }),
                        (i.dispose = function () {
                            this.playbackWatcher_ && this.playbackWatcher_.dispose(),
                                this.masterPlaylistController_ && this.masterPlaylistController_.dispose(),
                                this.qualityLevels_ && this.qualityLevels_.dispose(),
                                this.player_ && (delete this.player_.vhs, delete this.player_.dash, delete this.player_.hls),
                                this.tech_ && this.tech_.vhs && delete this.tech_.vhs,
                                this.tech_ && delete this.tech_.hls,
                                this.mediaSourceUrl_ && r.a.URL.revokeObjectURL && (r.a.URL.revokeObjectURL(this.mediaSourceUrl_), (this.mediaSourceUrl_ = null)),
                                e.prototype.dispose.call(this);
                        }),
                        (i.convertToProgramTime = function (e, t) {
                            return ja({ playlist: this.masterPlaylistController_.media(), time: e, callback: t });
                        }),
                        (i.seekToProgramTime = function (e, t, i, n) {
                            return (
                                void 0 === i && (i = !0),
                                void 0 === n && (n = 2),
                                Ba({ programTime: e, playlist: this.masterPlaylistController_.media(), retryCount: n, pauseAfterSeek: i, seekTo: this.options_.seekTo, tech: this.options_.tech, callback: t })
                            );
                        }),
                        t
                    );
                })(qs.getComponent("Component")),
                ql = {
                    name: "videojs-http-streaming",
                    VERSION: Ml,
                    canHandleSource: function (e, t) {
                        void 0 === t && (t = {});
                        var i = qs.mergeOptions(qs.options, t);
                        return ql.canPlayType(e.type, i);
                    },
                    handleSource: function (e, t, i) {
                        void 0 === i && (i = {});
                        var n = qs.mergeOptions(qs.options, i);
                        return (
                            (t.vhs = new Hl(e, t, n)),
                            qs.hasOwnProperty("hls") ||
                                Object.defineProperty(t, "hls", {
                                    get: function () {
                                        return qs.log.warn("player.tech().hls is deprecated. Use player.tech().vhs instead."), t.vhs;
                                    },
                                    configurable: !0,
                                }),
                            (t.vhs.xhr = Aa()),
                            t.vhs.src(e.src, e.type),
                            t.vhs
                        );
                    },
                    canPlayType: function (e, t) {
                        void 0 === t && (t = {});
                        var i = qs.mergeOptions(qs.options, t).vhs.overrideNative,
                            n = void 0 === i ? !qs.browser.IS_ANY_SAFARI : i,
                            r = Object(M.simpleTypeFromSourceType)(e);
                        return r && (!Nl.supportsTypeNatively(r) || n) ? "maybe" : "";
                    },
                };
            Object(De.browserSupportsCodec)("avc1.4d400d,mp4a.40.2") && qs.getTech("Html5").registerSourceHandler(ql, 0),
                (qs.VhsHandler = Hl),
                Object.defineProperty(qs, "HlsHandler", {
                    get: function () {
                        return qs.log.warn("videojs.HlsHandler is deprecated. Use videojs.VhsHandler instead."), Hl;
                    },
                    configurable: !0,
                }),
                (qs.VhsSourceHandler = ql),
                Object.defineProperty(qs, "HlsSourceHandler", {
                    get: function () {
                        return qs.log.warn("videojs.HlsSourceHandler is deprecated. Use videojs.VhsSourceHandler instead."), ql;
                    },
                    configurable: !0,
                }),
                (qs.Vhs = Nl),
                Object.defineProperty(qs, "Hls", {
                    get: function () {
                        return qs.log.warn("videojs.Hls is deprecated. Use videojs.Vhs instead."), Nl;
                    },
                    configurable: !0,
                }),
                qs.use || (qs.registerComponent("Hls", Nl), qs.registerComponent("Vhs", Nl)),
                (qs.options.vhs = qs.options.vhs || {}),
                (qs.options.hls = qs.options.hls || {}),
                qs.registerPlugin ? qs.registerPlugin("reloadSourceOnError", Rl) : qs.plugin("reloadSourceOnError", Rl);
            t.default = qs;
        },
    ]),
]);